const a0_0x4ecc=['exports','publish','publishTopic','MQTT\x20Error','config','./abstract.js','client','stringify','apply','addPublisher','MESSAGE:\x20','mqtt','clientId','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','subscribe','constructor','message','return\x20/\x22\x20+\x20this\x20+\x20\x22/','parse','TOPIC:\x20','connect','log','Constructor\x20MQTT\x20-\x20client\x20id:\x20','StreamFusion\x20MQTT\x20listener:\x20','topic','addListener'];(function(_0x1d178f,_0x4ecc50){const _0x3eab28=function(_0x668491){while(--_0x668491){_0x1d178f['push'](_0x1d178f['shift']());}},_0x110643=function(){const _0xdfd690={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xf787bb,_0x16fbd4,_0x44b66b,_0x21d471){_0x21d471=_0x21d471||{};let _0x3939f4=_0x16fbd4+'='+_0x44b66b,_0x5f0d57=0x0;for(let _0x6f70ca=0x0,_0x28195e=_0xf787bb['length'];_0x6f70ca<_0x28195e;_0x6f70ca++){const _0xb98d9d=_0xf787bb[_0x6f70ca];_0x3939f4+=';\x20'+_0xb98d9d;const _0x4f24f8=_0xf787bb[_0xb98d9d];_0xf787bb['push'](_0x4f24f8),_0x28195e=_0xf787bb['length'],_0x4f24f8!==!![]&&(_0x3939f4+='='+_0x4f24f8);}_0x21d471['cookie']=_0x3939f4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2b992f,_0x7476f1){_0x2b992f=_0x2b992f||function(_0x24d14e){return _0x24d14e;};const _0x5ce710=_0x2b992f(new RegExp('(?:^|;\x20)'+_0x7476f1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1bb42d=function(_0x37074a,_0x57897a){_0x37074a(++_0x57897a);};return _0x1bb42d(_0x3eab28,_0x4ecc50),_0x5ce710?decodeURIComponent(_0x5ce710[0x1]):undefined;}},_0x5e9b0e=function(){const _0x15035c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x15035c['test'](_0xdfd690['removeCookie']['toString']());};_0xdfd690['updateCookie']=_0x5e9b0e;let _0x50cc02='';const _0x115a3d=_0xdfd690['updateCookie']();if(!_0x115a3d)_0xdfd690['setCookie'](['*'],'counter',0x1);else _0x115a3d?_0x50cc02=_0xdfd690['getCookie'](null,'counter'):_0xdfd690['removeCookie']();};_0x110643();}(a0_0x4ecc,0x6b));const a0_0x3eab=function(_0x1d178f,_0x4ecc50){_0x1d178f=_0x1d178f-0x0;let _0x3eab28=a0_0x4ecc[_0x1d178f];return _0x3eab28;};const a0_0x44b66b=function(){let _0x225e75=!![];return function(_0x3b0a6c,_0x297a0c){const _0x57b943=_0x225e75?function(){if(_0x297a0c){const _0x415f60=_0x297a0c[a0_0x3eab('0x5')](_0x3b0a6c,arguments);return _0x297a0c=null,_0x415f60;}}:function(){};return _0x225e75=![],_0x57b943;};}(),a0_0x16fbd4=a0_0x44b66b(this,function(){const _0x4a45d2=function(){const _0x5a269d=_0x4a45d2['constructor'](a0_0x3eab('0xe'))()[a0_0x3eab('0xc')](a0_0x3eab('0xa'));return!_0x5a269d['test'](a0_0x16fbd4);};return _0x4a45d2();});a0_0x16fbd4();let Broker=require(a0_0x3eab('0x2'));const mqtt=require(a0_0x3eab('0x8'));class MQTTBroker extends Broker{constructor(_0x25906f,_0x15b908,_0x110313){console['log'](a0_0x3eab('0x13')+_0x25906f[a0_0x3eab('0x9')],_0x110313),super(_0x25906f,_0x15b908,_0x110313),this[a0_0x3eab('0x1')]['clientId']=this[a0_0x3eab('0x1')][a0_0x3eab('0x9')]+_0x110313,this[a0_0x3eab('0x3')]=mqtt[a0_0x3eab('0x11')](this[a0_0x3eab('0x1')]['mqttEndpoint'],this[a0_0x3eab('0x1')]),this[a0_0x3eab('0x3')]['on']('error',function(_0x5734ca){console[a0_0x3eab('0x12')](a0_0x3eab('0x0'),_0x5734ca);});}[a0_0x3eab('0x6')](){console[a0_0x3eab('0x12')]('StreamFusion\x20MQTT\x20producer:\x20'+this[a0_0x3eab('0x15')]),this[a0_0x3eab('0x19')]=this['topic'];}[a0_0x3eab('0x16')](_0x3ed5ae){console[a0_0x3eab('0x12')](a0_0x3eab('0x14')+this[a0_0x3eab('0x15')]),this[a0_0x3eab('0x3')][a0_0x3eab('0xb')](this[a0_0x3eab('0x15')],{'qos':0x2}),this[a0_0x3eab('0x3')]['on'](a0_0x3eab('0xd'),function(_0x10f33f,_0x524fc4){try{_0x3ed5ae(JSON[a0_0x3eab('0xf')](_0x524fc4));}catch(_0x62ad35){console[a0_0x3eab('0x12')](_0x62ad35);}});}[a0_0x3eab('0x18')](_0x527f92){console[a0_0x3eab('0x12')](a0_0x3eab('0x10'),this[a0_0x3eab('0x19')],a0_0x3eab('0x7'),_0x527f92),this[a0_0x3eab('0x3')][a0_0x3eab('0x18')](this[a0_0x3eab('0x19')],JSON[a0_0x3eab('0x4')](_0x527f92));}}module[a0_0x3eab('0x17')]=MQTTBroker;