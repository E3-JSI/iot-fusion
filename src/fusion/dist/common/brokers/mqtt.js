const a0_0x1733=['stringify','publishTopic','mqttEndpoint','publish','config','addListener','clientId','client','log','error','parse','mqtt','StreamFusion\x20MQTT\x20listener:\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Constructor\x20MQTT\x20-\x20client\x20id:\x20','message','addPublisher','topic','StreamFusion\x20MQTT\x20producer:\x20','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','apply'];(function(_0x59e09c,_0x1733c7){const _0xf50608=function(_0x33f4f5){while(--_0x33f4f5){_0x59e09c['push'](_0x59e09c['shift']());}},_0x3f0611=function(){const _0x15aa03={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5ac6b3,_0x3dc8f4,_0x405208,_0x416fd5){_0x416fd5=_0x416fd5||{};let _0x182b40=_0x3dc8f4+'='+_0x405208,_0x56f623=0x0;for(let _0x352ed1=0x0,_0x59e45f=_0x5ac6b3['length'];_0x352ed1<_0x59e45f;_0x352ed1++){const _0x3d0d8a=_0x5ac6b3[_0x352ed1];_0x182b40+=';\x20'+_0x3d0d8a;const _0x533a3e=_0x5ac6b3[_0x3d0d8a];_0x5ac6b3['push'](_0x533a3e),_0x59e45f=_0x5ac6b3['length'],_0x533a3e!==!![]&&(_0x182b40+='='+_0x533a3e);}_0x416fd5['cookie']=_0x182b40;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4c7889,_0x284f59){_0x4c7889=_0x4c7889||function(_0x3c8d68){return _0x3c8d68;};const _0x365acd=_0x4c7889(new RegExp('(?:^|;\x20)'+_0x284f59['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2b53da=function(_0x2c6e8f,_0x556e4e){_0x2c6e8f(++_0x556e4e);};return _0x2b53da(_0xf50608,_0x1733c7),_0x365acd?decodeURIComponent(_0x365acd[0x1]):undefined;}},_0x962ebf=function(){const _0x5bff97=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5bff97['test'](_0x15aa03['removeCookie']['toString']());};_0x15aa03['updateCookie']=_0x962ebf;let _0x1fc3c9='';const _0x18a018=_0x15aa03['updateCookie']();if(!_0x18a018)_0x15aa03['setCookie'](['*'],'counter',0x1);else _0x18a018?_0x1fc3c9=_0x15aa03['getCookie'](null,'counter'):_0x15aa03['removeCookie']();};_0x3f0611();}(a0_0x1733,0x1dd));const a0_0xf506=function(_0x59e09c,_0x1733c7){_0x59e09c=_0x59e09c-0x0;let _0xf50608=a0_0x1733[_0x59e09c];return _0xf50608;};const a0_0x405208=function(){let _0x2caa86=!![];return function(_0x259d26,_0x4dbf19){const _0x4a142e=_0x2caa86?function(){if(_0x4dbf19){const _0x27d7b5=_0x4dbf19[a0_0xf506('0x5')](_0x259d26,arguments);return _0x4dbf19=null,_0x27d7b5;}}:function(){};return _0x2caa86=![],_0x4a142e;};}(),a0_0x3dc8f4=a0_0x405208(this,function(){const _0x26a9c6=function(){const _0x5dba51=_0x26a9c6['constructor'](a0_0xf506('0x13'))()['constructor'](a0_0xf506('0x4'));return!_0x5dba51['test'](a0_0x3dc8f4);};return _0x26a9c6();});a0_0x3dc8f4();let Broker=require('./abstract.js');const mqtt=require(a0_0xf506('0x11'));class MQTTBroker extends Broker{constructor(_0x52edb3,_0x3da3da,_0x4f6cf3){console[a0_0xf506('0xe')](a0_0xf506('0x14')+_0x52edb3[a0_0xf506('0xc')],_0x4f6cf3),super(_0x52edb3,_0x3da3da,_0x4f6cf3),this[a0_0xf506('0xa')]['clientId']=this['config'][a0_0xf506('0xc')]+_0x4f6cf3,this[a0_0xf506('0xd')]=mqtt['connect'](this['config'][a0_0xf506('0x8')],this['config']),this[a0_0xf506('0xd')]['on'](a0_0xf506('0xf'),function(_0x21b0a7){console[a0_0xf506('0xe')]('MQTT\x20Error',_0x21b0a7);});}[a0_0xf506('0x1')](){console['log'](a0_0xf506('0x3')+this[a0_0xf506('0x2')]),this[a0_0xf506('0x7')]=this[a0_0xf506('0x2')];}[a0_0xf506('0xb')](_0x3115cb){console['log'](a0_0xf506('0x12')+this[a0_0xf506('0x2')]),this['client']['subscribe'](this[a0_0xf506('0x2')],{'qos':0x2}),this[a0_0xf506('0xd')]['on'](a0_0xf506('0x0'),function(_0x23bc2b,_0x7555b4){try{_0x3115cb(JSON[a0_0xf506('0x10')](_0x7555b4));}catch(_0x46c441){console[a0_0xf506('0xe')](_0x46c441);}});}['publish'](_0x2e0a4d){console[a0_0xf506('0xe')]('TOPIC:\x20',this[a0_0xf506('0x7')],'MESSAGE:\x20',_0x2e0a4d),this['client'][a0_0xf506('0x9')](this[a0_0xf506('0x7')],JSON[a0_0xf506('0x6')](_0x2e0a4d));}}module['exports']=MQTTBroker;