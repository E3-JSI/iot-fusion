const a0_0xad69=['addPublisher','stringify','clientId','log','publishTopic','addListener','client','./abstract.js','StreamFusion\x20MQTT\x20listener:\x20','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','StreamFusion\x20MQTT\x20producer:\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','config','subscribe','Constructor\x20MQTT\x20-\x20client\x20id:\x20','constructor','MQTT\x20Error','publish','exports','connect','topic','MESSAGE:\x20','parse'];(function(_0x238885,_0xad692){const _0xca0678=function(_0x5e70b1){while(--_0x5e70b1){_0x238885['push'](_0x238885['shift']());}},_0x43ded5=function(){const _0x333873={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x364301,_0x29aff7,_0x56a21c,_0x453063){_0x453063=_0x453063||{};let _0x4ed373=_0x29aff7+'='+_0x56a21c,_0x4834c3=0x0;for(let _0x3ccd2a=0x0,_0x3de51b=_0x364301['length'];_0x3ccd2a<_0x3de51b;_0x3ccd2a++){const _0x45b215=_0x364301[_0x3ccd2a];_0x4ed373+=';\x20'+_0x45b215;const _0x580b47=_0x364301[_0x45b215];_0x364301['push'](_0x580b47),_0x3de51b=_0x364301['length'],_0x580b47!==!![]&&(_0x4ed373+='='+_0x580b47);}_0x453063['cookie']=_0x4ed373;},'removeCookie':function(){return'dev';},'getCookie':function(_0x291421,_0x51ff09){_0x291421=_0x291421||function(_0x3311b4){return _0x3311b4;};const _0x9ce1ee=_0x291421(new RegExp('(?:^|;\x20)'+_0x51ff09['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2a9306=function(_0x3b854f,_0x48a37e){_0x3b854f(++_0x48a37e);};return _0x2a9306(_0xca0678,_0xad692),_0x9ce1ee?decodeURIComponent(_0x9ce1ee[0x1]):undefined;}},_0x208e24=function(){const _0x89b2ee=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x89b2ee['test'](_0x333873['removeCookie']['toString']());};_0x333873['updateCookie']=_0x208e24;let _0x5787c1='';const _0x1d1026=_0x333873['updateCookie']();if(!_0x1d1026)_0x333873['setCookie'](['*'],'counter',0x1);else _0x1d1026?_0x5787c1=_0x333873['getCookie'](null,'counter'):_0x333873['removeCookie']();};_0x43ded5();}(a0_0xad69,0xf9));const a0_0xca06=function(_0x238885,_0xad692){_0x238885=_0x238885-0x0;let _0xca0678=a0_0xad69[_0x238885];return _0xca0678;};const a0_0x56a21c=function(){let _0x17f8c0=!![];return function(_0x39f61a,_0x1a9331){const _0x580a43=_0x17f8c0?function(){if(_0x1a9331){const _0x4afb69=_0x1a9331['apply'](_0x39f61a,arguments);return _0x1a9331=null,_0x4afb69;}}:function(){};return _0x17f8c0=![],_0x580a43;};}(),a0_0x29aff7=a0_0x56a21c(this,function(){const _0x6dc1f7=function(){const _0x15a1a7=_0x6dc1f7['constructor'](a0_0xca06('0xf'))()[a0_0xca06('0x13')](a0_0xca06('0xd'));return!_0x15a1a7['test'](a0_0x29aff7);};return _0x6dc1f7();});a0_0x29aff7();let Broker=require(a0_0xca06('0xb'));const mqtt=require('mqtt');class MQTTBroker extends Broker{constructor(_0x279da0,_0x25500e,_0x5516b4){console[a0_0xca06('0x7')](a0_0xca06('0x12')+_0x279da0[a0_0xca06('0x6')],_0x5516b4),super(_0x279da0,_0x25500e,_0x5516b4),this[a0_0xca06('0x10')]['clientId']=this[a0_0xca06('0x10')][a0_0xca06('0x6')]+_0x5516b4,this[a0_0xca06('0xa')]=mqtt[a0_0xca06('0x0')](this[a0_0xca06('0x10')]['mqttEndpoint'],this['config']),this[a0_0xca06('0xa')]['on']('error',function(_0xea2da){console[a0_0xca06('0x7')](a0_0xca06('0x14'),_0xea2da);});}[a0_0xca06('0x4')](){console[a0_0xca06('0x7')](a0_0xca06('0xe')+this['topic']),this[a0_0xca06('0x8')]=this[a0_0xca06('0x1')];}[a0_0xca06('0x9')](_0x50298e){console[a0_0xca06('0x7')](a0_0xca06('0xc')+this[a0_0xca06('0x1')]),this[a0_0xca06('0xa')][a0_0xca06('0x11')](this[a0_0xca06('0x1')],{'qos':0x2}),this[a0_0xca06('0xa')]['on']('message',function(_0x15f266,_0x564875){try{_0x50298e(JSON[a0_0xca06('0x3')](_0x564875));}catch(_0x1bc1c1){console[a0_0xca06('0x7')](_0x1bc1c1);}});}[a0_0xca06('0x15')](_0x3c7022){console[a0_0xca06('0x7')]('TOPIC:\x20',this[a0_0xca06('0x8')],a0_0xca06('0x2'),_0x3c7022),this[a0_0xca06('0xa')][a0_0xca06('0x15')](this['publishTopic'],JSON[a0_0xca06('0x5')](_0x3c7022));}}module[a0_0xca06('0x16')]=MQTTBroker;