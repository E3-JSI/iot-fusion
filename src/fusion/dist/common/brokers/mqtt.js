const a0_0x1013=['config','addPublisher','StreamFusion\x20MQTT\x20listener:\x20','addListener','apply','Constructor\x20MQTT\x20-\x20client\x20id:\x20','topic','mqtt','error','subscribe','exports','parse','constructor','StreamFusion\x20MQTT\x20producer:\x20','clientId','publishTopic','MQTT\x20Error','log','publish','./abstract.js','client','message','test','mqttEndpoint','return\x20/\x22\x20+\x20this\x20+\x20\x22/'];(function(_0x59b24e,_0x10131c){const _0x1ff6ea=function(_0x1053fc){while(--_0x1053fc){_0x59b24e['push'](_0x59b24e['shift']());}},_0x2a0d88=function(){const _0xb5e2f8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x556ca7,_0x184a92,_0x1c0275,_0xa121e8){_0xa121e8=_0xa121e8||{};let _0x1447dc=_0x184a92+'='+_0x1c0275,_0x2b6e44=0x0;for(let _0xd59ea0=0x0,_0xbb4fa=_0x556ca7['length'];_0xd59ea0<_0xbb4fa;_0xd59ea0++){const _0x4ceb49=_0x556ca7[_0xd59ea0];_0x1447dc+=';\x20'+_0x4ceb49;const _0x307a2a=_0x556ca7[_0x4ceb49];_0x556ca7['push'](_0x307a2a),_0xbb4fa=_0x556ca7['length'],_0x307a2a!==!![]&&(_0x1447dc+='='+_0x307a2a);}_0xa121e8['cookie']=_0x1447dc;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2770d1,_0x3f193f){_0x2770d1=_0x2770d1||function(_0x3d143b){return _0x3d143b;};const _0x2381a1=_0x2770d1(new RegExp('(?:^|;\x20)'+_0x3f193f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x27c9c1=function(_0x5617f1,_0x9de7eb){_0x5617f1(++_0x9de7eb);};return _0x27c9c1(_0x1ff6ea,_0x10131c),_0x2381a1?decodeURIComponent(_0x2381a1[0x1]):undefined;}},_0x252dec=function(){const _0x4b91e9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4b91e9['test'](_0xb5e2f8['removeCookie']['toString']());};_0xb5e2f8['updateCookie']=_0x252dec;let _0x485eec='';const _0x5af628=_0xb5e2f8['updateCookie']();if(!_0x5af628)_0xb5e2f8['setCookie'](['*'],'counter',0x1);else _0x5af628?_0x485eec=_0xb5e2f8['getCookie'](null,'counter'):_0xb5e2f8['removeCookie']();};_0x2a0d88();}(a0_0x1013,0x1dd));const a0_0x1ff6=function(_0x59b24e,_0x10131c){_0x59b24e=_0x59b24e-0x0;let _0x1ff6ea=a0_0x1013[_0x59b24e];return _0x1ff6ea;};const a0_0x1c0275=function(){let _0x221b85=!![];return function(_0x271898,_0x3da3dc){const _0x3a3b95=_0x221b85?function(){if(_0x3da3dc){const _0x4c3b2e=_0x3da3dc[a0_0x1ff6('0x2')](_0x271898,arguments);return _0x3da3dc=null,_0x4c3b2e;}}:function(){};return _0x221b85=![],_0x3a3b95;};}(),a0_0x184a92=a0_0x1c0275(this,function(){const _0x20d451=function(){const _0x221a81=_0x20d451[a0_0x1ff6('0xa')](a0_0x1ff6('0x16'))()[a0_0x1ff6('0xa')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x221a81[a0_0x1ff6('0x14')](a0_0x184a92);};return _0x20d451();});a0_0x184a92();let Broker=require(a0_0x1ff6('0x11'));const mqtt=require(a0_0x1ff6('0x5'));class MQTTBroker extends Broker{constructor(_0x1a22d7,_0x3f2efd,_0x5e9eca){console[a0_0x1ff6('0xf')](a0_0x1ff6('0x3')+_0x1a22d7[a0_0x1ff6('0xc')],_0x5e9eca),super(_0x1a22d7,_0x3f2efd,_0x5e9eca),this['config'][a0_0x1ff6('0xc')]=this['config'][a0_0x1ff6('0xc')]+_0x5e9eca,this['client']=mqtt['connect'](this[a0_0x1ff6('0x17')][a0_0x1ff6('0x15')],this[a0_0x1ff6('0x17')]),this['client']['on'](a0_0x1ff6('0x6'),function(_0x467e4f){console[a0_0x1ff6('0xf')](a0_0x1ff6('0xe'),_0x467e4f);});}[a0_0x1ff6('0x18')](){console[a0_0x1ff6('0xf')](a0_0x1ff6('0xb')+this[a0_0x1ff6('0x4')]),this[a0_0x1ff6('0xd')]=this[a0_0x1ff6('0x4')];}[a0_0x1ff6('0x1')](_0x3c541e){console[a0_0x1ff6('0xf')](a0_0x1ff6('0x0')+this['topic']),this[a0_0x1ff6('0x12')][a0_0x1ff6('0x7')](this[a0_0x1ff6('0x4')],{'qos':0x2}),this[a0_0x1ff6('0x12')]['on'](a0_0x1ff6('0x13'),function(_0x45cb99,_0x3e2761){try{_0x3c541e(JSON[a0_0x1ff6('0x9')](_0x3e2761));}catch(_0x1bb713){console['log'](_0x1bb713);}});}[a0_0x1ff6('0x10')](_0x1f69a4){console[a0_0x1ff6('0xf')]('TOPIC:\x20',this['publishTopic'],'MESSAGE:\x20',_0x1f69a4),this[a0_0x1ff6('0x12')]['publish'](this['publishTopic'],JSON['stringify'](_0x1f69a4));}}module[a0_0x1ff6('0x8')]=MQTTBroker;