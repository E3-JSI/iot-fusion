const a0_0x5303=['kafka','send','addListener','offset','Message\x20Error:\x20','addPublisher','config','message','error','parse','consumer','Offset','topic','client','exports','producer','Connecting\x20to\x20Kafka:\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','min','maxNum','constructor','fetch','StreamFusion\x20HLP\x20for\x20Kafka:\x20','log','Consumer','value','partition','Consumer\x20Error:\x20','setOffset','outOfRange','./abstract.js','Publish\x20to\x20Kafka:\x20(err)'];(function(_0x448757,_0x5303c9){const _0x254d59=function(_0x102481){while(--_0x102481){_0x448757['push'](_0x448757['shift']());}},_0x31c2fd=function(){const _0x14f870={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x122e91,_0x3f835c,_0x38dd03,_0x305a1b){_0x305a1b=_0x305a1b||{};let _0x4ba2ef=_0x3f835c+'='+_0x38dd03,_0x2192b2=0x0;for(let _0x8791ed=0x0,_0x468d8a=_0x122e91['length'];_0x8791ed<_0x468d8a;_0x8791ed++){const _0x5ba395=_0x122e91[_0x8791ed];_0x4ba2ef+=';\x20'+_0x5ba395;const _0x4ecd6c=_0x122e91[_0x5ba395];_0x122e91['push'](_0x4ecd6c),_0x468d8a=_0x122e91['length'],_0x4ecd6c!==!![]&&(_0x4ba2ef+='='+_0x4ecd6c);}_0x305a1b['cookie']=_0x4ba2ef;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2e7407,_0x47f9b4){_0x2e7407=_0x2e7407||function(_0x37431e){return _0x37431e;};const _0x888183=_0x2e7407(new RegExp('(?:^|;\x20)'+_0x47f9b4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3918e9=function(_0x5eb1ac,_0x53ba69){_0x5eb1ac(++_0x53ba69);};return _0x3918e9(_0x254d59,_0x5303c9),_0x888183?decodeURIComponent(_0x888183[0x1]):undefined;}},_0x487e3f=function(){const _0x4c7313=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4c7313['test'](_0x14f870['removeCookie']['toString']());};_0x14f870['updateCookie']=_0x487e3f;let _0x2200f6='';const _0x5245bf=_0x14f870['updateCookie']();if(!_0x5245bf)_0x14f870['setCookie'](['*'],'counter',0x1);else _0x5245bf?_0x2200f6=_0x14f870['getCookie'](null,'counter'):_0x14f870['removeCookie']();};_0x31c2fd();}(a0_0x5303,0x184));const a0_0x254d=function(_0x448757,_0x5303c9){_0x448757=_0x448757-0x0;let _0x254d59=a0_0x5303[_0x448757];return _0x254d59;};const a0_0x38dd03=function(){let _0x5b6531=!![];return function(_0x47c78a,_0x3e396e){const _0x5bfbeb=_0x5b6531?function(){if(_0x3e396e){const _0x3be4cd=_0x3e396e['apply'](_0x47c78a,arguments);return _0x3e396e=null,_0x3be4cd;}}:function(){};return _0x5b6531=![],_0x5bfbeb;};}(),a0_0x3f835c=a0_0x38dd03(this,function(){const _0x332bba=function(){const _0x28948c=_0x332bba[a0_0x254d('0x10')](a0_0x254d('0xd'))()[a0_0x254d('0x10')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x28948c['test'](a0_0x3f835c);};return _0x332bba();});a0_0x3f835c();let Broker=require(a0_0x254d('0x1a'));const kafka=require('kafka-node');class KafkaNodeBroker extends Broker{constructor(_0x3b6d78,_0x59990e,_0x345a90){super(_0x3b6d78,_0x59990e,_0x345a90);}[a0_0x254d('0x1')](){console[a0_0x254d('0x13')](a0_0x254d('0x12')+this['topic']);let _0x2e1d3f=kafka['HighLevelProducer'],_0x154b6e=new kafka['KafkaClient']({'kafkaHost':this[a0_0x254d('0x2')]['kafka']});this[a0_0x254d('0xb')]=new _0x2e1d3f(_0x154b6e);}[a0_0x254d('0x1e')](_0x2b9a65){console[a0_0x254d('0x13')](a0_0x254d('0xc')+this['topic']),this[a0_0x254d('0x14')]=kafka[a0_0x254d('0x14')],this[a0_0x254d('0x9')]=new kafka['KafkaClient']({'kafkaHost':this[a0_0x254d('0x2')][a0_0x254d('0x1c')]}),this[a0_0x254d('0x1f')]=new kafka[(a0_0x254d('0x7'))](this['client']);let _0x277cf6=this;this[a0_0x254d('0x6')]=new this[(a0_0x254d('0x14'))](this['client'],[{'topic':this[a0_0x254d('0x8')],'partition':0x0}],{'groupId':this['id']}),this[a0_0x254d('0x6')]['on'](a0_0x254d('0x3'),function(_0x2a7615){try{let _0x3f75d7=JSON[a0_0x254d('0x5')](_0x2a7615[a0_0x254d('0x15')]);_0x2b9a65(_0x3f75d7);}catch(_0x118fef){console[a0_0x254d('0x13')](a0_0x254d('0x0'),_0x118fef[a0_0x254d('0x3')]);}}),this['consumer']['on'](a0_0x254d('0x4'),function(_0x5674d3){console['log'](a0_0x254d('0x17'),_0x5674d3['message']);}),this[a0_0x254d('0x6')]['on']('offsetOutOfRange',function(_0x239f0c){console[a0_0x254d('0x13')](_0x277cf6['id'],a0_0x254d('0x19'),_0x239f0c),_0x239f0c[a0_0x254d('0xf')]=0x2,_0x277cf6['offset'][a0_0x254d('0x11')]([_0x239f0c],function(_0x377041,_0x1fc894){if(_0x377041)return console[a0_0x254d('0x4')](_0x377041);var _0x219495=Math[a0_0x254d('0xe')](_0x1fc894[_0x239f0c['topic']][_0x239f0c[a0_0x254d('0x16')]]);console[a0_0x254d('0x13')](_0x277cf6),_0x277cf6[a0_0x254d('0x6')][a0_0x254d('0x18')](_0x239f0c[a0_0x254d('0x8')],_0x239f0c[a0_0x254d('0x16')],_0x219495);});});}['publish'](_0x116c0a){this[a0_0x254d('0xb')][a0_0x254d('0x1d')]([{'topic':this[a0_0x254d('0x8')],'messages':_0x116c0a}],function(_0x288b4c,_0x35502a){console[a0_0x254d('0x13')](a0_0x254d('0x1b'),_0x288b4c,',\x20(data)',_0x35502a);});}}module[a0_0x254d('0xa')]=KafkaNodeBroker;