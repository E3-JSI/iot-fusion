var _0x823e=['fetch','partition','setOffset','publish','send','exports','./abstract.js','kafka-node','addPublisher','log','StreamFusion\x20HLP\x20for\x20Kafka:\x20','topic','KafkaClient','kafka','producer','addListener','Connecting\x20to\x20Kafka:\x20','Consumer','config','Offset','client','consumer','parse','value','Message\x20Error:\x20','message','error','Consumer\x20Error:\x20','offsetOutOfRange','outOfRange','maxNum','offset'];(function(_0x2a7543,_0x3096a2){var _0x1233f3=function(_0x460f15){while(--_0x460f15){_0x2a7543['push'](_0x2a7543['shift']());}};var _0x296807=function(){var _0xd66dcb={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1e618a,_0x5d9620,_0x231737,_0x43c472){_0x43c472=_0x43c472||{};var _0x2936f6=_0x5d9620+'='+_0x231737;var _0x255b47=0x0;for(var _0x255b47=0x0,_0x5cbf79=_0x1e618a['length'];_0x255b47<_0x5cbf79;_0x255b47++){var _0x18701e=_0x1e618a[_0x255b47];_0x2936f6+=';\x20'+_0x18701e;var _0x119553=_0x1e618a[_0x18701e];_0x1e618a['push'](_0x119553);_0x5cbf79=_0x1e618a['length'];if(_0x119553!==!![]){_0x2936f6+='='+_0x119553;}}_0x43c472['cookie']=_0x2936f6;},'removeCookie':function(){return'dev';},'getCookie':function(_0x36819f,_0x5a20b0){_0x36819f=_0x36819f||function(_0x5b533f){return _0x5b533f;};var _0x452d34=_0x36819f(new RegExp('(?:^|;\x20)'+_0x5a20b0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x52f404=function(_0x23224c,_0x2840c8){_0x23224c(++_0x2840c8);};_0x52f404(_0x1233f3,_0x3096a2);return _0x452d34?decodeURIComponent(_0x452d34[0x1]):undefined;}};var _0x36b787=function(){var _0x308786=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x308786['test'](_0xd66dcb['removeCookie']['toString']());};_0xd66dcb['updateCookie']=_0x36b787;var _0x3f77f0='';var _0x34568a=_0xd66dcb['updateCookie']();if(!_0x34568a){_0xd66dcb['setCookie'](['*'],'counter',0x1);}else if(_0x34568a){_0x3f77f0=_0xd66dcb['getCookie'](null,'counter');}else{_0xd66dcb['removeCookie']();}};_0x296807();}(_0x823e,0x186));var _0x5eb8=function(_0x407e65,_0x53e1fb){_0x407e65=_0x407e65-0x0;var _0xc51778=_0x823e[_0x407e65];return _0xc51778;};var _0xe177da=function(){var _0x577779=!![];return function(_0x219bc0,_0x10213a){var _0x14b188=_0x577779?function(){if(_0x10213a){var _0x4cc72d=_0x10213a['apply'](_0x219bc0,arguments);_0x10213a=null;return _0x4cc72d;}}:function(){};_0x577779=![];return _0x14b188;};}();var _0x10b208=_0xe177da(this,function(){var _0x596385=function(){return'\x64\x65\x76';},_0x249945=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x546e9b=function(){var _0x3a20db=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3a20db['\x74\x65\x73\x74'](_0x596385['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x164eb6=function(){var _0x54e54d=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x54e54d['\x74\x65\x73\x74'](_0x249945['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2b6e20=function(_0x24e0b2){var _0x26be0f=~-0x1>>0x1+0xff%0x0;if(_0x24e0b2['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x26be0f)){_0x3c1e72(_0x24e0b2);}};var _0x3c1e72=function(_0x39de33){var _0x186541=~-0x4>>0x1+0xff%0x0;if(_0x39de33['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x186541){_0x2b6e20(_0x39de33);}};if(!_0x546e9b()){if(!_0x164eb6()){_0x2b6e20('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2b6e20('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2b6e20('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x10b208();let Broker=require(_0x5eb8('0x0'));const kafka=require(_0x5eb8('0x1'));class KafkaNodeBroker extends Broker{constructor(_0x3d3ca6,_0x1566da,_0x1b035a){super(_0x3d3ca6,_0x1566da,_0x1b035a);}[_0x5eb8('0x2')](){console[_0x5eb8('0x3')](_0x5eb8('0x4')+this[_0x5eb8('0x5')]);let _0xfa5a7f=kafka['HighLevelProducer'];let _0x10ad8d=new kafka[(_0x5eb8('0x6'))]({'kafkaHost':this['config'][_0x5eb8('0x7')]});this[_0x5eb8('0x8')]=new _0xfa5a7f(_0x10ad8d);}[_0x5eb8('0x9')](_0x32e75a){console['log'](_0x5eb8('0xa')+this[_0x5eb8('0x5')]);this['Consumer']=kafka[_0x5eb8('0xb')];this['client']=new kafka[(_0x5eb8('0x6'))]({'kafkaHost':this[_0x5eb8('0xc')]['kafka']});this['offset']=new kafka[(_0x5eb8('0xd'))](this[_0x5eb8('0xe')]);let _0x52afb2=this;this[_0x5eb8('0xf')]=new this[(_0x5eb8('0xb'))](this['client'],[{'topic':this[_0x5eb8('0x5')],'partition':0x0}],{'groupId':this['id']});this[_0x5eb8('0xf')]['on']('message',function(_0x4c55e9){try{let _0x38e106=JSON[_0x5eb8('0x10')](_0x4c55e9[_0x5eb8('0x11')]);_0x32e75a(_0x38e106);}catch(_0x4b72b0){console[_0x5eb8('0x3')](_0x5eb8('0x12'),_0x4b72b0[_0x5eb8('0x13')]);}});this[_0x5eb8('0xf')]['on'](_0x5eb8('0x14'),function(_0x1ea48){console['log'](_0x5eb8('0x15'),_0x1ea48[_0x5eb8('0x13')]);});this[_0x5eb8('0xf')]['on'](_0x5eb8('0x16'),function(_0x418ca5){console[_0x5eb8('0x3')](_0x52afb2['id'],_0x5eb8('0x17'),_0x418ca5);_0x418ca5[_0x5eb8('0x18')]=0x2;_0x52afb2[_0x5eb8('0x19')][_0x5eb8('0x1a')]([_0x418ca5],function(_0x4bb57e,_0x2b0d73){if(_0x4bb57e){return console[_0x5eb8('0x14')](_0x4bb57e);}var _0x1ee5ac=Math['min'](_0x2b0d73[_0x418ca5[_0x5eb8('0x5')]][_0x418ca5[_0x5eb8('0x1b')]]);console[_0x5eb8('0x3')](_0x52afb2);_0x52afb2[_0x5eb8('0xf')][_0x5eb8('0x1c')](_0x418ca5[_0x5eb8('0x5')],_0x418ca5[_0x5eb8('0x1b')],_0x1ee5ac);});});}[_0x5eb8('0x1d')](_0x2c7cd5){this[_0x5eb8('0x8')][_0x5eb8('0x1e')]([{'topic':this[_0x5eb8('0x5')],'messages':_0x2c7cd5}],function(_0x54f8b9,_0x1115ad){console[_0x5eb8('0x3')]('Publish\x20to\x20Kafka:\x20(err)',_0x54f8b9,',\x20(data)',_0x1115ad);});}}module[_0x5eb8('0x1f')]=KafkaNodeBroker;