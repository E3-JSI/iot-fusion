const a0_0x4ebf=['apply','config','consumer','setOffset','parse','exports','Offset','./abstract.js','offsetOutOfRange','error','kafka','Publish\x20to\x20Kafka:\x20(err)','maxNum','partition','topic',',\x20(data)','fetch','offset','client','Connecting\x20to\x20Kafka:\x20','outOfRange','addListener','log','publish','test','Consumer\x20Error:\x20','message','Consumer','constructor','kafka-node','value','producer','Message\x20Error:\x20'];(function(_0x28f01c,_0x4ebf6e){const _0x1fc9b6=function(_0x4cf33c){while(--_0x4cf33c){_0x28f01c['push'](_0x28f01c['shift']());}},_0x4b223c=function(){const _0x93fcd7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x25a51a,_0x149979,_0x558bc3,_0x23b773){_0x23b773=_0x23b773||{};let _0x3b210c=_0x149979+'='+_0x558bc3,_0x31d0d2=0x0;for(let _0x570a03=0x0,_0x4b26b6=_0x25a51a['length'];_0x570a03<_0x4b26b6;_0x570a03++){const _0x54aed0=_0x25a51a[_0x570a03];_0x3b210c+=';\x20'+_0x54aed0;const _0x25e210=_0x25a51a[_0x54aed0];_0x25a51a['push'](_0x25e210),_0x4b26b6=_0x25a51a['length'],_0x25e210!==!![]&&(_0x3b210c+='='+_0x25e210);}_0x23b773['cookie']=_0x3b210c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x30bcfb,_0x26bf5b){_0x30bcfb=_0x30bcfb||function(_0x4f2a32){return _0x4f2a32;};const _0x5c47cd=_0x30bcfb(new RegExp('(?:^|;\x20)'+_0x26bf5b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x28f25d=function(_0x914dff,_0x4dbc50){_0x914dff(++_0x4dbc50);};return _0x28f25d(_0x1fc9b6,_0x4ebf6e),_0x5c47cd?decodeURIComponent(_0x5c47cd[0x1]):undefined;}},_0x4045cb=function(){const _0x4a9991=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4a9991['test'](_0x93fcd7['removeCookie']['toString']());};_0x93fcd7['updateCookie']=_0x4045cb;let _0x112d54='';const _0x4d4636=_0x93fcd7['updateCookie']();if(!_0x4d4636)_0x93fcd7['setCookie'](['*'],'counter',0x1);else _0x4d4636?_0x112d54=_0x93fcd7['getCookie'](null,'counter'):_0x93fcd7['removeCookie']();};_0x4b223c();}(a0_0x4ebf,0x110));const a0_0x1fc9=function(_0x28f01c,_0x4ebf6e){_0x28f01c=_0x28f01c-0x0;let _0x1fc9b6=a0_0x4ebf[_0x28f01c];return _0x1fc9b6;};const a0_0x558bc3=function(){let _0x39a0db=!![];return function(_0x5b8048,_0x2b7107){const _0x2a1a71=_0x39a0db?function(){if(_0x2b7107){const _0x57b1ba=_0x2b7107[a0_0x1fc9('0x19')](_0x5b8048,arguments);return _0x2b7107=null,_0x57b1ba;}}:function(){};return _0x39a0db=![],_0x2a1a71;};}(),a0_0x149979=a0_0x558bc3(this,function(){const _0x122cdd=function(){const _0x5ef84d=_0x122cdd[a0_0x1fc9('0x14')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5ef84d[a0_0x1fc9('0x10')](a0_0x149979);};return _0x122cdd();});a0_0x149979();let Broker=require(a0_0x1fc9('0x20'));const kafka=require(a0_0x1fc9('0x15'));class KafkaNodeBroker extends Broker{constructor(_0x107ad5,_0x15f530,_0x296a9f){super(_0x107ad5,_0x15f530,_0x296a9f);}['addPublisher'](){console[a0_0x1fc9('0xe')]('StreamFusion\x20HLP\x20for\x20Kafka:\x20'+this[a0_0x1fc9('0x6')]);let _0x431b6e=kafka['HighLevelProducer'],_0x258373=new kafka['KafkaClient']({'kafkaHost':this[a0_0x1fc9('0x1a')][a0_0x1fc9('0x2')]});this[a0_0x1fc9('0x17')]=new _0x431b6e(_0x258373);}[a0_0x1fc9('0xd')](_0x1ec8f){console[a0_0x1fc9('0xe')](a0_0x1fc9('0xb')+this[a0_0x1fc9('0x6')]),this[a0_0x1fc9('0x13')]=kafka[a0_0x1fc9('0x13')],this[a0_0x1fc9('0xa')]=new kafka['KafkaClient']({'kafkaHost':this[a0_0x1fc9('0x1a')][a0_0x1fc9('0x2')]}),this[a0_0x1fc9('0x9')]=new kafka[(a0_0x1fc9('0x1f'))](this[a0_0x1fc9('0xa')]);let _0x497950=this;this[a0_0x1fc9('0x1b')]=new this[(a0_0x1fc9('0x13'))](this[a0_0x1fc9('0xa')],[{'topic':this['topic'],'partition':0x0}],{'groupId':this['id']}),this[a0_0x1fc9('0x1b')]['on'](a0_0x1fc9('0x12'),function(_0x583655){try{let _0x3f7e55=JSON[a0_0x1fc9('0x1d')](_0x583655[a0_0x1fc9('0x16')]);_0x1ec8f(_0x3f7e55);}catch(_0x7c0003){console[a0_0x1fc9('0xe')](a0_0x1fc9('0x18'),_0x7c0003[a0_0x1fc9('0x12')]);}}),this[a0_0x1fc9('0x1b')]['on'](a0_0x1fc9('0x1'),function(_0x394d77){console['log'](a0_0x1fc9('0x11'),_0x394d77['message']);}),this[a0_0x1fc9('0x1b')]['on'](a0_0x1fc9('0x0'),function(_0x21f40b){console[a0_0x1fc9('0xe')](_0x497950['id'],a0_0x1fc9('0xc'),_0x21f40b),_0x21f40b[a0_0x1fc9('0x4')]=0x2,_0x497950[a0_0x1fc9('0x9')][a0_0x1fc9('0x8')]([_0x21f40b],function(_0x4e85e1,_0x37bde5){if(_0x4e85e1)return console[a0_0x1fc9('0x1')](_0x4e85e1);var _0xc2a3cd=Math['min'](_0x37bde5[_0x21f40b[a0_0x1fc9('0x6')]][_0x21f40b[a0_0x1fc9('0x5')]]);console[a0_0x1fc9('0xe')](_0x497950),_0x497950[a0_0x1fc9('0x1b')][a0_0x1fc9('0x1c')](_0x21f40b[a0_0x1fc9('0x6')],_0x21f40b[a0_0x1fc9('0x5')],_0xc2a3cd);});});}[a0_0x1fc9('0xf')](_0x58a924){this[a0_0x1fc9('0x17')]['send']([{'topic':this[a0_0x1fc9('0x6')],'messages':_0x58a924}],function(_0x5462fb,_0x3296f4){console[a0_0x1fc9('0xe')](a0_0x1fc9('0x3'),_0x5462fb,a0_0x1fc9('0x7'),_0x3296f4);});}}module[a0_0x1fc9('0x1e')]=KafkaNodeBroker;