var _0x1ff8=['Message\x20Error:\x20','error','message','offsetOutOfRange','outOfRange','setOffset','partition','publish','Publish\x20to\x20Kafka:\x20(err)',',\x20(data)','exports','./abstract.js','kafka-node','addPublisher','log','topic','HighLevelProducer','config','kafka','producer','addListener','Connecting\x20to\x20Kafka:\x20','client','offset','Offset','consumer','Consumer','parse','value'];(function(_0x2cebe2,_0x502235){var _0x206f59=function(_0x443f09){while(--_0x443f09){_0x2cebe2['push'](_0x2cebe2['shift']());}};var _0x5f3a71=function(){var _0x45e397={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4554dc,_0x348f64,_0x3de111,_0x51e95c){_0x51e95c=_0x51e95c||{};var _0xe60e33=_0x348f64+'='+_0x3de111;var _0x407c84=0x0;for(var _0x407c84=0x0,_0x212164=_0x4554dc['length'];_0x407c84<_0x212164;_0x407c84++){var _0x17e851=_0x4554dc[_0x407c84];_0xe60e33+=';\x20'+_0x17e851;var _0x33411b=_0x4554dc[_0x17e851];_0x4554dc['push'](_0x33411b);_0x212164=_0x4554dc['length'];if(_0x33411b!==!![]){_0xe60e33+='='+_0x33411b;}}_0x51e95c['cookie']=_0xe60e33;},'removeCookie':function(){return'dev';},'getCookie':function(_0x390858,_0x415132){_0x390858=_0x390858||function(_0x38b98b){return _0x38b98b;};var _0x5afc0d=_0x390858(new RegExp('(?:^|;\x20)'+_0x415132['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x18eded=function(_0x35d5ed,_0x3c9a81){_0x35d5ed(++_0x3c9a81);};_0x18eded(_0x206f59,_0x502235);return _0x5afc0d?decodeURIComponent(_0x5afc0d[0x1]):undefined;}};var _0xc33334=function(){var _0x410e9e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x410e9e['test'](_0x45e397['removeCookie']['toString']());};_0x45e397['updateCookie']=_0xc33334;var _0x4bfbb2='';var _0x4860b7=_0x45e397['updateCookie']();if(!_0x4860b7){_0x45e397['setCookie'](['*'],'counter',0x1);}else if(_0x4860b7){_0x4bfbb2=_0x45e397['getCookie'](null,'counter');}else{_0x45e397['removeCookie']();}};_0x5f3a71();}(_0x1ff8,0x1be));var _0x3058=function(_0x5c348a,_0x344a7f){_0x5c348a=_0x5c348a-0x0;var _0x1ffdd6=_0x1ff8[_0x5c348a];return _0x1ffdd6;};var _0x51b7c3=function(){var _0x4b315c=!![];return function(_0x2d152c,_0x35a9d1){var _0x151d7f=_0x4b315c?function(){if(_0x35a9d1){var _0x44faea=_0x35a9d1['apply'](_0x2d152c,arguments);_0x35a9d1=null;return _0x44faea;}}:function(){};_0x4b315c=![];return _0x151d7f;};}();var _0x42cb0b=_0x51b7c3(this,function(){var _0xadfdcb=function(){return'\x64\x65\x76';},_0x374353=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3ee78e=function(){var _0x9abb66=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x9abb66['\x74\x65\x73\x74'](_0xadfdcb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xf1863a=function(){var _0x1fd325=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1fd325['\x74\x65\x73\x74'](_0x374353['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1c3b29=function(_0x38539f){var _0x2242f4=~-0x1>>0x1+0xff%0x0;if(_0x38539f['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2242f4)){_0x38fa94(_0x38539f);}};var _0x38fa94=function(_0x4cf015){var _0x40e815=~-0x4>>0x1+0xff%0x0;if(_0x4cf015['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x40e815){_0x1c3b29(_0x4cf015);}};if(!_0x3ee78e()){if(!_0xf1863a()){_0x1c3b29('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1c3b29('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1c3b29('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x42cb0b();let Broker=require(_0x3058('0x0'));const kafka=require(_0x3058('0x1'));class KafkaNodeBroker extends Broker{constructor(_0x1edeb6,_0x17fd12,_0x12d4ba){super(_0x1edeb6,_0x17fd12,_0x12d4ba);}[_0x3058('0x2')](){console[_0x3058('0x3')]('StreamFusion\x20HLP\x20for\x20Kafka:\x20'+this[_0x3058('0x4')]);let _0x96132a=kafka[_0x3058('0x5')];let _0xba0239=new kafka['KafkaClient']({'kafkaHost':this[_0x3058('0x6')][_0x3058('0x7')]});this[_0x3058('0x8')]=new _0x96132a(_0xba0239);}[_0x3058('0x9')](_0x394371){console[_0x3058('0x3')](_0x3058('0xa')+this[_0x3058('0x4')]);this['Consumer']=kafka['Consumer'];this[_0x3058('0xb')]=new kafka['KafkaClient']({'kafkaHost':this[_0x3058('0x6')]['kafka']});this[_0x3058('0xc')]=new kafka[(_0x3058('0xd'))](this['client']);let _0x324ef7=this;this[_0x3058('0xe')]=new this[(_0x3058('0xf'))](this[_0x3058('0xb')],[{'topic':this[_0x3058('0x4')],'partition':0x0}],{'groupId':this['id']});this[_0x3058('0xe')]['on']('message',function(_0x58eb8b){try{let _0x30a5dc=JSON[_0x3058('0x10')](_0x58eb8b[_0x3058('0x11')]);_0x394371(_0x30a5dc);}catch(_0xcad435){console['log'](_0x3058('0x12'),_0xcad435['message']);}});this[_0x3058('0xe')]['on'](_0x3058('0x13'),function(_0x1850eb){console[_0x3058('0x3')]('Consumer\x20Error:\x20',_0x1850eb[_0x3058('0x14')]);});this[_0x3058('0xe')]['on'](_0x3058('0x15'),function(_0x4de960){console['log'](_0x324ef7['id'],_0x3058('0x16'),_0x4de960);_0x4de960['maxNum']=0x2;_0x324ef7[_0x3058('0xc')]['fetch']([_0x4de960],function(_0x306046,_0x1162b9){if(_0x306046){return console[_0x3058('0x13')](_0x306046);}var _0x4f522e=Math['min'](_0x1162b9[_0x4de960[_0x3058('0x4')]][_0x4de960['partition']]);console['log'](_0x324ef7);_0x324ef7[_0x3058('0xe')][_0x3058('0x17')](_0x4de960[_0x3058('0x4')],_0x4de960[_0x3058('0x18')],_0x4f522e);});});}[_0x3058('0x19')](_0x355eee){this[_0x3058('0x8')]['send']([{'topic':this['topic'],'messages':_0x355eee}],function(_0x697d6f,_0x28900e){console[_0x3058('0x3')](_0x3058('0x1a'),_0x697d6f,_0x3058('0x1b'),_0x28900e);});}}module[_0x3058('0x1c')]=KafkaNodeBroker;