var _0x35ce=['target','command','publish','status','new','delete','log','Received:','exports','./streamFusion.js','./common/utils/utils.js','config','parse','stringify','topic','1.0.0','client_id','uuidv4','type','kafka','connection','options','broker','addListener','messageCb','bind','mqtt','addPublisher','composeMessage','version'];(function(_0x2c73c1,_0x3dbbc3){var _0x38c5dd=function(_0x53caf8){while(--_0x53caf8){_0x2c73c1['push'](_0x2c73c1['shift']());}};var _0x418ada=function(){var _0xac66f7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4ffaaf,_0x581eb8,_0x3cf88c,_0x5b4c2a){_0x5b4c2a=_0x5b4c2a||{};var _0x1853f8=_0x581eb8+'='+_0x3cf88c;var _0x350d88=0x0;for(var _0x350d88=0x0,_0x2350c7=_0x4ffaaf['length'];_0x350d88<_0x2350c7;_0x350d88++){var _0x1bfd91=_0x4ffaaf[_0x350d88];_0x1853f8+=';\x20'+_0x1bfd91;var _0xc64efc=_0x4ffaaf[_0x1bfd91];_0x4ffaaf['push'](_0xc64efc);_0x2350c7=_0x4ffaaf['length'];if(_0xc64efc!==!![]){_0x1853f8+='='+_0xc64efc;}}_0x5b4c2a['cookie']=_0x1853f8;},'removeCookie':function(){return'dev';},'getCookie':function(_0xd3dda2,_0x3937b0){_0xd3dda2=_0xd3dda2||function(_0x15237d){return _0x15237d;};var _0x5ed676=_0xd3dda2(new RegExp('(?:^|;\x20)'+_0x3937b0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x22d6b2=function(_0x35fe82,_0x3d1a7c){_0x35fe82(++_0x3d1a7c);};_0x22d6b2(_0x38c5dd,_0x3dbbc3);return _0x5ed676?decodeURIComponent(_0x5ed676[0x1]):undefined;}};var _0x1bccec=function(){var _0x3cb738=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3cb738['test'](_0xac66f7['removeCookie']['toString']());};_0xac66f7['updateCookie']=_0x1bccec;var _0x571511='';var _0x1025af=_0xac66f7['updateCookie']();if(!_0x1025af){_0xac66f7['setCookie'](['*'],'counter',0x1);}else if(_0x1025af){_0x571511=_0xac66f7['getCookie'](null,'counter');}else{_0xac66f7['removeCookie']();}};_0x418ada();}(_0x35ce,0x9f));var _0x1d86=function(_0x7c2ada,_0x1af8c8){_0x7c2ada=_0x7c2ada-0x0;var _0x60abc9=_0x35ce[_0x7c2ada];return _0x60abc9;};var _0x5f413c=function(){var _0x45a6f6=!![];return function(_0x343842,_0x5e03be){var _0x48f4d1=_0x45a6f6?function(){if(_0x5e03be){var _0x5781fc=_0x5e03be['apply'](_0x343842,arguments);_0x5e03be=null;return _0x5781fc;}}:function(){};_0x45a6f6=![];return _0x48f4d1;};}();var _0x249ab5=_0x5f413c(this,function(){var _0x50fb45=function(){return'\x64\x65\x76';},_0xd0951e=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1026ea=function(){var _0x23e373=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x23e373['\x74\x65\x73\x74'](_0x50fb45['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x26ad8f=function(){var _0x41c620=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x41c620['\x74\x65\x73\x74'](_0xd0951e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x40f762=function(_0x5ae276){var _0x1b4ede=~-0x1>>0x1+0xff%0x0;if(_0x5ae276['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1b4ede)){_0x2c5678(_0x5ae276);}};var _0x2c5678=function(_0xe4f472){var _0x1959ee=~-0x4>>0x1+0xff%0x0;if(_0xe4f472['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1959ee){_0x40f762(_0xe4f472);}};if(!_0x1026ea()){if(!_0x26ad8f()){_0x40f762('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x40f762('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x40f762('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x249ab5();const {AbstractBroker,KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require('./common/brokers/brokers.js');const streamFusion=require(_0x1d86('0x0'));const Utils=require(_0x1d86('0x1'));class streamMaster{constructor(_0x16e5b){let _0x2c0094=this;this[_0x1d86('0x2')]=JSON[_0x1d86('0x3')](JSON[_0x1d86('0x4')](_0x16e5b));this['fusion']=[];this[_0x1d86('0x5')]='fusionAdmin';this['version']=_0x1d86('0x6');this[_0x1d86('0x7')]=Utils[_0x1d86('0x8')]();if('connection'in _0x16e5b){if(_0x16e5b['connection'][_0x1d86('0x9')]==_0x1d86('0xa')){this['broker']=new KafkaNodeBroker(this[_0x1d86('0x2')][_0x1d86('0xb')][_0x1d86('0xc')],this[_0x1d86('0x5')],this[_0x1d86('0x7')]);this[_0x1d86('0xd')]['addPublisher']();this[_0x1d86('0xd')][_0x1d86('0xe')](_0x2c0094[_0x1d86('0xf')][_0x1d86('0x10')](_0x2c0094));}else if(_0x16e5b[_0x1d86('0xb')][_0x1d86('0x9')]==_0x1d86('0x11')){this[_0x1d86('0xd')]=new MQTTBroker(this[_0x1d86('0x2')][_0x1d86('0xb')]['options'],this[_0x1d86('0x5')],this[_0x1d86('0x7')]);this[_0x1d86('0xd')][_0x1d86('0x12')]();this['broker'][_0x1d86('0xe')](_0x2c0094[_0x1d86('0xf')]['bind'](_0x2c0094));}else{this[_0x1d86('0xd')]=new AbstractBroker(this[_0x1d86('0x2')][_0x1d86('0xb')]['options'],this[_0x1d86('0x5')],this['client_id']);}}}[_0x1d86('0x13')](_0xf63792){let _0x4cc837=_0xf63792;_0x4cc837['id']=this[_0x1d86('0x7')];_0x4cc837['version']=this[_0x1d86('0x14')];return JSON['stringify'](_0x4cc837);}[_0x1d86('0xf')](_0x500aac){let _0x88015c=!![];if(_0x1d86('0x15')in _0x500aac){if(_0x500aac['target']!=this['client_id'])_0x88015c=![];};if(_0x88015c==![])return;if('command'in _0x500aac){if(_0x500aac[_0x1d86('0x16')]=='identify'){this[_0x1d86('0xd')][_0x1d86('0x17')](this['composeMessage']({}));}else if(_0x500aac[_0x1d86('0x16')]==_0x1d86('0x18')){}else if(_0x500aac[_0x1d86('0x16')]==_0x1d86('0x19')){}else if(_0x500aac[_0x1d86('0x16')]==_0x1d86('0x1a')){}}console[_0x1d86('0x1b')](_0x1d86('0x1c'),_0x500aac);}}module[_0x1d86('0x1d')]=streamMaster;