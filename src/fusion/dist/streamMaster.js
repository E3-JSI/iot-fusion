const a0_0x3fc8=['apply','version','options','type','status','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','config','addPublisher','fusion','topic','return\x20/\x22\x20+\x20this\x20+\x20\x22/','publish','parse','composeMessage','messageCb','exports','broker','test','client_id','fusionAdmin','target','addListener','command','delete','./common/utils/utils.js','1.0.0','bind','kafka','connection','constructor','new','mqtt'];(function(_0x5044be,_0x3fc888){const _0x471d9d=function(_0x43e01e){while(--_0x43e01e){_0x5044be['push'](_0x5044be['shift']());}},_0x453815=function(){const _0x568664={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x52cfea,_0x4d6621,_0x3c37fa,_0xc265e8){_0xc265e8=_0xc265e8||{};let _0x2db988=_0x4d6621+'='+_0x3c37fa,_0x520e95=0x0;for(let _0x181ebf=0x0,_0x160322=_0x52cfea['length'];_0x181ebf<_0x160322;_0x181ebf++){const _0x2287c7=_0x52cfea[_0x181ebf];_0x2db988+=';\x20'+_0x2287c7;const _0x27ffa4=_0x52cfea[_0x2287c7];_0x52cfea['push'](_0x27ffa4),_0x160322=_0x52cfea['length'],_0x27ffa4!==!![]&&(_0x2db988+='='+_0x27ffa4);}_0xc265e8['cookie']=_0x2db988;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4fe370,_0x5a8ecf){_0x4fe370=_0x4fe370||function(_0x3ec775){return _0x3ec775;};const _0x23a6b1=_0x4fe370(new RegExp('(?:^|;\x20)'+_0x5a8ecf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x40896f=function(_0x566192,_0x415ca1){_0x566192(++_0x415ca1);};return _0x40896f(_0x471d9d,_0x3fc888),_0x23a6b1?decodeURIComponent(_0x23a6b1[0x1]):undefined;}},_0x285f53=function(){const _0x299354=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x299354['test'](_0x568664['removeCookie']['toString']());};_0x568664['updateCookie']=_0x285f53;let _0x17ab58='';const _0x58ff57=_0x568664['updateCookie']();if(!_0x58ff57)_0x568664['setCookie'](['*'],'counter',0x1);else _0x58ff57?_0x17ab58=_0x568664['getCookie'](null,'counter'):_0x568664['removeCookie']();};_0x453815();}(a0_0x3fc8,0x1b5));const a0_0x471d=function(_0x5044be,_0x3fc888){_0x5044be=_0x5044be-0x0;let _0x471d9d=a0_0x3fc8[_0x5044be];return _0x471d9d;};const a0_0x3c37fa=function(){let _0x540fbe=!![];return function(_0xf54cae,_0x25d20d){const _0x11b87a=_0x540fbe?function(){if(_0x25d20d){const _0xe058a5=_0x25d20d[a0_0x471d('0xb')](_0xf54cae,arguments);return _0x25d20d=null,_0xe058a5;}}:function(){};return _0x540fbe=![],_0x11b87a;};}(),a0_0x4d6621=a0_0x3c37fa(this,function(){const _0x24a576=function(){const _0x50cd43=_0x24a576['constructor'](a0_0x471d('0x15'))()[a0_0x471d('0x8')](a0_0x471d('0x10'));return!_0x50cd43[a0_0x471d('0x1c')](a0_0x4d6621);};return _0x24a576();});a0_0x4d6621();const {AbstractBroker,KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require('./common/brokers/brokers.js'),streamFusion=require('./streamFusion.js'),Utils=require(a0_0x471d('0x3'));class streamMaster{constructor(_0x143de3){let _0x399646=this;this[a0_0x471d('0x11')]=JSON[a0_0x471d('0x17')](JSON['stringify'](_0x143de3)),this[a0_0x471d('0x13')]=[],this[a0_0x471d('0x14')]=a0_0x471d('0x1e'),this[a0_0x471d('0xc')]=a0_0x471d('0x4'),this[a0_0x471d('0x1d')]=Utils['uuidv4']();if(a0_0x471d('0x7')in _0x143de3){if(_0x143de3[a0_0x471d('0x7')][a0_0x471d('0xe')]==a0_0x471d('0x6'))this['broker']=new KafkaNodeBroker(this[a0_0x471d('0x11')][a0_0x471d('0x7')][a0_0x471d('0xd')],this[a0_0x471d('0x14')],this['client_id']),this[a0_0x471d('0x1b')][a0_0x471d('0x12')](),this[a0_0x471d('0x1b')][a0_0x471d('0x0')](_0x399646['messageCb'][a0_0x471d('0x5')](_0x399646));else _0x143de3[a0_0x471d('0x7')][a0_0x471d('0xe')]==a0_0x471d('0xa')?(this['broker']=new MQTTBroker(this['config'][a0_0x471d('0x7')][a0_0x471d('0xd')],this[a0_0x471d('0x14')],this['client_id']),this[a0_0x471d('0x1b')][a0_0x471d('0x12')](),this[a0_0x471d('0x1b')]['addListener'](_0x399646[a0_0x471d('0x19')][a0_0x471d('0x5')](_0x399646))):this[a0_0x471d('0x1b')]=new AbstractBroker(this[a0_0x471d('0x11')]['connection'][a0_0x471d('0xd')],this[a0_0x471d('0x14')],this[a0_0x471d('0x1d')]);}}[a0_0x471d('0x18')](_0x5cf953){let _0x25e64=_0x5cf953;return _0x25e64['id']=this['client_id'],_0x25e64[a0_0x471d('0xc')]=this['version'],JSON['stringify'](_0x25e64);}[a0_0x471d('0x19')](_0x18d723){let _0x5f400b=!![];if('target'in _0x18d723){if(_0x18d723[a0_0x471d('0x1f')]!=this['client_id'])_0x5f400b=![];};if(_0x5f400b==![])return;if(a0_0x471d('0x1')in _0x18d723){if(_0x18d723[a0_0x471d('0x1')]=='identify')this['broker'][a0_0x471d('0x16')](this[a0_0x471d('0x18')]({}));else{if(_0x18d723[a0_0x471d('0x1')]==a0_0x471d('0xf')){}else{if(_0x18d723['command']==a0_0x471d('0x9')){}else{if(_0x18d723[a0_0x471d('0x1')]==a0_0x471d('0x2')){}}}}}console['log']('Received:',_0x18d723);}}module[a0_0x471d('0x1a')]=streamMaster;