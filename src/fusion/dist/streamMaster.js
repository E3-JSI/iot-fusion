const a0_0xd659=['delete','return\x20/\x22\x20+\x20this\x20+\x20\x22/','status','type','bind','topic','addPublisher','messageCb','exports','mqtt','kafka','parse','composeMessage','options','constructor','target','log','command','broker','new','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','version','fusionAdmin','stringify','1.0.0','./streamFusion.js','client_id','fusion','apply','config','connection','addListener','test'];(function(_0x1693a4,_0xd6594b){const _0x378a12=function(_0x1840cf){while(--_0x1840cf){_0x1693a4['push'](_0x1693a4['shift']());}},_0x5c4015=function(){const _0xf24cf9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x23a6b6,_0x396631,_0x19a3a8,_0x378986){_0x378986=_0x378986||{};let _0x108883=_0x396631+'='+_0x19a3a8,_0x5eff26=0x0;for(let _0x44b535=0x0,_0xed7254=_0x23a6b6['length'];_0x44b535<_0xed7254;_0x44b535++){const _0x3c50c3=_0x23a6b6[_0x44b535];_0x108883+=';\x20'+_0x3c50c3;const _0x22be4b=_0x23a6b6[_0x3c50c3];_0x23a6b6['push'](_0x22be4b),_0xed7254=_0x23a6b6['length'],_0x22be4b!==!![]&&(_0x108883+='='+_0x22be4b);}_0x378986['cookie']=_0x108883;},'removeCookie':function(){return'dev';},'getCookie':function(_0x487b98,_0xfea0c1){_0x487b98=_0x487b98||function(_0x35f781){return _0x35f781;};const _0x4fa441=_0x487b98(new RegExp('(?:^|;\x20)'+_0xfea0c1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x389cc8=function(_0x3ffba1,_0x45ddfb){_0x3ffba1(++_0x45ddfb);};return _0x389cc8(_0x378a12,_0xd6594b),_0x4fa441?decodeURIComponent(_0x4fa441[0x1]):undefined;}},_0x294b61=function(){const _0x5533f4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5533f4['test'](_0xf24cf9['removeCookie']['toString']());};_0xf24cf9['updateCookie']=_0x294b61;let _0x17ca79='';const _0xf5a7f2=_0xf24cf9['updateCookie']();if(!_0xf5a7f2)_0xf24cf9['setCookie'](['*'],'counter',0x1);else _0xf5a7f2?_0x17ca79=_0xf24cf9['getCookie'](null,'counter'):_0xf24cf9['removeCookie']();};_0x5c4015();}(a0_0xd659,0xc2));const a0_0x378a=function(_0x1693a4,_0xd6594b){_0x1693a4=_0x1693a4-0x0;let _0x378a12=a0_0xd659[_0x1693a4];return _0x378a12;};const a0_0x19a3a8=function(){let _0x5621e8=!![];return function(_0x35d931,_0x2c4696){const _0x46c64a=_0x5621e8?function(){if(_0x2c4696){const _0x13150a=_0x2c4696[a0_0x378a('0x20')](_0x35d931,arguments);return _0x2c4696=null,_0x13150a;}}:function(){};return _0x5621e8=![],_0x46c64a;};}(),a0_0x396631=a0_0x19a3a8(this,function(){const _0x5a7b76=function(){const _0x3a8ad4=_0x5a7b76['constructor'](a0_0x378a('0x5'))()[a0_0x378a('0x12')](a0_0x378a('0x18'));return!_0x3a8ad4[a0_0x378a('0x3')](a0_0x396631);};return _0x5a7b76();});a0_0x396631();const {AbstractBroker,KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require('./common/brokers/brokers.js'),streamFusion=require(a0_0x378a('0x1d')),Utils=require('./common/utils/utils.js');class streamMaster{constructor(_0x31806a){let _0xb8f096=this;this[a0_0x378a('0x0')]=JSON[a0_0x378a('0xf')](JSON[a0_0x378a('0x1b')](_0x31806a)),this[a0_0x378a('0x1f')]=[],this[a0_0x378a('0x9')]=a0_0x378a('0x1a'),this['version']=a0_0x378a('0x1c'),this[a0_0x378a('0x1e')]=Utils['uuidv4']();if(a0_0x378a('0x1')in _0x31806a){if(_0x31806a[a0_0x378a('0x1')]['type']==a0_0x378a('0xe'))this[a0_0x378a('0x16')]=new KafkaNodeBroker(this[a0_0x378a('0x0')]['connection']['options'],this[a0_0x378a('0x9')],this[a0_0x378a('0x1e')]),this[a0_0x378a('0x16')][a0_0x378a('0xa')](),this[a0_0x378a('0x16')][a0_0x378a('0x2')](_0xb8f096['messageCb'][a0_0x378a('0x8')](_0xb8f096));else _0x31806a[a0_0x378a('0x1')][a0_0x378a('0x7')]==a0_0x378a('0xd')?(this[a0_0x378a('0x16')]=new MQTTBroker(this[a0_0x378a('0x0')][a0_0x378a('0x1')][a0_0x378a('0x11')],this[a0_0x378a('0x9')],this[a0_0x378a('0x1e')]),this[a0_0x378a('0x16')][a0_0x378a('0xa')](),this[a0_0x378a('0x16')][a0_0x378a('0x2')](_0xb8f096[a0_0x378a('0xb')]['bind'](_0xb8f096))):this[a0_0x378a('0x16')]=new AbstractBroker(this['config']['connection']['options'],this[a0_0x378a('0x9')],this['client_id']);}}[a0_0x378a('0x10')](_0x49e636){let _0x3fdef1=_0x49e636;return _0x3fdef1['id']=this[a0_0x378a('0x1e')],_0x3fdef1[a0_0x378a('0x19')]=this[a0_0x378a('0x19')],JSON[a0_0x378a('0x1b')](_0x3fdef1);}[a0_0x378a('0xb')](_0x15862a){let _0x55d4cc=!![];if(a0_0x378a('0x13')in _0x15862a){if(_0x15862a[a0_0x378a('0x13')]!=this[a0_0x378a('0x1e')])_0x55d4cc=![];};if(_0x55d4cc==![])return;if('command'in _0x15862a){if(_0x15862a[a0_0x378a('0x15')]=='identify')this[a0_0x378a('0x16')]['publish'](this[a0_0x378a('0x10')]({}));else{if(_0x15862a['command']==a0_0x378a('0x6')){}else{if(_0x15862a[a0_0x378a('0x15')]==a0_0x378a('0x17')){}else{if(_0x15862a['command']==a0_0x378a('0x4')){}}}}}console[a0_0x378a('0x14')]('Received:',_0x15862a);}}module[a0_0x378a('0xc')]=streamMaster;