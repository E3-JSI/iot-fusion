var _0x2818=['composeMessage','target','command','identify','publish','status','delete','log','Received:','exports','./common/brokers/brokers.js','./streamFusion.js','./common/utils/utils.js','config','parse','stringify','topic','fusionAdmin','version','1.0.0','client_id','connection','broker','options','addPublisher','addListener','messageCb','bind','type','mqtt'];(function(_0x11d6ab,_0x38326b){var _0x5898bf=function(_0xfa703b){while(--_0xfa703b){_0x11d6ab['push'](_0x11d6ab['shift']());}};var _0x1c81dc=function(){var _0x3312b7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5b39c3,_0x16640e,_0x57de0c,_0x5ffe6d){_0x5ffe6d=_0x5ffe6d||{};var _0x475b64=_0x16640e+'='+_0x57de0c;var _0x55411b=0x0;for(var _0x55411b=0x0,_0x18c52a=_0x5b39c3['length'];_0x55411b<_0x18c52a;_0x55411b++){var _0x32bfea=_0x5b39c3[_0x55411b];_0x475b64+=';\x20'+_0x32bfea;var _0x15ab05=_0x5b39c3[_0x32bfea];_0x5b39c3['push'](_0x15ab05);_0x18c52a=_0x5b39c3['length'];if(_0x15ab05!==!![]){_0x475b64+='='+_0x15ab05;}}_0x5ffe6d['cookie']=_0x475b64;},'removeCookie':function(){return'dev';},'getCookie':function(_0xbf5488,_0x2c51cf){_0xbf5488=_0xbf5488||function(_0x23faae){return _0x23faae;};var _0x54964a=_0xbf5488(new RegExp('(?:^|;\x20)'+_0x2c51cf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3da6b7=function(_0x5ed854,_0xc9258c){_0x5ed854(++_0xc9258c);};_0x3da6b7(_0x5898bf,_0x38326b);return _0x54964a?decodeURIComponent(_0x54964a[0x1]):undefined;}};var _0x5a45aa=function(){var _0x5957fb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5957fb['test'](_0x3312b7['removeCookie']['toString']());};_0x3312b7['updateCookie']=_0x5a45aa;var _0x276a05='';var _0x20a4ab=_0x3312b7['updateCookie']();if(!_0x20a4ab){_0x3312b7['setCookie'](['*'],'counter',0x1);}else if(_0x20a4ab){_0x276a05=_0x3312b7['getCookie'](null,'counter');}else{_0x3312b7['removeCookie']();}};_0x1c81dc();}(_0x2818,0x190));var _0x432e=function(_0x184443,_0x1d2b14){_0x184443=_0x184443-0x0;var _0x3538d0=_0x2818[_0x184443];return _0x3538d0;};var _0xc824af=function(){var _0x4cf82b=!![];return function(_0x543ac3,_0x4f536e){var _0x53a4b8=_0x4cf82b?function(){if(_0x4f536e){var _0x12cafd=_0x4f536e['apply'](_0x543ac3,arguments);_0x4f536e=null;return _0x12cafd;}}:function(){};_0x4cf82b=![];return _0x53a4b8;};}();var _0x9f5f20=_0xc824af(this,function(){var _0x52141f=function(){return'\x64\x65\x76';},_0x4e79b8=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x444850=function(){var _0x3d5492=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3d5492['\x74\x65\x73\x74'](_0x52141f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x525e1f=function(){var _0x1f3195=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1f3195['\x74\x65\x73\x74'](_0x4e79b8['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x88749b=function(_0x4a9afe){var _0x52794a=~-0x1>>0x1+0xff%0x0;if(_0x4a9afe['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x52794a)){_0x135a0f(_0x4a9afe);}};var _0x135a0f=function(_0x19d25c){var _0x5e7477=~-0x4>>0x1+0xff%0x0;if(_0x19d25c['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x5e7477){_0x88749b(_0x19d25c);}};if(!_0x444850()){if(!_0x525e1f()){_0x88749b('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x88749b('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x88749b('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x9f5f20();const {AbstractBroker,KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require(_0x432e('0x0'));const streamFusion=require(_0x432e('0x1'));const Utils=require(_0x432e('0x2'));class streamMaster{constructor(_0x67c144){let _0x43a3dc=this;this[_0x432e('0x3')]=JSON[_0x432e('0x4')](JSON[_0x432e('0x5')](_0x67c144));this['fusion']=[];this[_0x432e('0x6')]=_0x432e('0x7');this[_0x432e('0x8')]=_0x432e('0x9');this[_0x432e('0xa')]=Utils['uuidv4']();if(_0x432e('0xb')in _0x67c144){if(_0x67c144['connection']['type']=='kafka'){this[_0x432e('0xc')]=new KafkaNodeBroker(this[_0x432e('0x3')][_0x432e('0xb')][_0x432e('0xd')],this['topic'],this['client_id']);this[_0x432e('0xc')][_0x432e('0xe')]();this[_0x432e('0xc')][_0x432e('0xf')](_0x43a3dc[_0x432e('0x10')][_0x432e('0x11')](_0x43a3dc));}else if(_0x67c144[_0x432e('0xb')][_0x432e('0x12')]==_0x432e('0x13')){this['broker']=new MQTTBroker(this[_0x432e('0x3')][_0x432e('0xb')][_0x432e('0xd')],this[_0x432e('0x6')],this['client_id']);this['broker'][_0x432e('0xe')]();this[_0x432e('0xc')]['addListener'](_0x43a3dc[_0x432e('0x10')][_0x432e('0x11')](_0x43a3dc));}else{this[_0x432e('0xc')]=new AbstractBroker(this[_0x432e('0x3')][_0x432e('0xb')][_0x432e('0xd')],this[_0x432e('0x6')],this[_0x432e('0xa')]);}}}[_0x432e('0x14')](_0x38fbbf){let _0x23d241=_0x38fbbf;_0x23d241['id']=this['client_id'];_0x23d241['version']=this[_0x432e('0x8')];return JSON[_0x432e('0x5')](_0x23d241);}[_0x432e('0x10')](_0xc038cd){let _0x22cf52=!![];if(_0x432e('0x15')in _0xc038cd){if(_0xc038cd[_0x432e('0x15')]!=this[_0x432e('0xa')])_0x22cf52=![];};if(_0x22cf52==![])return;if(_0x432e('0x16')in _0xc038cd){if(_0xc038cd[_0x432e('0x16')]==_0x432e('0x17')){this[_0x432e('0xc')][_0x432e('0x18')](this[_0x432e('0x14')]({}));}else if(_0xc038cd[_0x432e('0x16')]==_0x432e('0x19')){}else if(_0xc038cd[_0x432e('0x16')]=='new'){}else if(_0xc038cd[_0x432e('0x16')]==_0x432e('0x1a')){}}console[_0x432e('0x1b')](_0x432e('0x1c'),_0xc038cd);}}module[_0x432e('0x1d')]=streamMaster;