const a0_0x20f5=['identify','./common/utils/utils.js','command','messageCb','mqtt','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','1.0.0','new','stringify','target','addPublisher','broker','client_id','constructor','topic','delete','Received:','config','return\x20/\x22\x20+\x20this\x20+\x20\x22/','parse','type','uuidv4','version','test','composeMessage','bind','publish','apply','connection','options','exports','addListener','fusionAdmin'];(function(_0x32a2d0,_0x20f5b9){const _0x568d48=function(_0x501432){while(--_0x501432){_0x32a2d0['push'](_0x32a2d0['shift']());}},_0x22a4fe=function(){const _0x1c3b3d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4f6905,_0x5ac64f,_0x3f2f15,_0x4e0076){_0x4e0076=_0x4e0076||{};let _0x9ac33=_0x5ac64f+'='+_0x3f2f15,_0x4add5a=0x0;for(let _0x3c9c4e=0x0,_0x1daf95=_0x4f6905['length'];_0x3c9c4e<_0x1daf95;_0x3c9c4e++){const _0x263625=_0x4f6905[_0x3c9c4e];_0x9ac33+=';\x20'+_0x263625;const _0x1e9916=_0x4f6905[_0x263625];_0x4f6905['push'](_0x1e9916),_0x1daf95=_0x4f6905['length'],_0x1e9916!==!![]&&(_0x9ac33+='='+_0x1e9916);}_0x4e0076['cookie']=_0x9ac33;},'removeCookie':function(){return'dev';},'getCookie':function(_0x52867e,_0x564be5){_0x52867e=_0x52867e||function(_0x4258a7){return _0x4258a7;};const _0x195ea4=_0x52867e(new RegExp('(?:^|;\x20)'+_0x564be5['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x92b49c=function(_0x388cfc,_0x5b98ba){_0x388cfc(++_0x5b98ba);};return _0x92b49c(_0x568d48,_0x20f5b9),_0x195ea4?decodeURIComponent(_0x195ea4[0x1]):undefined;}},_0x12e687=function(){const _0x41eb97=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x41eb97['test'](_0x1c3b3d['removeCookie']['toString']());};_0x1c3b3d['updateCookie']=_0x12e687;let _0x44a9e6='';const _0x1fa336=_0x1c3b3d['updateCookie']();if(!_0x1fa336)_0x1c3b3d['setCookie'](['*'],'counter',0x1);else _0x1fa336?_0x44a9e6=_0x1c3b3d['getCookie'](null,'counter'):_0x1c3b3d['removeCookie']();};_0x22a4fe();}(a0_0x20f5,0x138));const a0_0x568d=function(_0x32a2d0,_0x20f5b9){_0x32a2d0=_0x32a2d0-0x0;let _0x568d48=a0_0x20f5[_0x32a2d0];return _0x568d48;};const a0_0x3f2f15=function(){let _0x1f121f=!![];return function(_0x153738,_0x1f6ee8){const _0x3d0eb7=_0x1f121f?function(){if(_0x1f6ee8){const _0xd080f9=_0x1f6ee8[a0_0x568d('0xc')](_0x153738,arguments);return _0x1f6ee8=null,_0xd080f9;}}:function(){};return _0x1f121f=![],_0x3d0eb7;};}(),a0_0x5ac64f=a0_0x3f2f15(this,function(){const _0x250039=function(){const _0x11d3b4=_0x250039['constructor'](a0_0x568d('0x3'))()[a0_0x568d('0x1f')](a0_0x568d('0x17'));return!_0x11d3b4[a0_0x568d('0x8')](a0_0x5ac64f);};return _0x250039();});a0_0x5ac64f();const {AbstractBroker,KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require('./common/brokers/brokers.js'),streamFusion=require('./streamFusion.js'),Utils=require(a0_0x568d('0x13'));class streamMaster{constructor(_0x130ad7){let _0x14ae10=this;this[a0_0x568d('0x2')]=JSON[a0_0x568d('0x4')](JSON[a0_0x568d('0x1a')](_0x130ad7)),this['fusion']=[],this[a0_0x568d('0x20')]=a0_0x568d('0x11'),this[a0_0x568d('0x7')]=a0_0x568d('0x18'),this['client_id']=Utils[a0_0x568d('0x6')]();if(a0_0x568d('0xd')in _0x130ad7){if(_0x130ad7[a0_0x568d('0xd')][a0_0x568d('0x5')]=='kafka')this[a0_0x568d('0x1d')]=new KafkaNodeBroker(this[a0_0x568d('0x2')][a0_0x568d('0xd')][a0_0x568d('0xe')],this[a0_0x568d('0x20')],this['client_id']),this[a0_0x568d('0x1d')]['addPublisher'](),this['broker'][a0_0x568d('0x10')](_0x14ae10[a0_0x568d('0x15')][a0_0x568d('0xa')](_0x14ae10));else _0x130ad7['connection'][a0_0x568d('0x5')]==a0_0x568d('0x16')?(this[a0_0x568d('0x1d')]=new MQTTBroker(this[a0_0x568d('0x2')]['connection'][a0_0x568d('0xe')],this['topic'],this[a0_0x568d('0x1e')]),this[a0_0x568d('0x1d')][a0_0x568d('0x1c')](),this['broker'][a0_0x568d('0x10')](_0x14ae10[a0_0x568d('0x15')][a0_0x568d('0xa')](_0x14ae10))):this['broker']=new AbstractBroker(this[a0_0x568d('0x2')][a0_0x568d('0xd')]['options'],this[a0_0x568d('0x20')],this[a0_0x568d('0x1e')]);}}[a0_0x568d('0x9')](_0x26a0a3){let _0x15b50b=_0x26a0a3;return _0x15b50b['id']=this[a0_0x568d('0x1e')],_0x15b50b[a0_0x568d('0x7')]=this[a0_0x568d('0x7')],JSON[a0_0x568d('0x1a')](_0x15b50b);}[a0_0x568d('0x15')](_0x4c9d1e){let _0x20ece4=!![];if(a0_0x568d('0x1b')in _0x4c9d1e){if(_0x4c9d1e[a0_0x568d('0x1b')]!=this[a0_0x568d('0x1e')])_0x20ece4=![];};if(_0x20ece4==![])return;if(a0_0x568d('0x14')in _0x4c9d1e){if(_0x4c9d1e[a0_0x568d('0x14')]==a0_0x568d('0x12'))this['broker'][a0_0x568d('0xb')](this[a0_0x568d('0x9')]({}));else{if(_0x4c9d1e[a0_0x568d('0x14')]=='status'){}else{if(_0x4c9d1e[a0_0x568d('0x14')]==a0_0x568d('0x19')){}else{if(_0x4c9d1e['command']==a0_0x568d('0x0')){}}}}}console['log'](a0_0x568d('0x1'),_0x4c9d1e);}}module[a0_0x568d('0xf')]=streamMaster;