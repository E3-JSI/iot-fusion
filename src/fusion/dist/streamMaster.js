const a0_0x13c4=['1.0.0','client_id','composeMessage','./streamFusion.js','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','target','exports','kafka','addPublisher','return\x20/\x22\x20+\x20this\x20+\x20\x22/','messageCb','type','stringify','fusionAdmin','identify','./common/brokers/brokers.js','command','addListener','bind','constructor','parse','delete','broker','version','uuidv4','publish','Received:','options','config','connection','test','topic'];(function(_0x426e6b,_0x13c459){const _0x47d92e=function(_0xd92890){while(--_0xd92890){_0x426e6b['push'](_0x426e6b['shift']());}},_0x44c24d=function(){const _0x1452fb={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x32d719,_0x244045,_0x9dbcde,_0x392d63){_0x392d63=_0x392d63||{};let _0x50c46a=_0x244045+'='+_0x9dbcde,_0x3c7e38=0x0;for(let _0x1c8e6a=0x0,_0x464885=_0x32d719['length'];_0x1c8e6a<_0x464885;_0x1c8e6a++){const _0x205b55=_0x32d719[_0x1c8e6a];_0x50c46a+=';\x20'+_0x205b55;const _0x3abf68=_0x32d719[_0x205b55];_0x32d719['push'](_0x3abf68),_0x464885=_0x32d719['length'],_0x3abf68!==!![]&&(_0x50c46a+='='+_0x3abf68);}_0x392d63['cookie']=_0x50c46a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x217be3,_0x224637){_0x217be3=_0x217be3||function(_0x126bf6){return _0x126bf6;};const _0x58a922=_0x217be3(new RegExp('(?:^|;\x20)'+_0x224637['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x524d57=function(_0x135c49,_0x51d3e0){_0x135c49(++_0x51d3e0);};return _0x524d57(_0x47d92e,_0x13c459),_0x58a922?decodeURIComponent(_0x58a922[0x1]):undefined;}},_0x251383=function(){const _0x44586c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x44586c['test'](_0x1452fb['removeCookie']['toString']());};_0x1452fb['updateCookie']=_0x251383;let _0x22d0b5='';const _0x28fbac=_0x1452fb['updateCookie']();if(!_0x28fbac)_0x1452fb['setCookie'](['*'],'counter',0x1);else _0x28fbac?_0x22d0b5=_0x1452fb['getCookie'](null,'counter'):_0x1452fb['removeCookie']();};_0x44c24d();}(a0_0x13c4,0x17b));const a0_0x47d9=function(_0x426e6b,_0x13c459){_0x426e6b=_0x426e6b-0x0;let _0x47d92e=a0_0x13c4[_0x426e6b];return _0x47d92e;};const a0_0x9dbcde=function(){let _0x488668=!![];return function(_0x519e25,_0x4b400f){const _0x38bcf0=_0x488668?function(){if(_0x4b400f){const _0x262954=_0x4b400f['apply'](_0x519e25,arguments);return _0x4b400f=null,_0x262954;}}:function(){};return _0x488668=![],_0x38bcf0;};}(),a0_0x244045=a0_0x9dbcde(this,function(){const _0x377865=function(){const _0x48c1ea=_0x377865[a0_0x47d9('0x18')](a0_0x47d9('0xe'))()[a0_0x47d9('0x18')](a0_0x47d9('0x9'));return!_0x48c1ea[a0_0x47d9('0x3')](a0_0x244045);};return _0x377865();});a0_0x244045();const {AbstractBroker,KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require(a0_0x47d9('0x14')),streamFusion=require(a0_0x47d9('0x8')),Utils=require('./common/utils/utils.js');class streamMaster{constructor(_0x3c8bf8){let _0x121751=this;this['config']=JSON[a0_0x47d9('0x19')](JSON[a0_0x47d9('0x11')](_0x3c8bf8)),this['fusion']=[],this[a0_0x47d9('0x4')]=a0_0x47d9('0x12'),this[a0_0x47d9('0x1c')]=a0_0x47d9('0x5'),this[a0_0x47d9('0x6')]=Utils[a0_0x47d9('0x1d')]();if(a0_0x47d9('0x2')in _0x3c8bf8){if(_0x3c8bf8[a0_0x47d9('0x2')][a0_0x47d9('0x10')]==a0_0x47d9('0xc'))this[a0_0x47d9('0x1b')]=new KafkaNodeBroker(this['config'][a0_0x47d9('0x2')]['options'],this[a0_0x47d9('0x4')],this[a0_0x47d9('0x6')]),this[a0_0x47d9('0x1b')][a0_0x47d9('0xd')](),this[a0_0x47d9('0x1b')][a0_0x47d9('0x16')](_0x121751[a0_0x47d9('0xf')][a0_0x47d9('0x17')](_0x121751));else _0x3c8bf8[a0_0x47d9('0x2')][a0_0x47d9('0x10')]=='mqtt'?(this['broker']=new MQTTBroker(this[a0_0x47d9('0x1')][a0_0x47d9('0x2')][a0_0x47d9('0x0')],this[a0_0x47d9('0x4')],this[a0_0x47d9('0x6')]),this[a0_0x47d9('0x1b')][a0_0x47d9('0xd')](),this[a0_0x47d9('0x1b')][a0_0x47d9('0x16')](_0x121751['messageCb'][a0_0x47d9('0x17')](_0x121751))):this[a0_0x47d9('0x1b')]=new AbstractBroker(this[a0_0x47d9('0x1')][a0_0x47d9('0x2')][a0_0x47d9('0x0')],this[a0_0x47d9('0x4')],this['client_id']);}}[a0_0x47d9('0x7')](_0x38403c){let _0xca3430=_0x38403c;return _0xca3430['id']=this[a0_0x47d9('0x6')],_0xca3430[a0_0x47d9('0x1c')]=this[a0_0x47d9('0x1c')],JSON[a0_0x47d9('0x11')](_0xca3430);}[a0_0x47d9('0xf')](_0x7a7d10){let _0x3a7aea=!![];if(a0_0x47d9('0xa')in _0x7a7d10){if(_0x7a7d10[a0_0x47d9('0xa')]!=this[a0_0x47d9('0x6')])_0x3a7aea=![];};if(_0x3a7aea==![])return;if('command'in _0x7a7d10){if(_0x7a7d10[a0_0x47d9('0x15')]==a0_0x47d9('0x13'))this['broker'][a0_0x47d9('0x1e')](this['composeMessage']({}));else{if(_0x7a7d10['command']=='status'){}else{if(_0x7a7d10[a0_0x47d9('0x15')]=='new'){}else{if(_0x7a7d10[a0_0x47d9('0x15')]==a0_0x47d9('0x1a')){}}}}}console['log'](a0_0x47d9('0x1f'),_0x7a7d10);}}module[a0_0x47d9('0xb')]=streamMaster;