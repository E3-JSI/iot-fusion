const a0_0x3721=['publish','log','parse','options','command','apply','new','exports','Received:','composeMessage','addListener','mqtt','fusionAdmin','./streamFusion.js','version','addPublisher','constructor','delete','connection','topic','target','messageCb','bind','kafka','client_id','identify','./common/brokers/brokers.js','broker','fusion','type','config','uuidv4'];(function(_0x73a609,_0x3721e2){const _0x1badae=function(_0x1fc1b3){while(--_0x1fc1b3){_0x73a609['push'](_0x73a609['shift']());}},_0x200c58=function(){const _0x1c6bcd={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x110555,_0x7f6f48,_0x2a1de0,_0x2eb3f1){_0x2eb3f1=_0x2eb3f1||{};let _0x1e1fd0=_0x7f6f48+'='+_0x2a1de0,_0x1c96cb=0x0;for(let _0x558e40=0x0,_0x583851=_0x110555['length'];_0x558e40<_0x583851;_0x558e40++){const _0x5c080d=_0x110555[_0x558e40];_0x1e1fd0+=';\x20'+_0x5c080d;const _0x5209ba=_0x110555[_0x5c080d];_0x110555['push'](_0x5209ba),_0x583851=_0x110555['length'],_0x5209ba!==!![]&&(_0x1e1fd0+='='+_0x5209ba);}_0x2eb3f1['cookie']=_0x1e1fd0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x33c59b,_0x2c258f){_0x33c59b=_0x33c59b||function(_0x4abe2a){return _0x4abe2a;};const _0x5ab51f=_0x33c59b(new RegExp('(?:^|;\x20)'+_0x2c258f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5632ed=function(_0x54a270,_0x46f116){_0x54a270(++_0x46f116);};return _0x5632ed(_0x1badae,_0x3721e2),_0x5ab51f?decodeURIComponent(_0x5ab51f[0x1]):undefined;}},_0x2b950b=function(){const _0x4b49cf=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4b49cf['test'](_0x1c6bcd['removeCookie']['toString']());};_0x1c6bcd['updateCookie']=_0x2b950b;let _0x591ffa='';const _0xc82e2c=_0x1c6bcd['updateCookie']();if(!_0xc82e2c)_0x1c6bcd['setCookie'](['*'],'counter',0x1);else _0xc82e2c?_0x591ffa=_0x1c6bcd['getCookie'](null,'counter'):_0x1c6bcd['removeCookie']();};_0x200c58();}(a0_0x3721,0x82));const a0_0x1bad=function(_0x73a609,_0x3721e2){_0x73a609=_0x73a609-0x0;let _0x1badae=a0_0x3721[_0x73a609];return _0x1badae;};const a0_0x2a1de0=function(){let _0xc49e45=!![];return function(_0x40fd62,_0xf1ab6c){const _0x6c603f=_0xc49e45?function(){if(_0xf1ab6c){const _0x1d00a1=_0xf1ab6c[a0_0x1bad('0x3')](_0x40fd62,arguments);return _0xf1ab6c=null,_0x1d00a1;}}:function(){};return _0xc49e45=![],_0x6c603f;};}(),a0_0x7f6f48=a0_0x2a1de0(this,function(){const _0x353a50=function(){const _0x1f4506=_0x353a50[a0_0x1bad('0xe')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1f4506['test'](a0_0x7f6f48);};return _0x353a50();});a0_0x7f6f48();const {AbstractBroker,KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require(a0_0x1bad('0x18')),streamFusion=require(a0_0x1bad('0xb')),Utils=require('./common/utils/utils.js');class streamMaster{constructor(_0x352de6){let _0x119c5d=this;this['config']=JSON[a0_0x1bad('0x0')](JSON['stringify'](_0x352de6)),this[a0_0x1bad('0x1a')]=[],this['topic']=a0_0x1bad('0xa'),this[a0_0x1bad('0xc')]='1.0.0',this[a0_0x1bad('0x16')]=Utils[a0_0x1bad('0x1d')]();if(a0_0x1bad('0x10')in _0x352de6){if(_0x352de6[a0_0x1bad('0x10')][a0_0x1bad('0x1b')]==a0_0x1bad('0x15'))this[a0_0x1bad('0x19')]=new KafkaNodeBroker(this['config'][a0_0x1bad('0x10')][a0_0x1bad('0x1')],this[a0_0x1bad('0x11')],this[a0_0x1bad('0x16')]),this[a0_0x1bad('0x19')][a0_0x1bad('0xd')](),this['broker']['addListener'](_0x119c5d[a0_0x1bad('0x13')]['bind'](_0x119c5d));else _0x352de6[a0_0x1bad('0x10')][a0_0x1bad('0x1b')]==a0_0x1bad('0x9')?(this[a0_0x1bad('0x19')]=new MQTTBroker(this['config']['connection'][a0_0x1bad('0x1')],this[a0_0x1bad('0x11')],this[a0_0x1bad('0x16')]),this['broker'][a0_0x1bad('0xd')](),this['broker'][a0_0x1bad('0x8')](_0x119c5d[a0_0x1bad('0x13')][a0_0x1bad('0x14')](_0x119c5d))):this['broker']=new AbstractBroker(this[a0_0x1bad('0x1c')][a0_0x1bad('0x10')][a0_0x1bad('0x1')],this[a0_0x1bad('0x11')],this[a0_0x1bad('0x16')]);}}[a0_0x1bad('0x7')](_0x1ee65a){let _0x260fce=_0x1ee65a;return _0x260fce['id']=this[a0_0x1bad('0x16')],_0x260fce[a0_0x1bad('0xc')]=this['version'],JSON['stringify'](_0x260fce);}[a0_0x1bad('0x13')](_0x4e0672){let _0x1901b6=!![];if(a0_0x1bad('0x12')in _0x4e0672){if(_0x4e0672[a0_0x1bad('0x12')]!=this[a0_0x1bad('0x16')])_0x1901b6=![];};if(_0x1901b6==![])return;if(a0_0x1bad('0x2')in _0x4e0672){if(_0x4e0672[a0_0x1bad('0x2')]==a0_0x1bad('0x17'))this[a0_0x1bad('0x19')][a0_0x1bad('0x1e')](this[a0_0x1bad('0x7')]({}));else{if(_0x4e0672['command']=='status'){}else{if(_0x4e0672[a0_0x1bad('0x2')]==a0_0x1bad('0x4')){}else{if(_0x4e0672[a0_0x1bad('0x2')]==a0_0x1bad('0xf')){}}}}}console[a0_0x1bad('0x1f')](a0_0x1bad('0x6'),_0x4e0672);}}module[a0_0x1bad('0x5')]=streamMaster;