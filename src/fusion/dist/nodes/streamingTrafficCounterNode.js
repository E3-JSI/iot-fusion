var _0x1518=['datetime','float','store','lastTimestamp','aggrConfigId','processRecord','stampm','carno','log','rawRecord','buffer','push','broadcastAggregates','exports','./streamingNode.js','fusionNodeI','processRecordCb','parent','position','base','createStore','nodeId'];(function(_0x4bd822,_0x2bd6f7){var _0xb4bdb3=function(_0x1d68f6){while(--_0x1d68f6){_0x4bd822['push'](_0x4bd822['shift']());}};var _0x373ea6=function(){var _0x127230={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x395e49,_0x4a51ce,_0x29ec56,_0x5d93df){_0x5d93df=_0x5d93df||{};var _0x1f243b=_0x4a51ce+'='+_0x29ec56;var _0x45f4b0=0x0;for(var _0x45f4b0=0x0,_0x39d3a7=_0x395e49['length'];_0x45f4b0<_0x39d3a7;_0x45f4b0++){var _0x34b4d5=_0x395e49[_0x45f4b0];_0x1f243b+=';\x20'+_0x34b4d5;var _0x434f30=_0x395e49[_0x34b4d5];_0x395e49['push'](_0x434f30);_0x39d3a7=_0x395e49['length'];if(_0x434f30!==!![]){_0x1f243b+='='+_0x434f30;}}_0x5d93df['cookie']=_0x1f243b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2f4ece,_0xfbb64b){_0x2f4ece=_0x2f4ece||function(_0x477725){return _0x477725;};var _0x4a98af=_0x2f4ece(new RegExp('(?:^|;\x20)'+_0xfbb64b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x38c21a=function(_0x3e1e9,_0x258866){_0x3e1e9(++_0x258866);};_0x38c21a(_0xb4bdb3,_0x2bd6f7);return _0x4a98af?decodeURIComponent(_0x4a98af[0x1]):undefined;}};var _0x4237bc=function(){var _0x44931c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x44931c['test'](_0x127230['removeCookie']['toString']());};_0x127230['updateCookie']=_0x4237bc;var _0x322a70='';var _0x53e507=_0x127230['updateCookie']();if(!_0x53e507){_0x127230['setCookie'](['*'],'counter',0x1);}else if(_0x53e507){_0x322a70=_0x127230['getCookie'](null,'counter');}else{_0x127230['removeCookie']();}};_0x373ea6();}(_0x1518,0x7c));var _0x2f61=function(_0x27201d,_0x5b0344){_0x27201d=_0x27201d-0x0;var _0x3b14fa=_0x1518[_0x27201d];return _0x3b14fa;};var _0x510f19=function(){var _0x4bb210=!![];return function(_0xad94a5,_0x5e864c){var _0x1bdb02=_0x4bb210?function(){if(_0x5e864c){var _0x1b94d6=_0x5e864c['apply'](_0xad94a5,arguments);_0x5e864c=null;return _0x1b94d6;}}:function(){};_0x4bb210=![];return _0x1bdb02;};}();var _0x152e10=_0x510f19(this,function(){var _0x4b5ccf=function(){return'\x64\x65\x76';},_0x375d34=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x564aa0=function(){var _0x353528=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x353528['\x74\x65\x73\x74'](_0x4b5ccf['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x383c2d=function(){var _0x1289f9=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1289f9['\x74\x65\x73\x74'](_0x375d34['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5b648e=function(_0x42eff3){var _0x1e8378=~-0x1>>0x1+0xff%0x0;if(_0x42eff3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1e8378)){_0x3fbcf5(_0x42eff3);}};var _0x3fbcf5=function(_0x5ae3af){var _0x1fed3d=~-0x4>>0x1+0xff%0x0;if(_0x5ae3af['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1fed3d){_0x5b648e(_0x5ae3af);}};if(!_0x564aa0()){if(!_0x383c2d()){_0x5b648e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5b648e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5b648e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x152e10();const streamingNode=require(_0x2f61('0x0'));class streamingTrafficCounterNode extends streamingNode{constructor(_0x51f20a,_0x40c339,_0x47d5e2,_0x4b95ae,_0xc16964,_0x26e69e,_0x490a3b){super(_0x51f20a,_0x40c339,_0x47d5e2,_0x4b95ae,_0xc16964,_0x26e69e,_0x490a3b);this[_0x2f61('0x1')]=_0x26e69e;this[_0x2f61('0x2')]=_0xc16964;this[_0x2f61('0x3')]=_0x490a3b;this['nodeId']=_0x47d5e2['nodeid'];this['buffer']=[];this[_0x2f61('0x4')]=0x0;this[_0x2f61('0x5')][_0x2f61('0x6')]({'name':this[_0x2f61('0x7')],'fields':[{'name':'Time','type':_0x2f61('0x8')},{'name':'carno','type':_0x2f61('0x9')},{'name':'v','type':_0x2f61('0x9')}]});this['rawstore']=this[_0x2f61('0x5')][_0x2f61('0xa')](this[_0x2f61('0x7')]);this[_0x2f61('0xb')]=0x0;super['createAggregates'](_0x4b95ae[_0x47d5e2[_0x2f61('0xc')]]);super['postConstructor']();}[_0x2f61('0xd')](_0x567130){let _0x21a2b1={};let _0x158be5=_0x567130[_0x2f61('0xe')];let _0x536323=isNaN(_0x567130['carno'])||_0x567130[_0x2f61('0xf')]==null?0x0:_0x567130[_0x2f61('0xf')];let _0x2569eb=isNaN(_0x567130['v'])||_0x567130['v']==null?0x0:_0x567130['v'];if(_0x158be5<=this[_0x2f61('0xb')]){console[_0x2f61('0x10')]('Traffic\x20Counter\x20-\x20double\x20timestamp.');return;}if(isNaN(_0x158be5)){console[_0x2f61('0x10')]('Traffic\x20Counter\x20-\x20timestamp\x20is\x20NaN!');return;}this[_0x2f61('0x11')]=this['rawstore']['newRecord']({'Time':_0x158be5,'carno':_0x536323,'v':_0x2569eb});this['rawstore']['triggerOnAddCallbacks'](this[_0x2f61('0x11')]);this['lastTimestamp']=_0x158be5;let _0x34689b=super['getAggregates']();let _0x1eca09=_0x34689b;_0x1eca09['carno']=_0x536323;_0x1eca09['v']=_0x2569eb;this[_0x2f61('0x12')][_0x2f61('0x13')](_0x1eca09);super[_0x2f61('0x14')](_0x34689b);this['processRecordCb'](this[_0x2f61('0x1')],this['parent']);}}module[_0x2f61('0x15')]=streamingTrafficCounterNode;