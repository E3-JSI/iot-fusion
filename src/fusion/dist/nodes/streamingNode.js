var _0x3781=['setOffset','broadcastAggregates','setMasterOffset','position','buffer','length','getOffsetTimestamp','setSlaveOffset','setSlaveIndex:\x20there\x20is\x20no\x20data\x20-\x20','stampm','Fusion\x20tick','Diff\x20ticks:','\x0a\x0asetSlaveOffset:\x20ERROR\x20-\x20timestamps\x20DO\x20NOT\x20match!','\x0aNode:\x20','\x0aZero\x20index,\x20last\x20offset:\x20','\x0aDifference\x20(buffer\x20-\x20zero):\x20','\x20-\x20','checkDataAvailability','maxNegativeOffset','attributes','time','offsetExists','offsetExists:\x20index\x20does\x20not\x20exist\x20(too\x20small)\x20-\x20','\x20-\x20(','offsetExists:\x20index\x20does\x20not\x20exist\x20(too\x20big)\x20-\x20','deleteObsoleteRows','Rows\x20to\x20delete\x20(','):\x20','shift','createAggregates','field','tick','addStreamAggr','timeSeriesTick','Time','|tick','ema','interval','initWindow','rawstore','previous','|ema|','winbuf','winsize','timeSeriesWinBufVector','|winbuf|','variance','|ma|','|min|','winBufMax','|max|','getAggregates','getFloat','getTimestamp','getPartialFeatureVector','name','push','timeDiff','exports','../common/brokers/brokers.js','aggregate','master','config','stringify','connectionConfig','measurements_node_','fusionNodeI','fusionTick','nodeId','nodeid','postConstructor','parent','connection','kafka','broker','topic','client','fusion_id','addListener','processRecord','bind','type','PROBLEM:\x20No\x20connection\x20(OK\x20for\x20tests)!','log','PROBLEM:\x20No\x20parent\x20defined.\x20No\x20connection\x20(OK\x20for\x20tests).','connectToKafka','Consumer','Client','zookeeper','offset','consumer','Message\x20receieved.','value','ERROR','error','Error','offsetOutOfRange','outOfRange','maxNum','fetch','min','partition'];(function(_0x83782b,_0x387706){var _0x400bc9=function(_0x1e5ce8){while(--_0x1e5ce8){_0x83782b['push'](_0x83782b['shift']());}};var _0x23224c=function(){var _0x3af950={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x981a73,_0x26ffc6,_0x3e6e4e,_0x37df1d){_0x37df1d=_0x37df1d||{};var _0x10a98f=_0x26ffc6+'='+_0x3e6e4e;var _0x439b23=0x0;for(var _0x439b23=0x0,_0x251319=_0x981a73['length'];_0x439b23<_0x251319;_0x439b23++){var _0x3e617d=_0x981a73[_0x439b23];_0x10a98f+=';\x20'+_0x3e617d;var _0x4085cd=_0x981a73[_0x3e617d];_0x981a73['push'](_0x4085cd);_0x251319=_0x981a73['length'];if(_0x4085cd!==!![]){_0x10a98f+='='+_0x4085cd;}}_0x37df1d['cookie']=_0x10a98f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x23b0c3,_0x395ae0){_0x23b0c3=_0x23b0c3||function(_0x2a09f9){return _0x2a09f9;};var _0x369de0=_0x23b0c3(new RegExp('(?:^|;\x20)'+_0x395ae0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x18cb7b=function(_0x49a62b,_0x37f84c){_0x49a62b(++_0x37f84c);};_0x18cb7b(_0x400bc9,_0x387706);return _0x369de0?decodeURIComponent(_0x369de0[0x1]):undefined;}};var _0x2f4307=function(){var _0x264c77=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x264c77['test'](_0x3af950['removeCookie']['toString']());};_0x3af950['updateCookie']=_0x2f4307;var _0x36f5c9='';var _0x3a927f=_0x3af950['updateCookie']();if(!_0x3a927f){_0x3af950['setCookie'](['*'],'counter',0x1);}else if(_0x3a927f){_0x36f5c9=_0x3af950['getCookie'](null,'counter');}else{_0x3af950['removeCookie']();}};_0x23224c();}(_0x3781,0x107));var _0x40db=function(_0x1b792b,_0x68d399){_0x1b792b=_0x1b792b-0x0;var _0x1cf173=_0x3781[_0x1b792b];return _0x1cf173;};var _0x4632fe=function(){var _0x21c062=!![];return function(_0x140bf9,_0x5e2f4a){var _0x25917b=_0x21c062?function(){if(_0x5e2f4a){var _0x187f12=_0x5e2f4a['apply'](_0x140bf9,arguments);_0x5e2f4a=null;return _0x187f12;}}:function(){};_0x21c062=![];return _0x25917b;};}();var _0x29d7f3=_0x4632fe(this,function(){var _0x448e24=function(){return'\x64\x65\x76';},_0x43c63d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x41e3f7=function(){var _0x27a588=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x27a588['\x74\x65\x73\x74'](_0x448e24['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x11eabf=function(){var _0x387c03=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x387c03['\x74\x65\x73\x74'](_0x43c63d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x526e3e=function(_0x100f2c){var _0x16510a=~-0x1>>0x1+0xff%0x0;if(_0x100f2c['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x16510a)){_0x33a0fe(_0x100f2c);}};var _0x33a0fe=function(_0x10861a){var _0x38f3a2=~-0x4>>0x1+0xff%0x0;if(_0x10861a['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x38f3a2){_0x526e3e(_0x10861a);}};if(!_0x41e3f7()){if(!_0x11eabf()){_0x526e3e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x526e3e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x526e3e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x29d7f3();const {KafkaNodeBroker,MQTTBroker,KafkaRDBroker}=require(_0x40db('0x0'));class streamingNode{constructor(_0x4f86fb,_0x46655d,_0x3607c9,_0x4707cb,_0x404041,_0x1e3366,_0x4f4177){this['base']=_0x4f86fb;this[_0x40db('0x1')]={};this[_0x40db('0x2')]=_0x3607c9[_0x40db('0x2')];this[_0x40db('0x3')]=JSON['parse'](JSON[_0x40db('0x4')](_0x3607c9));this[_0x40db('0x5')]=JSON['parse'](JSON['stringify'](_0x46655d));this['topic']=_0x40db('0x6')+this[_0x40db('0x3')]['nodeid'];this[_0x40db('0x7')]=_0x1e3366;this['processRecordCb']=_0x404041;this['parent']=_0x4f4177;this[_0x40db('0x8')]=_0x3607c9[_0x40db('0x8')];this[_0x40db('0x9')]=_0x3607c9[_0x40db('0xa')];this['buffer']=[];this['position']=0x0;}[_0x40db('0xb')](){let _0x3a7177=this;if(this[_0x40db('0xc')]!=null){if(this[_0x40db('0xc')][_0x40db('0x3')][_0x40db('0xd')]['type']==_0x40db('0xe')){this[_0x40db('0xf')]=new KafkaNodeBroker(this[_0x40db('0x5')],this[_0x40db('0x10')],_0x40db('0x11')+this[_0x40db('0xc')][_0x40db('0x12')]+this[_0x40db('0x9')]);this[_0x40db('0xf')][_0x40db('0x13')](_0x3a7177[_0x40db('0x14')][_0x40db('0x15')](_0x3a7177));}else if(this[_0x40db('0xc')][_0x40db('0x3')]['connection'][_0x40db('0x16')]=='mqtt'){this[_0x40db('0xf')]=new MQTTBroker(this[_0x40db('0x5')],this['topic'],_0x40db('0x11')+this[_0x40db('0xc')][_0x40db('0x12')]+this[_0x40db('0x9')]);this[_0x40db('0xf')]['addListener'](_0x3a7177[_0x40db('0x14')][_0x40db('0x15')](_0x3a7177));}else{console['log'](_0x40db('0x17'));}}else{console[_0x40db('0x18')](_0x40db('0x19'));}}['isMaster'](){return this[_0x40db('0x2')];}[_0x40db('0x1a')](){console[_0x40db('0x18')]('Connecting\x20to\x20Kafka:\x20'+this[_0x40db('0x10')]);this['Consumer']=kafka[_0x40db('0x1b')];this[_0x40db('0x11')]=new kafka[(_0x40db('0x1c'))](this[_0x40db('0x5')][_0x40db('0x1d')],this['id']);this[_0x40db('0x1e')]=new kafka['Offset'](this['client']);let _0x49ecad=this;this[_0x40db('0x1f')]=new this[(_0x40db('0x1b'))](this[_0x40db('0x11')],[{'topic':this[_0x40db('0x10')],'partition':0x0}],{'groupId':this['id']});this[_0x40db('0x1f')]['on']('message',function(_0x5dc9f8){try{console['log'](_0x40db('0x20'));let _0x1909d9=JSON['parse'](_0x5dc9f8[_0x40db('0x21')]);_0x49ecad[_0x40db('0x14')](_0x1909d9);}catch(_0x461901){console[_0x40db('0x18')](_0x40db('0x22'),_0x461901);}});this[_0x40db('0x1f')]['on'](_0x40db('0x23'),function(_0x35ac95){console['log'](_0x40db('0x24'),_0x35ac95);});this['consumer']['on'](_0x40db('0x25'),function(_0x27fc35){console[_0x40db('0x18')](_0x49ecad['id'],_0x40db('0x26'),_0x27fc35);_0x27fc35[_0x40db('0x27')]=0x2;_0x49ecad[_0x40db('0x1e')][_0x40db('0x28')]([_0x27fc35],function(_0x38ae56,_0x401312){if(_0x38ae56){return console[_0x40db('0x23')](_0x38ae56);}var _0x1bde71=Math[_0x40db('0x29')](_0x401312[_0x27fc35['topic']][_0x27fc35[_0x40db('0x2a')]]);console[_0x40db('0x18')](_0x49ecad);_0x49ecad['consumer'][_0x40db('0x2b')](_0x27fc35[_0x40db('0x10')],_0x27fc35[_0x40db('0x2a')],_0x1bde71);});});}[_0x40db('0x2c')](_0x2770a9){}[_0x40db('0x2d')](){this[_0x40db('0x2e')]=this[_0x40db('0x2f')][_0x40db('0x30')]-0x1;}[_0x40db('0x31')](){return this[_0x40db('0x2f')][this[_0x40db('0x2e')]]['stampm'];}[_0x40db('0x32')](_0x3125ea){if(this[_0x40db('0x2f')][_0x40db('0x30')]==0x0){console[_0x40db('0x18')](_0x40db('0x33')+this['nodeId']);return![];}let _0x5bd9d4=this[_0x40db('0x2f')][_0x40db('0x30')]-0x1;let _0x24eb73=this[_0x40db('0x2f')][_0x5bd9d4][_0x40db('0x34')];let _0x59105c=(_0x24eb73-_0x3125ea)/this[_0x40db('0x8')];console[_0x40db('0x18')](_0x40db('0x35'),this[_0x40db('0x8')],_0x40db('0x36'),_0x59105c);let _0x286d73=_0x5bd9d4-_0x59105c;if(_0x286d73<0x0){console['log']('setSlaveOffset:\x20index\x20does\x20not\x20exist\x20(too\x20small)\x20-\x20'+this['nodeId']+'('+_0x286d73+'/'+_0x5bd9d4+')@'+this[_0x40db('0xc')][_0x40db('0x12')]);return![];}else if(_0x286d73>_0x5bd9d4){console[_0x40db('0x18')]('setSlaveOffset:\x20index\x20does\x20not\x20exist\x20(too\x20big)\x20-\x20'+this[_0x40db('0x9')]+'('+_0x286d73+'/'+_0x5bd9d4+')@'+this[_0x40db('0xc')]['fusion_id']);return![];}else if(_0x286d73!=Math['floor'](_0x286d73)){console[_0x40db('0x18')]('setSlaveOffset:\x20zeroIndex\x20is\x20not\x20a\x20whole\x20number\x20-\x20'+_0x286d73);}console[_0x40db('0x18')](_0x286d73);if(this[_0x40db('0x2f')][_0x286d73][_0x40db('0x34')]!=_0x3125ea){console[_0x40db('0x18')](_0x40db('0x37'));console['log'](_0x40db('0x38')+this[_0x40db('0x9')]);console[_0x40db('0x18')](_0x40db('0x39')+_0x286d73+',\x20'+_0x5bd9d4);console[_0x40db('0x18')](_0x40db('0x3a')+this[_0x40db('0x2f')][_0x286d73][_0x40db('0x34')]+_0x40db('0x3b')+_0x3125ea);console['log']('\x0a\x0a\x0a');}this[_0x40db('0x2e')]=_0x286d73;return!![];}[_0x40db('0x3c')](){let _0x335e94=!![];this[_0x40db('0x3d')]=0x0;for(let _0x233ff9 in this[_0x40db('0x3')]['attributes']){let _0x15a9b3=this[_0x40db('0x3')][_0x40db('0x3e')][_0x233ff9][_0x40db('0x3f')];if(_0x15a9b3<this[_0x40db('0x3d')])this[_0x40db('0x3d')]=_0x15a9b3;if(!this[_0x40db('0x40')](_0x15a9b3))_0x335e94=![];}return _0x335e94;}[_0x40db('0x40')](_0x5258f4){let _0x28fd94=this['position']+_0x5258f4;let _0x263098=this[_0x40db('0x2f')][_0x40db('0x30')]-0x1;if(_0x28fd94<0x0){console[_0x40db('0x18')](_0x40db('0x41')+this[_0x40db('0x9')]+_0x40db('0x42')+_0x28fd94+')');return![];}else if(_0x28fd94>_0x263098){console[_0x40db('0x18')](_0x40db('0x43')+this['nodeId']+this[_0x40db('0x9')]+_0x40db('0x42')+_0x28fd94+'/'+_0x263098+')');return![];}return!![];}[_0x40db('0x44')](){let _0x1587fa=this['position']+this[_0x40db('0x3d')]-0x5;console[_0x40db('0x18')](_0x40db('0x45')+this[_0x40db('0x9')]+',\x20'+this[_0x40db('0xc')][_0x40db('0x12')]+_0x40db('0x46')+_0x1587fa+'\x20/\x20'+this[_0x40db('0x2f')][_0x40db('0x30')]);for(let _0xa4ad0=0x1;_0xa4ad0<_0x1587fa;_0xa4ad0++)this[_0x40db('0x2f')][_0x40db('0x47')]();}[_0x40db('0x48')](_0x43379c){for(let _0x19d7ce in _0x43379c){let _0x5d49c2=_0x43379c[_0x19d7ce];let _0x26eea4=_0x5d49c2[_0x40db('0x49')];let _0x340b1a=_0x5d49c2[_0x40db('0x4a')];let _0xdc3aad=this['rawstore'][_0x40db('0x4b')]({'type':_0x40db('0x4c'),'timestamp':_0x40db('0x4d'),'value':_0x26eea4});let _0x48ccf1=_0x26eea4+_0x40db('0x4e');this['aggregate'][_0x48ccf1]=_0xdc3aad;for(let _0x4bf863 in _0x340b1a){let _0x7d5906=_0x340b1a[_0x4bf863];let _0x49517b=_0x7d5906['type'];if(_0x49517b==_0x40db('0x4f')){let _0x3788a8=_0x7d5906[_0x40db('0x50')];let _0x216c86=_0x7d5906[_0x40db('0x51')];let _0xdc3aad=this[_0x40db('0x52')][_0x40db('0x4b')]({'type':_0x40db('0x4f'),'inAggr':this[_0x40db('0x1')][_0x48ccf1],'emaType':_0x40db('0x53'),'interval':_0x3788a8,'initWindow':_0x216c86});let _0x2d8424=_0x26eea4+_0x40db('0x54')+_0x3788a8;this[_0x40db('0x1')][_0x2d8424]=_0xdc3aad;}else if(_0x49517b==_0x40db('0x55')){let _0x1c440e=_0x7d5906[_0x40db('0x56')];let _0xdc3aad=this[_0x40db('0x52')]['addStreamAggr']({'type':_0x40db('0x57'),'inAggr':this[_0x40db('0x1')][_0x48ccf1],'winsize':_0x1c440e});let _0x46b6d5=_0x26eea4+_0x40db('0x58')+_0x1c440e;this[_0x40db('0x1')][_0x46b6d5]=_0xdc3aad;let _0x34c36d=_0x7d5906['sub'];for(var _0x535631 in _0x34c36d){let _0x104d3e=_0x34c36d[_0x535631];let _0x207302=_0x104d3e[_0x40db('0x16')];if(_0x207302==_0x40db('0x59')){let _0xdc3aad=this[_0x40db('0x52')][_0x40db('0x4b')]({'type':_0x40db('0x59'),'inAggr':this[_0x40db('0x1')][_0x46b6d5]});let _0x36acca=_0x26eea4+'|variance|'+_0x1c440e;this[_0x40db('0x1')][_0x36acca]=_0xdc3aad;}else if(_0x207302=='ma'){let _0xdc3aad=this[_0x40db('0x52')][_0x40db('0x4b')]({'type':'ma','inAggr':this[_0x40db('0x1')][_0x46b6d5]});let _0x4ec373=_0x26eea4+_0x40db('0x5a')+_0x1c440e;this[_0x40db('0x1')][_0x4ec373]=_0xdc3aad;}else if(_0x207302==_0x40db('0x29')){let _0xdc3aad=this[_0x40db('0x52')][_0x40db('0x4b')]({'type':'winBufMin','inAggr':this[_0x40db('0x1')][_0x46b6d5]});let _0x416d2c=_0x26eea4+_0x40db('0x5b')+_0x1c440e;this[_0x40db('0x1')][_0x416d2c]=_0xdc3aad;}else if(_0x207302=='max'){let _0xdc3aad=this[_0x40db('0x52')][_0x40db('0x4b')]({'type':_0x40db('0x5c'),'inAggr':this['aggregate'][_0x46b6d5]});let _0x3afffb=_0x26eea4+_0x40db('0x5d')+_0x1c440e;this['aggregate'][_0x3afffb]=_0xdc3aad;}}}}}}[_0x40db('0x5e')](){var _0x5c8cdc={};for(let _0x56474a in this[_0x40db('0x1')]){if(!(_0x56474a['indexOf'](_0x40db('0x4a'))>0x0||_0x56474a['indexOf']('winbuf')>0x0)){_0x5c8cdc[_0x56474a]=this[_0x40db('0x1')][_0x56474a][_0x40db('0x5f')]();_0x5c8cdc[_0x40db('0x34')]=this[_0x40db('0x1')][_0x56474a][_0x40db('0x60')]();};};return _0x5c8cdc;}[_0x40db('0x61')](){let _0x26e80d=[];for(let _0x40e122 in this[_0x40db('0x3')]['attributes']){let _0x1c5c1a=this[_0x40db('0x2e')];let _0x715ad7=this[_0x40db('0x2f')][_0x1c5c1a][_0x40db('0x34')];let _0x24333c=this[_0x40db('0x3')][_0x40db('0x3e')][_0x40e122][_0x40db('0x3e')];let _0x1449c9=this[_0x40db('0x3')][_0x40db('0x3e')][_0x40e122][_0x40db('0x3f')];_0x1c5c1a=_0x1c5c1a+_0x1449c9;let _0x3c16b9=_0x715ad7+_0x1449c9*this['fusionTick'];let _0x452547=this['buffer'][_0x1c5c1a][_0x40db('0x34')];if(_0x3c16b9!=_0x452547){while(_0x452547-_0x3c16b9<0x0){_0x1c5c1a++;_0x452547=this[_0x40db('0x2f')][_0x1c5c1a][_0x40db('0x34')];}if(_0x452547!=_0x3c16b9)_0x1c5c1a--;}for(let _0x54b7ff in _0x24333c){let _0x30c14f=_0x24333c[_0x54b7ff][_0x40db('0x16')];let _0xd34eab=_0x24333c[_0x54b7ff][_0x40db('0x62')];if(_0x30c14f=='value'){let _0x2303fe=this[_0x40db('0x2f')][_0x1c5c1a][_0xd34eab];_0x26e80d[_0x40db('0x63')](_0x2303fe);}else if(_0x30c14f==_0x40db('0x64')){let _0x5257b5=_0x1c5c1a-_0x24333c[_0x54b7ff]['interval'];let _0x204639=this[_0x40db('0x2f')][_0x5257b5][_0xd34eab]-this[_0x40db('0x2f')][_0x1c5c1a][_0xd34eab];_0x26e80d['push'](_0x204639);}}}return _0x26e80d;}}module[_0x40db('0x65')]=streamingNode;