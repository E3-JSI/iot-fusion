var _0x2b52=['aggrConfigId','postConstructor','processRecord','current','getFloat','rawRecord','newRecord','triggerOnAddCallbacks','getAggregates','stampm','buffer','push','broadcastAggregates','fusionNodeI','log','PROBLEM:\x20SubstationNode\x20timeline\x20problem.','exports','processRecordCb','parent','nodeId','nodeid','position','lastTimestamp','MIN_SAFE_INTEGER','lastcurrent','lastvoltage','base','createStore','Time','datetime','float','voltage','power','store','currentTick','addStreamAggr','currentEMA','previous','voltageTick','rawstore','timeSeriesTick','voltageEMA','powerEMA','ema','createAggregates'];(function(_0x18f45f,_0x5350ad){var _0x786c5b=function(_0x9c6d4a){while(--_0x9c6d4a){_0x18f45f['push'](_0x18f45f['shift']());}};var _0x21a06b=function(){var _0x524286={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x45162c,_0x55ca53,_0x452574,_0x1b6a17){_0x1b6a17=_0x1b6a17||{};var _0x136417=_0x55ca53+'='+_0x452574;var _0x377b43=0x0;for(var _0x377b43=0x0,_0x59fdac=_0x45162c['length'];_0x377b43<_0x59fdac;_0x377b43++){var _0x566e2d=_0x45162c[_0x377b43];_0x136417+=';\x20'+_0x566e2d;var _0x3f2687=_0x45162c[_0x566e2d];_0x45162c['push'](_0x3f2687);_0x59fdac=_0x45162c['length'];if(_0x3f2687!==!![]){_0x136417+='='+_0x3f2687;}}_0x1b6a17['cookie']=_0x136417;},'removeCookie':function(){return'dev';},'getCookie':function(_0x489171,_0x58169d){_0x489171=_0x489171||function(_0x2e5d6c){return _0x2e5d6c;};var _0x388a69=_0x489171(new RegExp('(?:^|;\x20)'+_0x58169d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x233f01=function(_0x346021,_0x824df9){_0x346021(++_0x824df9);};_0x233f01(_0x786c5b,_0x5350ad);return _0x388a69?decodeURIComponent(_0x388a69[0x1]):undefined;}};var _0x4859d4=function(){var _0x4acd44=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4acd44['test'](_0x524286['removeCookie']['toString']());};_0x524286['updateCookie']=_0x4859d4;var _0x3a4750='';var _0x1070e6=_0x524286['updateCookie']();if(!_0x1070e6){_0x524286['setCookie'](['*'],'counter',0x1);}else if(_0x1070e6){_0x3a4750=_0x524286['getCookie'](null,'counter');}else{_0x524286['removeCookie']();}};_0x21a06b();}(_0x2b52,0x14c));var _0x416c=function(_0x4f84c9,_0x2d13e6){_0x4f84c9=_0x4f84c9-0x0;var _0x1e112f=_0x2b52[_0x4f84c9];return _0x1e112f;};var _0x1ade70=function(){var _0x5756a1=!![];return function(_0x211043,_0x244b20){var _0x48f00d=_0x5756a1?function(){if(_0x244b20){var _0x1b8c3b=_0x244b20['apply'](_0x211043,arguments);_0x244b20=null;return _0x1b8c3b;}}:function(){};_0x5756a1=![];return _0x48f00d;};}();var _0x2541ca=_0x1ade70(this,function(){var _0x337b4e=function(){return'\x64\x65\x76';},_0x28189c=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x54b026=function(){var _0x1b0873=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1b0873['\x74\x65\x73\x74'](_0x337b4e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x324a19=function(){var _0x52aa1a=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x52aa1a['\x74\x65\x73\x74'](_0x28189c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x33d01d=function(_0x3f0cdf){var _0x55fade=~-0x1>>0x1+0xff%0x0;if(_0x3f0cdf['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x55fade)){_0x4b846d(_0x3f0cdf);}};var _0x4b846d=function(_0x4f0ee3){var _0x354337=~-0x4>>0x1+0xff%0x0;if(_0x4f0ee3['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x354337){_0x33d01d(_0x4f0ee3);}};if(!_0x54b026()){if(!_0x324a19()){_0x33d01d('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x33d01d('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x33d01d('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2541ca();const streamingNode=require('./streamingNode.js');class streamingSubstationNode extends streamingNode{constructor(_0x542378,_0x3d3b27,_0x106e49,_0xeda8ca,_0x30a6a8,_0x224e97,_0x34818b){super(_0x542378,_0x3d3b27,_0x106e49,_0xeda8ca,_0x30a6a8,_0x224e97,_0x34818b);this['fusionNodeI']=_0x224e97;this[_0x416c('0x0')]=_0x30a6a8;this[_0x416c('0x1')]=_0x34818b;this[_0x416c('0x2')]=_0x106e49[_0x416c('0x3')];this['buffer']=[];this[_0x416c('0x4')]=0x0;this[_0x416c('0x5')]=Number[_0x416c('0x6')];this[_0x416c('0x7')]=0x0;this[_0x416c('0x8')]=0x0;this[_0x416c('0x9')][_0x416c('0xa')]({'name':this['nodeId'],'fields':[{'name':_0x416c('0xb'),'type':_0x416c('0xc')},{'name':'current','type':_0x416c('0xd')},{'name':_0x416c('0xe'),'type':_0x416c('0xd')},{'name':_0x416c('0xf'),'type':_0x416c('0xd')}]});this['rawstore']=this[_0x416c('0x9')][_0x416c('0x10')](this[_0x416c('0x2')]);this[_0x416c('0x11')]=this['rawstore'][_0x416c('0x12')]({'type':'timeSeriesTick','timestamp':_0x416c('0xb'),'value':'current'});this[_0x416c('0x13')]=this['rawstore'][_0x416c('0x12')]({'type':'ema','inAggr':this['currentTick'],'emaType':_0x416c('0x14'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x416c('0x15')]=this[_0x416c('0x16')][_0x416c('0x12')]({'type':_0x416c('0x17'),'timestamp':_0x416c('0xb'),'value':_0x416c('0xe')});this[_0x416c('0x18')]=this[_0x416c('0x16')][_0x416c('0x12')]({'type':'ema','inAggr':this[_0x416c('0x15')],'emaType':_0x416c('0x14'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this['powerTick']=this[_0x416c('0x16')]['addStreamAggr']({'type':_0x416c('0x17'),'timestamp':'Time','value':_0x416c('0xf')});this[_0x416c('0x19')]=this[_0x416c('0x16')]['addStreamAggr']({'type':_0x416c('0x1a'),'inAggr':this['voltageTick'],'emaType':_0x416c('0x14'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});super[_0x416c('0x1b')](_0xeda8ca[_0x106e49[_0x416c('0x1c')]]);super[_0x416c('0x1d')]();}[_0x416c('0x1e')](_0x2c34bb){let _0x5d5f0b=_0x2c34bb['timestamp'];if(this[_0x416c('0x5')]<_0x5d5f0b){let _0x1af647=new Date(_0x5d5f0b);let _0x21793f;if(isNaN(_0x1af647)==!![]){_0x21793f=0x0;}else{_0x21793f=_0x1af647['toISOString']();}let _0xe8bdae=!(_0x416c('0x1f')in _0x2c34bb)||isNaN(_0x2c34bb[_0x416c('0x1f')])||_0x2c34bb[_0x416c('0x1f')]==null;let _0x29e441=!(_0x416c('0xe')in _0x2c34bb)||isNaN(_0x2c34bb[_0x416c('0xe')])||_0x2c34bb[_0x416c('0xe')]==null;let _0x103e5e=_0xe8bdae?this[_0x416c('0x13')][_0x416c('0x20')]():_0x2c34bb[_0x416c('0x1f')];let _0x380b8d=_0x29e441?this['voltageEMA']['getFloat']():_0x2c34bb[_0x416c('0xe')];let _0x434be6=_0xe8bdae&&_0x29e441?this['powerEMA'][_0x416c('0x20')]():_0x103e5e*_0x380b8d;this[_0x416c('0x21')]=this['rawstore'][_0x416c('0x22')]({'Time':_0x21793f,'current':_0x103e5e,'voltage':_0x380b8d,'power':_0x434be6});this[_0x416c('0x16')][_0x416c('0x23')](this[_0x416c('0x21')]);let _0x77d263=super[_0x416c('0x24')]();let _0x8f11e4=_0x77d263;_0x8f11e4[_0x416c('0x25')]=_0x5d5f0b;_0x8f11e4[_0x416c('0x1f')]=this['lastcurrent'];_0x8f11e4['voltage']=this['lastvoltage'];if(_0x5d5f0b%this['fusionTick']==0x0){this[_0x416c('0x26')][_0x416c('0x27')](_0x8f11e4);super[_0x416c('0x28')](_0x77d263);this[_0x416c('0x0')](this[_0x416c('0x29')],this[_0x416c('0x1')]);};}else{console[_0x416c('0x2a')](_0x416c('0x2b'));}}}module[_0x416c('0x2c')]=streamingSubstationNode;