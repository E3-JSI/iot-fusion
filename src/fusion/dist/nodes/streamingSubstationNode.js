var _0x56d4=['voltageEMA','powerTick','powerEMA','createAggregates','postConstructor','processRecord','timestamp','toISOString','getFloat','newRecord','triggerOnAddCallbacks','rawRecord','stampm','fusionTick','push','broadcastAggregates','log','PROBLEM:\x20SubstationNode\x20timeline\x20problem.','exports','fusionNodeI','processRecordCb','parent','nodeId','nodeid','buffer','position','lastTimestamp','MIN_SAFE_INTEGER','lastcurrent','lastvoltage','base','createStore','Time','datetime','current','voltage','float','power','rawstore','addStreamAggr','timeSeriesTick','currentEMA','ema','currentTick','previous','voltageTick'];(function(_0x299f6f,_0x250bf9){var _0x3ea78a=function(_0x204e27){while(--_0x204e27){_0x299f6f['push'](_0x299f6f['shift']());}};var _0x322806=function(){var _0x4d6a10={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x42afbf,_0x12ac0b,_0x20a140,_0x2f7766){_0x2f7766=_0x2f7766||{};var _0xbfc99c=_0x12ac0b+'='+_0x20a140;var _0x5024cf=0x0;for(var _0x5024cf=0x0,_0x1909ff=_0x42afbf['length'];_0x5024cf<_0x1909ff;_0x5024cf++){var _0x58bfc2=_0x42afbf[_0x5024cf];_0xbfc99c+=';\x20'+_0x58bfc2;var _0x4a5166=_0x42afbf[_0x58bfc2];_0x42afbf['push'](_0x4a5166);_0x1909ff=_0x42afbf['length'];if(_0x4a5166!==!![]){_0xbfc99c+='='+_0x4a5166;}}_0x2f7766['cookie']=_0xbfc99c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x28c13f,_0xc40675){_0x28c13f=_0x28c13f||function(_0x474c1b){return _0x474c1b;};var _0x310f12=_0x28c13f(new RegExp('(?:^|;\x20)'+_0xc40675['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x2a8089=function(_0x1a508e,_0x56790d){_0x1a508e(++_0x56790d);};_0x2a8089(_0x3ea78a,_0x250bf9);return _0x310f12?decodeURIComponent(_0x310f12[0x1]):undefined;}};var _0x196b40=function(){var _0x4eb43c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4eb43c['test'](_0x4d6a10['removeCookie']['toString']());};_0x4d6a10['updateCookie']=_0x196b40;var _0x2d8c1d='';var _0x19da42=_0x4d6a10['updateCookie']();if(!_0x19da42){_0x4d6a10['setCookie'](['*'],'counter',0x1);}else if(_0x19da42){_0x2d8c1d=_0x4d6a10['getCookie'](null,'counter');}else{_0x4d6a10['removeCookie']();}};_0x322806();}(_0x56d4,0x1df));var _0x4ad7=function(_0x1d6d4e,_0x3b1d6c){_0x1d6d4e=_0x1d6d4e-0x0;var _0x2abf7b=_0x56d4[_0x1d6d4e];return _0x2abf7b;};var _0x78f540=function(){var _0x373c1e=!![];return function(_0x4c6f59,_0x27ed1f){var _0x1d1c39=_0x373c1e?function(){if(_0x27ed1f){var _0x1058a4=_0x27ed1f['apply'](_0x4c6f59,arguments);_0x27ed1f=null;return _0x1058a4;}}:function(){};_0x373c1e=![];return _0x1d1c39;};}();var _0x5e7b6f=_0x78f540(this,function(){var _0x3b4e91=function(){return'\x64\x65\x76';},_0x4a33b6=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1e6c64=function(){var _0x52124f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x52124f['\x74\x65\x73\x74'](_0x3b4e91['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3db3dd=function(){var _0x1c58f5=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1c58f5['\x74\x65\x73\x74'](_0x4a33b6['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2d603d=function(_0x4dfe68){var _0x19b00b=~-0x1>>0x1+0xff%0x0;if(_0x4dfe68['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x19b00b)){_0x4cafaa(_0x4dfe68);}};var _0x4cafaa=function(_0x8e8baf){var _0xa415a0=~-0x4>>0x1+0xff%0x0;if(_0x8e8baf['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0xa415a0){_0x2d603d(_0x8e8baf);}};if(!_0x1e6c64()){if(!_0x3db3dd()){_0x2d603d('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2d603d('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2d603d('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5e7b6f();const streamingNode=require('./streamingNode.js');class streamingSubstationNode extends streamingNode{constructor(_0x16b439,_0x18011b,_0x10856e,_0x4cf61f,_0x1a0c90,_0x13db37,_0x2b7c5d){super(_0x16b439,_0x18011b,_0x10856e,_0x4cf61f,_0x1a0c90,_0x13db37,_0x2b7c5d);this[_0x4ad7('0x0')]=_0x13db37;this[_0x4ad7('0x1')]=_0x1a0c90;this[_0x4ad7('0x2')]=_0x2b7c5d;this[_0x4ad7('0x3')]=_0x10856e[_0x4ad7('0x4')];this[_0x4ad7('0x5')]=[];this[_0x4ad7('0x6')]=0x0;this[_0x4ad7('0x7')]=Number[_0x4ad7('0x8')];this[_0x4ad7('0x9')]=0x0;this[_0x4ad7('0xa')]=0x0;this[_0x4ad7('0xb')][_0x4ad7('0xc')]({'name':this['nodeId'],'fields':[{'name':_0x4ad7('0xd'),'type':_0x4ad7('0xe')},{'name':_0x4ad7('0xf'),'type':'float'},{'name':_0x4ad7('0x10'),'type':_0x4ad7('0x11')},{'name':_0x4ad7('0x12'),'type':_0x4ad7('0x11')}]});this[_0x4ad7('0x13')]=this[_0x4ad7('0xb')]['store'](this[_0x4ad7('0x3')]);this['currentTick']=this['rawstore'][_0x4ad7('0x14')]({'type':_0x4ad7('0x15'),'timestamp':_0x4ad7('0xd'),'value':_0x4ad7('0xf')});this[_0x4ad7('0x16')]=this[_0x4ad7('0x13')]['addStreamAggr']({'type':_0x4ad7('0x17'),'inAggr':this[_0x4ad7('0x18')],'emaType':_0x4ad7('0x19'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x4ad7('0x1a')]=this[_0x4ad7('0x13')]['addStreamAggr']({'type':_0x4ad7('0x15'),'timestamp':_0x4ad7('0xd'),'value':_0x4ad7('0x10')});this[_0x4ad7('0x1b')]=this['rawstore']['addStreamAggr']({'type':_0x4ad7('0x17'),'inAggr':this[_0x4ad7('0x1a')],'emaType':_0x4ad7('0x19'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x4ad7('0x1c')]=this[_0x4ad7('0x13')]['addStreamAggr']({'type':_0x4ad7('0x15'),'timestamp':_0x4ad7('0xd'),'value':_0x4ad7('0x12')});this[_0x4ad7('0x1d')]=this[_0x4ad7('0x13')][_0x4ad7('0x14')]({'type':_0x4ad7('0x17'),'inAggr':this[_0x4ad7('0x1a')],'emaType':_0x4ad7('0x19'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});super[_0x4ad7('0x1e')](_0x4cf61f[_0x10856e['aggrConfigId']]);super[_0x4ad7('0x1f')]();}[_0x4ad7('0x20')](_0x2726a2){let _0x12b062=_0x2726a2[_0x4ad7('0x21')];if(this[_0x4ad7('0x7')]<_0x12b062){let _0x29d696=new Date(_0x12b062);let _0x393e50;if(isNaN(_0x29d696)==!![]){_0x393e50=0x0;}else{_0x393e50=_0x29d696[_0x4ad7('0x22')]();}let _0x2e54a2=!('current'in _0x2726a2)||isNaN(_0x2726a2[_0x4ad7('0xf')])||_0x2726a2[_0x4ad7('0xf')]==null;let _0x558823=!(_0x4ad7('0x10')in _0x2726a2)||isNaN(_0x2726a2[_0x4ad7('0x10')])||_0x2726a2['voltage']==null;let _0x19c7f0=_0x2e54a2?this[_0x4ad7('0x16')]['getFloat']():_0x2726a2[_0x4ad7('0xf')];let _0x51acd8=_0x558823?this[_0x4ad7('0x1b')][_0x4ad7('0x23')]():_0x2726a2[_0x4ad7('0x10')];let _0x1c7381=_0x2e54a2&&_0x558823?this[_0x4ad7('0x1d')][_0x4ad7('0x23')]():_0x19c7f0*_0x51acd8;this['rawRecord']=this['rawstore'][_0x4ad7('0x24')]({'Time':_0x393e50,'current':_0x19c7f0,'voltage':_0x51acd8,'power':_0x1c7381});this[_0x4ad7('0x13')][_0x4ad7('0x25')](this[_0x4ad7('0x26')]);let _0x28793b=super['getAggregates']();let _0x243b98=_0x28793b;_0x243b98[_0x4ad7('0x27')]=_0x12b062;_0x243b98['current']=this['lastcurrent'];_0x243b98['voltage']=this[_0x4ad7('0xa')];if(_0x12b062%this[_0x4ad7('0x28')]==0x0){this['buffer'][_0x4ad7('0x29')](_0x243b98);super[_0x4ad7('0x2a')](_0x28793b);this['processRecordCb'](this[_0x4ad7('0x0')],this[_0x4ad7('0x2')]);};}else{console[_0x4ad7('0x2b')](_0x4ad7('0x2c'));}}}module[_0x4ad7('0x2d')]=streamingSubstationNode;