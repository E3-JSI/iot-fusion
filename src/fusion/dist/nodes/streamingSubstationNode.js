var _0x1760=['voltageEMA','previous','powerTick','powerEMA','aggrConfigId','postConstructor','processRecord','timestamp','toISOString','getFloat','rawRecord','newRecord','getAggregates','stampm','lastcurrent','fusionTick','buffer','push','processRecordCb','log','PROBLEM:\x20SubstationNode\x20timeline\x20problem.','exports','./streamingNode.js','fusionNodeI','parent','nodeid','position','lastTimestamp','lastvoltage','base','createStore','nodeId','current','power','store','currentTick','rawstore','addStreamAggr','Time','ema','voltageTick','timeSeriesTick','voltage'];(function(_0x534816,_0x323a78){var _0x1b0504=function(_0x241dbe){while(--_0x241dbe){_0x534816['push'](_0x534816['shift']());}};var _0x81f0b=function(){var _0x29e4c3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1d77ad,_0x479567,_0x1298f8,_0x656cf8){_0x656cf8=_0x656cf8||{};var _0x5d3705=_0x479567+'='+_0x1298f8;var _0x19e767=0x0;for(var _0x19e767=0x0,_0x2f6439=_0x1d77ad['length'];_0x19e767<_0x2f6439;_0x19e767++){var _0xd4119b=_0x1d77ad[_0x19e767];_0x5d3705+=';\x20'+_0xd4119b;var _0x38fcc6=_0x1d77ad[_0xd4119b];_0x1d77ad['push'](_0x38fcc6);_0x2f6439=_0x1d77ad['length'];if(_0x38fcc6!==!![]){_0x5d3705+='='+_0x38fcc6;}}_0x656cf8['cookie']=_0x5d3705;},'removeCookie':function(){return'dev';},'getCookie':function(_0x27d9a4,_0x4f9863){_0x27d9a4=_0x27d9a4||function(_0x525285){return _0x525285;};var _0x255bdf=_0x27d9a4(new RegExp('(?:^|;\x20)'+_0x4f9863['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x9b90e6=function(_0x5fa575,_0xeef6ba){_0x5fa575(++_0xeef6ba);};_0x9b90e6(_0x1b0504,_0x323a78);return _0x255bdf?decodeURIComponent(_0x255bdf[0x1]):undefined;}};var _0x53c1d0=function(){var _0x3bce04=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3bce04['test'](_0x29e4c3['removeCookie']['toString']());};_0x29e4c3['updateCookie']=_0x53c1d0;var _0x2df228='';var _0x2fe69c=_0x29e4c3['updateCookie']();if(!_0x2fe69c){_0x29e4c3['setCookie'](['*'],'counter',0x1);}else if(_0x2fe69c){_0x2df228=_0x29e4c3['getCookie'](null,'counter');}else{_0x29e4c3['removeCookie']();}};_0x81f0b();}(_0x1760,0x199));var _0x22e1=function(_0x4c6027,_0x59325f){_0x4c6027=_0x4c6027-0x0;var _0xedbe18=_0x1760[_0x4c6027];return _0xedbe18;};var _0x4b2d2b=function(){var _0x18f060=!![];return function(_0x26e8af,_0x39271f){var _0x4762b6=_0x18f060?function(){if(_0x39271f){var _0x58abcd=_0x39271f['apply'](_0x26e8af,arguments);_0x39271f=null;return _0x58abcd;}}:function(){};_0x18f060=![];return _0x4762b6;};}();var _0x1c8e4c=_0x4b2d2b(this,function(){var _0x5c46c0=function(){return'\x64\x65\x76';},_0xf05f49=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x139f2b=function(){var _0x3ba329=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3ba329['\x74\x65\x73\x74'](_0x5c46c0['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x469156=function(){var _0x31b323=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x31b323['\x74\x65\x73\x74'](_0xf05f49['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xc8a2f=function(_0x14239a){var _0x1bffe4=~-0x1>>0x1+0xff%0x0;if(_0x14239a['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1bffe4)){_0x296dc8(_0x14239a);}};var _0x296dc8=function(_0x12f4b8){var _0x1958c3=~-0x4>>0x1+0xff%0x0;if(_0x12f4b8['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1958c3){_0xc8a2f(_0x12f4b8);}};if(!_0x139f2b()){if(!_0x469156()){_0xc8a2f('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0xc8a2f('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0xc8a2f('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1c8e4c();const streamingNode=require(_0x22e1('0x0'));class streamingSubstationNode extends streamingNode{constructor(_0x12976c,_0x445e5e,_0x47dfab,_0x60d4b9,_0x1bbe8e,_0x3d4388,_0xd00e44){super(_0x12976c,_0x445e5e,_0x47dfab,_0x60d4b9,_0x1bbe8e,_0x3d4388,_0xd00e44);this[_0x22e1('0x1')]=_0x3d4388;this['processRecordCb']=_0x1bbe8e;this[_0x22e1('0x2')]=_0xd00e44;this['nodeId']=_0x47dfab[_0x22e1('0x3')];this['buffer']=[];this[_0x22e1('0x4')]=0x0;this[_0x22e1('0x5')]=Number['MIN_SAFE_INTEGER'];this['lastcurrent']=0x0;this[_0x22e1('0x6')]=0x0;this[_0x22e1('0x7')][_0x22e1('0x8')]({'name':this[_0x22e1('0x9')],'fields':[{'name':'Time','type':'datetime'},{'name':_0x22e1('0xa'),'type':'float'},{'name':'voltage','type':'float'},{'name':_0x22e1('0xb'),'type':'float'}]});this['rawstore']=this[_0x22e1('0x7')][_0x22e1('0xc')](this[_0x22e1('0x9')]);this[_0x22e1('0xd')]=this[_0x22e1('0xe')][_0x22e1('0xf')]({'type':'timeSeriesTick','timestamp':_0x22e1('0x10'),'value':'current'});this['currentEMA']=this[_0x22e1('0xe')][_0x22e1('0xf')]({'type':_0x22e1('0x11'),'inAggr':this['currentTick'],'emaType':'previous','interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x22e1('0x12')]=this['rawstore'][_0x22e1('0xf')]({'type':_0x22e1('0x13'),'timestamp':_0x22e1('0x10'),'value':_0x22e1('0x14')});this[_0x22e1('0x15')]=this[_0x22e1('0xe')][_0x22e1('0xf')]({'type':_0x22e1('0x11'),'inAggr':this[_0x22e1('0x12')],'emaType':_0x22e1('0x16'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x22e1('0x17')]=this[_0x22e1('0xe')][_0x22e1('0xf')]({'type':_0x22e1('0x13'),'timestamp':'Time','value':_0x22e1('0xb')});this[_0x22e1('0x18')]=this['rawstore']['addStreamAggr']({'type':_0x22e1('0x11'),'inAggr':this['voltageTick'],'emaType':_0x22e1('0x16'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});super['createAggregates'](_0x60d4b9[_0x47dfab[_0x22e1('0x19')]]);super[_0x22e1('0x1a')]();}[_0x22e1('0x1b')](_0x2274e2){let _0x1a6d18=_0x2274e2[_0x22e1('0x1c')];if(this[_0x22e1('0x5')]<_0x1a6d18){let _0x463f1d=new Date(_0x1a6d18);let _0x1bc28e;if(isNaN(_0x463f1d)==!![]){_0x1bc28e=0x0;}else{_0x1bc28e=_0x463f1d[_0x22e1('0x1d')]();}let _0x1dd220=!(_0x22e1('0xa')in _0x2274e2)||isNaN(_0x2274e2[_0x22e1('0xa')])||_0x2274e2[_0x22e1('0xa')]==null;let _0xd1ae16=!(_0x22e1('0x14')in _0x2274e2)||isNaN(_0x2274e2[_0x22e1('0x14')])||_0x2274e2[_0x22e1('0x14')]==null;let _0x37e517=_0x1dd220?this['currentEMA'][_0x22e1('0x1e')]():_0x2274e2[_0x22e1('0xa')];let _0x5b4495=_0xd1ae16?this[_0x22e1('0x15')][_0x22e1('0x1e')]():_0x2274e2[_0x22e1('0x14')];let _0x3d27b0=_0x1dd220&&_0xd1ae16?this[_0x22e1('0x18')][_0x22e1('0x1e')]():_0x37e517*_0x5b4495;this[_0x22e1('0x1f')]=this[_0x22e1('0xe')][_0x22e1('0x20')]({'Time':_0x1bc28e,'current':_0x37e517,'voltage':_0x5b4495,'power':_0x3d27b0});this['rawstore']['triggerOnAddCallbacks'](this['rawRecord']);let _0x2c2c2d=super[_0x22e1('0x21')]();let _0x4561d3=_0x2c2c2d;_0x4561d3[_0x22e1('0x22')]=_0x1a6d18;_0x4561d3[_0x22e1('0xa')]=this[_0x22e1('0x23')];_0x4561d3[_0x22e1('0x14')]=this['lastvoltage'];if(_0x1a6d18%this[_0x22e1('0x24')]==0x0){this[_0x22e1('0x25')][_0x22e1('0x26')](_0x4561d3);super['broadcastAggregates'](_0x2c2c2d);this[_0x22e1('0x27')](this['fusionNodeI'],this[_0x22e1('0x2')]);};}else{console[_0x22e1('0x28')](_0x22e1('0x29'));}}}module[_0x22e1('0x2a')]=streamingSubstationNode;