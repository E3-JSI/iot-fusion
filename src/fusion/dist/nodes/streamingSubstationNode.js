const a0_0x2ff9=['ema','processRecordCb','nodeId','createAggregates','power','lastTimestamp','rawstore','datetime','lastvoltage','test','Time','postConstructor','log','float','voltageEMA','PROBLEM:\x20SubstationNode\x20timeline\x20problem.','aggrConfigId','./streamingNode.js','currentEMA','current','getFloat','rawRecord','return\x20/\x22\x20+\x20this\x20+\x20\x22/','store','voltage','voltageTick','currentTick','toISOString','powerTick','buffer','exports','lastcurrent','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','MIN_SAFE_INTEGER','addStreamAggr','previous','powerEMA','constructor','processRecord','triggerOnAddCallbacks','fusionNodeI','newRecord','push','position','timeSeriesTick'];(function(_0x555cc0,_0x2ff96d){const _0x2f4de2=function(_0x3100bf){while(--_0x3100bf){_0x555cc0['push'](_0x555cc0['shift']());}},_0x16e786=function(){const _0x4e085a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4aa063,_0x5e7165,_0x546c6d,_0x28c739){_0x28c739=_0x28c739||{};let _0x58e114=_0x5e7165+'='+_0x546c6d,_0x4c5e9e=0x0;for(let _0x3a0a42=0x0,_0x3b4d32=_0x4aa063['length'];_0x3a0a42<_0x3b4d32;_0x3a0a42++){const _0x32c943=_0x4aa063[_0x3a0a42];_0x58e114+=';\x20'+_0x32c943;const _0x82c438=_0x4aa063[_0x32c943];_0x4aa063['push'](_0x82c438),_0x3b4d32=_0x4aa063['length'],_0x82c438!==!![]&&(_0x58e114+='='+_0x82c438);}_0x28c739['cookie']=_0x58e114;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2f999f,_0x5d2369){_0x2f999f=_0x2f999f||function(_0x2c5c53){return _0x2c5c53;};const _0x26c1b4=_0x2f999f(new RegExp('(?:^|;\x20)'+_0x5d2369['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5841a9=function(_0x50cd02,_0x50d4d3){_0x50cd02(++_0x50d4d3);};return _0x5841a9(_0x2f4de2,_0x2ff96d),_0x26c1b4?decodeURIComponent(_0x26c1b4[0x1]):undefined;}},_0x1c88cf=function(){const _0x18e945=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x18e945['test'](_0x4e085a['removeCookie']['toString']());};_0x4e085a['updateCookie']=_0x1c88cf;let _0x1876de='';const _0x15f9a2=_0x4e085a['updateCookie']();if(!_0x15f9a2)_0x4e085a['setCookie'](['*'],'counter',0x1);else _0x15f9a2?_0x1876de=_0x4e085a['getCookie'](null,'counter'):_0x4e085a['removeCookie']();};_0x16e786();}(a0_0x2ff9,0x1ca));const a0_0x2f4d=function(_0x555cc0,_0x2ff96d){_0x555cc0=_0x555cc0-0x0;let _0x2f4de2=a0_0x2ff9[_0x555cc0];return _0x2f4de2;};const a0_0x546c6d=function(){let _0x207b71=!![];return function(_0x1b194f,_0x172884){const _0x2b50a8=_0x207b71?function(){if(_0x172884){const _0x3bb509=_0x172884['apply'](_0x1b194f,arguments);return _0x172884=null,_0x3bb509;}}:function(){};return _0x207b71=![],_0x2b50a8;};}(),a0_0x5e7165=a0_0x546c6d(this,function(){const _0x10d25c=function(){const _0x277bb1=_0x10d25c['constructor'](a0_0x2f4d('0xe'))()[a0_0x2f4d('0x1d')](a0_0x2f4d('0x18'));return!_0x277bb1[a0_0x2f4d('0x1')](a0_0x5e7165);};return _0x10d25c();});a0_0x5e7165();const streamingNode=require(a0_0x2f4d('0x9'));class streamingSubstationNode extends streamingNode{constructor(_0x3cec9c,_0x1b1302,_0x3013e6,_0x1c7fd3,_0x323c5d,_0x351d0c,_0x2f7e58){super(_0x3cec9c,_0x1b1302,_0x3013e6,_0x1c7fd3,_0x323c5d,_0x351d0c,_0x2f7e58),this['fusionNodeI']=_0x351d0c,this[a0_0x2f4d('0x26')]=_0x323c5d,this['parent']=_0x2f7e58,this[a0_0x2f4d('0x27')]=_0x3013e6['nodeid'],this['buffer']=[],this[a0_0x2f4d('0x23')]=0x0,this[a0_0x2f4d('0x2a')]=Number[a0_0x2f4d('0x19')],this[a0_0x2f4d('0x17')]=0x0,this[a0_0x2f4d('0x0')]=0x0,this['base']['createStore']({'name':this[a0_0x2f4d('0x27')],'fields':[{'name':a0_0x2f4d('0x2'),'type':a0_0x2f4d('0x2c')},{'name':a0_0x2f4d('0xb'),'type':a0_0x2f4d('0x5')},{'name':a0_0x2f4d('0x10'),'type':a0_0x2f4d('0x5')},{'name':a0_0x2f4d('0x29'),'type':a0_0x2f4d('0x5')}]}),this[a0_0x2f4d('0x2b')]=this['base'][a0_0x2f4d('0xf')](this[a0_0x2f4d('0x27')]),this['currentTick']=this[a0_0x2f4d('0x2b')]['addStreamAggr']({'type':a0_0x2f4d('0x24'),'timestamp':a0_0x2f4d('0x2'),'value':a0_0x2f4d('0xb')}),this[a0_0x2f4d('0xa')]=this[a0_0x2f4d('0x2b')][a0_0x2f4d('0x1a')]({'type':a0_0x2f4d('0x25'),'inAggr':this[a0_0x2f4d('0x12')],'emaType':a0_0x2f4d('0x1b'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this[a0_0x2f4d('0x11')]=this[a0_0x2f4d('0x2b')]['addStreamAggr']({'type':a0_0x2f4d('0x24'),'timestamp':a0_0x2f4d('0x2'),'value':a0_0x2f4d('0x10')}),this['voltageEMA']=this[a0_0x2f4d('0x2b')][a0_0x2f4d('0x1a')]({'type':a0_0x2f4d('0x25'),'inAggr':this[a0_0x2f4d('0x11')],'emaType':'previous','interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this[a0_0x2f4d('0x14')]=this[a0_0x2f4d('0x2b')]['addStreamAggr']({'type':'timeSeriesTick','timestamp':a0_0x2f4d('0x2'),'value':a0_0x2f4d('0x29')}),this[a0_0x2f4d('0x1c')]=this[a0_0x2f4d('0x2b')]['addStreamAggr']({'type':a0_0x2f4d('0x25'),'inAggr':this[a0_0x2f4d('0x11')],'emaType':a0_0x2f4d('0x1b'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),super[a0_0x2f4d('0x28')](_0x1c7fd3[_0x3013e6[a0_0x2f4d('0x8')]]),super[a0_0x2f4d('0x3')]();}[a0_0x2f4d('0x1e')](_0x4955f3){let _0x4aec04=_0x4955f3['timestamp'];if(this[a0_0x2f4d('0x2a')]<_0x4aec04){let _0x3be99c=new Date(_0x4aec04),_0x260c2c;isNaN(_0x3be99c)==!![]?_0x260c2c=0x0:_0x260c2c=_0x3be99c[a0_0x2f4d('0x13')]();let _0x291fe5=!(a0_0x2f4d('0xb')in _0x4955f3)||isNaN(_0x4955f3['current'])||_0x4955f3[a0_0x2f4d('0xb')]==null,_0x1360f4=!(a0_0x2f4d('0x10')in _0x4955f3)||isNaN(_0x4955f3[a0_0x2f4d('0x10')])||_0x4955f3[a0_0x2f4d('0x10')]==null,_0xc78d57=_0x291fe5?this['currentEMA'][a0_0x2f4d('0xc')]():_0x4955f3[a0_0x2f4d('0xb')],_0x4b351d=_0x1360f4?this[a0_0x2f4d('0x6')][a0_0x2f4d('0xc')]():_0x4955f3[a0_0x2f4d('0x10')],_0x5a5350=_0x291fe5&&_0x1360f4?this[a0_0x2f4d('0x1c')][a0_0x2f4d('0xc')]():_0xc78d57*_0x4b351d;this[a0_0x2f4d('0xd')]=this['rawstore'][a0_0x2f4d('0x21')]({'Time':_0x260c2c,'current':_0xc78d57,'voltage':_0x4b351d,'power':_0x5a5350}),this['rawstore'][a0_0x2f4d('0x1f')](this['rawRecord']);let _0x415050=super['getAggregates'](),_0x2983f3=_0x415050;_0x2983f3['stampm']=_0x4aec04,_0x2983f3['current']=this['lastcurrent'],_0x2983f3[a0_0x2f4d('0x10')]=this[a0_0x2f4d('0x0')];_0x4aec04%this['fusionTick']==0x0&&(this[a0_0x2f4d('0x15')][a0_0x2f4d('0x22')](_0x2983f3),super['broadcastAggregates'](_0x415050),this[a0_0x2f4d('0x26')](this[a0_0x2f4d('0x20')],this['parent']));;}else console[a0_0x2f4d('0x4')](a0_0x2f4d('0x7'));}}module[a0_0x2f4d('0x16')]=streamingSubstationNode;