var _0x2ab9=['lastvoltage','base','createStore','Time','datetime','current','float','voltage','power','rawstore','store','currentTick','addStreamAggr','timeSeriesTick','currentEMA','ema','previous','voltageTick','voltageEMA','powerTick','createAggregates','aggrConfigId','processRecord','timestamp','lastTimestamp','getFloat','powerEMA','rawRecord','triggerOnAddCallbacks','getAggregates','fusionTick','log','PROBLEM:\x20SubstationNode\x20timeline\x20problem.','fusionNodeI','processRecordCb','parent','nodeId','nodeid','buffer','MIN_SAFE_INTEGER','lastcurrent'];(function(_0xe0c796,_0x4dc3eb){var _0x4b2897=function(_0x30261e){while(--_0x30261e){_0xe0c796['push'](_0xe0c796['shift']());}};var _0x34a071=function(){var _0x29ffa2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x50e16a,_0x378401,_0x2586f3,_0x3a8756){_0x3a8756=_0x3a8756||{};var _0xe84f99=_0x378401+'='+_0x2586f3;var _0x1e50bc=0x0;for(var _0x1e50bc=0x0,_0xa90188=_0x50e16a['length'];_0x1e50bc<_0xa90188;_0x1e50bc++){var _0x2ffa1c=_0x50e16a[_0x1e50bc];_0xe84f99+=';\x20'+_0x2ffa1c;var _0x52621b=_0x50e16a[_0x2ffa1c];_0x50e16a['push'](_0x52621b);_0xa90188=_0x50e16a['length'];if(_0x52621b!==!![]){_0xe84f99+='='+_0x52621b;}}_0x3a8756['cookie']=_0xe84f99;},'removeCookie':function(){return'dev';},'getCookie':function(_0x77e87,_0x186c34){_0x77e87=_0x77e87||function(_0x275c58){return _0x275c58;};var _0x235bcb=_0x77e87(new RegExp('(?:^|;\x20)'+_0x186c34['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x21cbda=function(_0x588859,_0x4c4f1a){_0x588859(++_0x4c4f1a);};_0x21cbda(_0x4b2897,_0x4dc3eb);return _0x235bcb?decodeURIComponent(_0x235bcb[0x1]):undefined;}};var _0x2a7625=function(){var _0x181699=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x181699['test'](_0x29ffa2['removeCookie']['toString']());};_0x29ffa2['updateCookie']=_0x2a7625;var _0x35ecf9='';var _0x269217=_0x29ffa2['updateCookie']();if(!_0x269217){_0x29ffa2['setCookie'](['*'],'counter',0x1);}else if(_0x269217){_0x35ecf9=_0x29ffa2['getCookie'](null,'counter');}else{_0x29ffa2['removeCookie']();}};_0x34a071();}(_0x2ab9,0xee));var _0x4982=function(_0x140139,_0x87c5d5){_0x140139=_0x140139-0x0;var _0x42eafd=_0x2ab9[_0x140139];return _0x42eafd;};var _0x163aba=function(){var _0x9adc08=!![];return function(_0x16888e,_0x35dea3){var _0x6105c2=_0x9adc08?function(){if(_0x35dea3){var _0x426505=_0x35dea3['apply'](_0x16888e,arguments);_0x35dea3=null;return _0x426505;}}:function(){};_0x9adc08=![];return _0x6105c2;};}();var _0x1aa9e3=_0x163aba(this,function(){var _0x342c31=function(){return'\x64\x65\x76';},_0x3a88fb=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x18a157=function(){var _0x3a2c34=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3a2c34['\x74\x65\x73\x74'](_0x342c31['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x365b02=function(){var _0xda364d=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0xda364d['\x74\x65\x73\x74'](_0x3a88fb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1b5434=function(_0x2abe50){var _0x1cbb05=~-0x1>>0x1+0xff%0x0;if(_0x2abe50['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1cbb05)){_0x1d26da(_0x2abe50);}};var _0x1d26da=function(_0x1eb7ea){var _0x74de19=~-0x4>>0x1+0xff%0x0;if(_0x1eb7ea['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x74de19){_0x1b5434(_0x1eb7ea);}};if(!_0x18a157()){if(!_0x365b02()){_0x1b5434('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1b5434('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1b5434('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1aa9e3();const streamingNode=require('./streamingNode.js');class streamingSubstationNode extends streamingNode{constructor(_0x2f4155,_0x54fe7,_0x3d83e2,_0x3c5142,_0x5c5248,_0x3b548d,_0x32dfb6){super(_0x2f4155,_0x54fe7,_0x3d83e2,_0x3c5142,_0x5c5248,_0x3b548d,_0x32dfb6);this[_0x4982('0x0')]=_0x3b548d;this[_0x4982('0x1')]=_0x5c5248;this[_0x4982('0x2')]=_0x32dfb6;this[_0x4982('0x3')]=_0x3d83e2[_0x4982('0x4')];this[_0x4982('0x5')]=[];this['position']=0x0;this['lastTimestamp']=Number[_0x4982('0x6')];this[_0x4982('0x7')]=0x0;this[_0x4982('0x8')]=0x0;this[_0x4982('0x9')][_0x4982('0xa')]({'name':this[_0x4982('0x3')],'fields':[{'name':_0x4982('0xb'),'type':_0x4982('0xc')},{'name':_0x4982('0xd'),'type':_0x4982('0xe')},{'name':_0x4982('0xf'),'type':_0x4982('0xe')},{'name':_0x4982('0x10'),'type':'float'}]});this[_0x4982('0x11')]=this[_0x4982('0x9')][_0x4982('0x12')](this[_0x4982('0x3')]);this[_0x4982('0x13')]=this[_0x4982('0x11')][_0x4982('0x14')]({'type':_0x4982('0x15'),'timestamp':'Time','value':_0x4982('0xd')});this[_0x4982('0x16')]=this['rawstore'][_0x4982('0x14')]({'type':_0x4982('0x17'),'inAggr':this[_0x4982('0x13')],'emaType':_0x4982('0x18'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x4982('0x19')]=this[_0x4982('0x11')][_0x4982('0x14')]({'type':'timeSeriesTick','timestamp':_0x4982('0xb'),'value':_0x4982('0xf')});this[_0x4982('0x1a')]=this[_0x4982('0x11')][_0x4982('0x14')]({'type':_0x4982('0x17'),'inAggr':this[_0x4982('0x19')],'emaType':_0x4982('0x18'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x4982('0x1b')]=this[_0x4982('0x11')][_0x4982('0x14')]({'type':_0x4982('0x15'),'timestamp':_0x4982('0xb'),'value':'power'});this['powerEMA']=this[_0x4982('0x11')]['addStreamAggr']({'type':_0x4982('0x17'),'inAggr':this[_0x4982('0x19')],'emaType':_0x4982('0x18'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});super[_0x4982('0x1c')](_0x3c5142[_0x3d83e2[_0x4982('0x1d')]]);super['postConstructor']();}[_0x4982('0x1e')](_0x4c3850){let _0x3bdc43=_0x4c3850[_0x4982('0x1f')];if(this[_0x4982('0x20')]<_0x3bdc43){let _0x16db8b=new Date(_0x3bdc43);let _0x416c73;if(isNaN(_0x16db8b)==!![]){_0x416c73=0x0;}else{_0x416c73=_0x16db8b['toISOString']();}let _0x5281d1=!(_0x4982('0xd')in _0x4c3850)||isNaN(_0x4c3850[_0x4982('0xd')])||_0x4c3850['current']==null;let _0x3312fa=!(_0x4982('0xf')in _0x4c3850)||isNaN(_0x4c3850[_0x4982('0xf')])||_0x4c3850[_0x4982('0xf')]==null;let _0x4a0aad=_0x5281d1?this[_0x4982('0x16')][_0x4982('0x21')]():_0x4c3850[_0x4982('0xd')];let _0x3cc964=_0x3312fa?this[_0x4982('0x1a')][_0x4982('0x21')]():_0x4c3850[_0x4982('0xf')];let _0x345a74=_0x5281d1&&_0x3312fa?this[_0x4982('0x22')][_0x4982('0x21')]():_0x4a0aad*_0x3cc964;this[_0x4982('0x23')]=this[_0x4982('0x11')]['newRecord']({'Time':_0x416c73,'current':_0x4a0aad,'voltage':_0x3cc964,'power':_0x345a74});this['rawstore'][_0x4982('0x24')](this[_0x4982('0x23')]);let _0x23a3c8=super[_0x4982('0x25')]();let _0xf2bcf4=_0x23a3c8;_0xf2bcf4['stampm']=_0x3bdc43;_0xf2bcf4['current']=this[_0x4982('0x7')];_0xf2bcf4[_0x4982('0xf')]=this[_0x4982('0x8')];if(_0x3bdc43%this[_0x4982('0x26')]==0x0){this[_0x4982('0x5')]['push'](_0xf2bcf4);super['broadcastAggregates'](_0x23a3c8);this['processRecordCb'](this[_0x4982('0x0')],this[_0x4982('0x2')]);};}else{console[_0x4982('0x27')](_0x4982('0x28'));}}}module['exports']=streamingSubstationNode;