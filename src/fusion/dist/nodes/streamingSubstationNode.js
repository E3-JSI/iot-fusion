const a0_0x39e3=['timeSeriesTick','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','lastTimestamp','processRecordCb','exports','lastvoltage','rawstore','lastcurrent','power','buffer','./streamingNode.js','parent','timestamp','MIN_SAFE_INTEGER','nodeid','test','constructor','processRecord','broadcastAggregates','rawRecord','position','aggrConfigId','apply','previous','current','triggerOnAddCallbacks','addStreamAggr','powerEMA','getAggregates','fusionNodeI','voltageEMA','base','currentEMA','fusionTick','float','createStore','nodeId','datetime','postConstructor','currentTick','createAggregates','voltage','newRecord','ema','voltageTick','toISOString','Time','log'];(function(_0x1a7df2,_0x39e39f){const _0x122d16=function(_0xaabc80){while(--_0xaabc80){_0x1a7df2['push'](_0x1a7df2['shift']());}},_0x3b5945=function(){const _0x46f18c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1d5cb5,_0x32a008,_0x1ced4c,_0x3a905e){_0x3a905e=_0x3a905e||{};let _0x2fb12a=_0x32a008+'='+_0x1ced4c,_0x17bfea=0x0;for(let _0x4d675f=0x0,_0x59b28c=_0x1d5cb5['length'];_0x4d675f<_0x59b28c;_0x4d675f++){const _0x21b18d=_0x1d5cb5[_0x4d675f];_0x2fb12a+=';\x20'+_0x21b18d;const _0x46657e=_0x1d5cb5[_0x21b18d];_0x1d5cb5['push'](_0x46657e),_0x59b28c=_0x1d5cb5['length'],_0x46657e!==!![]&&(_0x2fb12a+='='+_0x46657e);}_0x3a905e['cookie']=_0x2fb12a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x21e25e,_0xf7aa8a){_0x21e25e=_0x21e25e||function(_0x5689fa){return _0x5689fa;};const _0x34af7d=_0x21e25e(new RegExp('(?:^|;\x20)'+_0xf7aa8a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x17429e=function(_0x3cd5cf,_0x4a08a8){_0x3cd5cf(++_0x4a08a8);};return _0x17429e(_0x122d16,_0x39e39f),_0x34af7d?decodeURIComponent(_0x34af7d[0x1]):undefined;}},_0x45543e=function(){const _0xf7f729=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xf7f729['test'](_0x46f18c['removeCookie']['toString']());};_0x46f18c['updateCookie']=_0x45543e;let _0x525e81='';const _0x291c3c=_0x46f18c['updateCookie']();if(!_0x291c3c)_0x46f18c['setCookie'](['*'],'counter',0x1);else _0x291c3c?_0x525e81=_0x46f18c['getCookie'](null,'counter'):_0x46f18c['removeCookie']();};_0x3b5945();}(a0_0x39e3,0xd3));const a0_0x122d=function(_0x1a7df2,_0x39e39f){_0x1a7df2=_0x1a7df2-0x0;let _0x122d16=a0_0x39e3[_0x1a7df2];return _0x122d16;};const a0_0x1ced4c=function(){let _0x56d513=!![];return function(_0x4a01ea,_0x1c7aec){const _0x4c13bb=_0x56d513?function(){if(_0x1c7aec){const _0x895f87=_0x1c7aec[a0_0x122d('0x3')](_0x4a01ea,arguments);return _0x1c7aec=null,_0x895f87;}}:function(){};return _0x56d513=![],_0x4c13bb;};}(),a0_0x32a008=a0_0x1ced4c(this,function(){const _0x3f8916=function(){const _0x2c7ce2=_0x3f8916[a0_0x122d('0x2d')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](a0_0x122d('0x1e'));return!_0x2c7ce2[a0_0x122d('0x2c')](a0_0x32a008);};return _0x3f8916();});a0_0x32a008();const streamingNode=require(a0_0x122d('0x27'));class streamingSubstationNode extends streamingNode{constructor(_0x2d5823,_0x48cdaf,_0x2f66d8,_0x16c6fd,_0x4d72ee,_0xdc1b22,_0x536b18){super(_0x2d5823,_0x48cdaf,_0x2f66d8,_0x16c6fd,_0x4d72ee,_0xdc1b22,_0x536b18),this[a0_0x122d('0xa')]=_0xdc1b22,this[a0_0x122d('0x20')]=_0x4d72ee,this[a0_0x122d('0x28')]=_0x536b18,this['nodeId']=_0x2f66d8[a0_0x122d('0x2b')],this['buffer']=[],this[a0_0x122d('0x1')]=0x0,this[a0_0x122d('0x1f')]=Number[a0_0x122d('0x2a')],this[a0_0x122d('0x24')]=0x0,this[a0_0x122d('0x22')]=0x0,this[a0_0x122d('0xc')][a0_0x122d('0x10')]({'name':this[a0_0x122d('0x11')],'fields':[{'name':a0_0x122d('0x1b'),'type':a0_0x122d('0x12')},{'name':a0_0x122d('0x5'),'type':'float'},{'name':a0_0x122d('0x16'),'type':a0_0x122d('0xf')},{'name':'power','type':a0_0x122d('0xf')}]}),this[a0_0x122d('0x23')]=this[a0_0x122d('0xc')]['store'](this[a0_0x122d('0x11')]),this[a0_0x122d('0x14')]=this[a0_0x122d('0x23')]['addStreamAggr']({'type':'timeSeriesTick','timestamp':'Time','value':'current'}),this[a0_0x122d('0xd')]=this[a0_0x122d('0x23')]['addStreamAggr']({'type':'ema','inAggr':this[a0_0x122d('0x14')],'emaType':a0_0x122d('0x4'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this[a0_0x122d('0x19')]=this[a0_0x122d('0x23')][a0_0x122d('0x7')]({'type':a0_0x122d('0x1d'),'timestamp':a0_0x122d('0x1b'),'value':'voltage'}),this['voltageEMA']=this['rawstore'][a0_0x122d('0x7')]({'type':a0_0x122d('0x18'),'inAggr':this[a0_0x122d('0x19')],'emaType':a0_0x122d('0x4'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this['powerTick']=this['rawstore']['addStreamAggr']({'type':a0_0x122d('0x1d'),'timestamp':a0_0x122d('0x1b'),'value':a0_0x122d('0x25')}),this[a0_0x122d('0x8')]=this[a0_0x122d('0x23')][a0_0x122d('0x7')]({'type':'ema','inAggr':this[a0_0x122d('0x19')],'emaType':'previous','interval':0xf*0x3c*0x3e8,'initWindow':0x0}),super[a0_0x122d('0x15')](_0x16c6fd[_0x2f66d8[a0_0x122d('0x2')]]),super[a0_0x122d('0x13')]();}[a0_0x122d('0x2e')](_0x37fba0){let _0x4f94b7=_0x37fba0[a0_0x122d('0x29')];if(this[a0_0x122d('0x1f')]<_0x4f94b7){let _0x1c5304=new Date(_0x4f94b7),_0x44496d;isNaN(_0x1c5304)==!![]?_0x44496d=0x0:_0x44496d=_0x1c5304[a0_0x122d('0x1a')]();let _0x3c61de=!(a0_0x122d('0x5')in _0x37fba0)||isNaN(_0x37fba0['current'])||_0x37fba0['current']==null,_0x29ae93=!('voltage'in _0x37fba0)||isNaN(_0x37fba0[a0_0x122d('0x16')])||_0x37fba0[a0_0x122d('0x16')]==null,_0x3d2ed9=_0x3c61de?this[a0_0x122d('0xd')]['getFloat']():_0x37fba0[a0_0x122d('0x5')],_0x4268a3=_0x29ae93?this[a0_0x122d('0xb')]['getFloat']():_0x37fba0[a0_0x122d('0x16')],_0x829394=_0x3c61de&&_0x29ae93?this[a0_0x122d('0x8')]['getFloat']():_0x3d2ed9*_0x4268a3;this[a0_0x122d('0x0')]=this['rawstore'][a0_0x122d('0x17')]({'Time':_0x44496d,'current':_0x3d2ed9,'voltage':_0x4268a3,'power':_0x829394}),this[a0_0x122d('0x23')][a0_0x122d('0x6')](this[a0_0x122d('0x0')]);let _0x9ccf36=super[a0_0x122d('0x9')](),_0xb0a2c2=_0x9ccf36;_0xb0a2c2['stampm']=_0x4f94b7,_0xb0a2c2[a0_0x122d('0x5')]=this[a0_0x122d('0x24')],_0xb0a2c2[a0_0x122d('0x16')]=this[a0_0x122d('0x22')];_0x4f94b7%this[a0_0x122d('0xe')]==0x0&&(this[a0_0x122d('0x26')]['push'](_0xb0a2c2),super[a0_0x122d('0x2f')](_0x9ccf36),this[a0_0x122d('0x20')](this['fusionNodeI'],this['parent']));;}else console[a0_0x122d('0x1c')]('PROBLEM:\x20SubstationNode\x20timeline\x20problem.');}}module[a0_0x122d('0x21')]=streamingSubstationNode;