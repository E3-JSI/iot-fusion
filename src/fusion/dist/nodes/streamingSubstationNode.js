const a0_0x3dda=['addStreamAggr','fusionTick','rawstore','getFloat','voltageEMA','apply','lastTimestamp','power','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','powerEMA','store','previous','current','postConstructor','nodeId','push','float','aggrConfigId','MIN_SAFE_INTEGER','buffer','ema','voltageTick','rawRecord','timeSeriesTick','Time','./streamingNode.js','fusionNodeI','base','test','processRecordCb','return\x20/\x22\x20+\x20this\x20+\x20\x22/','nodeid','newRecord','currentTick','getAggregates','broadcastAggregates','lastvoltage','log','parent','toISOString','triggerOnAddCallbacks','processRecord','lastcurrent','voltage'];(function(_0x11f375,_0x3ddaa4){const _0x5943ba=function(_0x4a61a5){while(--_0x4a61a5){_0x11f375['push'](_0x11f375['shift']());}},_0x3003fe=function(){const _0x1f7354={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x396a49,_0x255d14,_0x401476,_0x5ea8b3){_0x5ea8b3=_0x5ea8b3||{};let _0x409ece=_0x255d14+'='+_0x401476,_0x552258=0x0;for(let _0x1e432b=0x0,_0x5386db=_0x396a49['length'];_0x1e432b<_0x5386db;_0x1e432b++){const _0x3d58fc=_0x396a49[_0x1e432b];_0x409ece+=';\x20'+_0x3d58fc;const _0x22cee1=_0x396a49[_0x3d58fc];_0x396a49['push'](_0x22cee1),_0x5386db=_0x396a49['length'],_0x22cee1!==!![]&&(_0x409ece+='='+_0x22cee1);}_0x5ea8b3['cookie']=_0x409ece;},'removeCookie':function(){return'dev';},'getCookie':function(_0x315a0c,_0x5ab468){_0x315a0c=_0x315a0c||function(_0x4e7e06){return _0x4e7e06;};const _0x65c7f6=_0x315a0c(new RegExp('(?:^|;\x20)'+_0x5ab468['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x55da35=function(_0x18a03a,_0x38ce20){_0x18a03a(++_0x38ce20);};return _0x55da35(_0x5943ba,_0x3ddaa4),_0x65c7f6?decodeURIComponent(_0x65c7f6[0x1]):undefined;}},_0xa7c3fd=function(){const _0x558a36=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x558a36['test'](_0x1f7354['removeCookie']['toString']());};_0x1f7354['updateCookie']=_0xa7c3fd;let _0x31c781='';const _0x1e1b15=_0x1f7354['updateCookie']();if(!_0x1e1b15)_0x1f7354['setCookie'](['*'],'counter',0x1);else _0x1e1b15?_0x31c781=_0x1f7354['getCookie'](null,'counter'):_0x1f7354['removeCookie']();};_0x3003fe();}(a0_0x3dda,0xaf));const a0_0x5943=function(_0x11f375,_0x3ddaa4){_0x11f375=_0x11f375-0x0;let _0x5943ba=a0_0x3dda[_0x11f375];return _0x5943ba;};const a0_0x401476=function(){let _0x53ae94=!![];return function(_0x25cc96,_0x66164d){const _0x514895=_0x53ae94?function(){if(_0x66164d){const _0x58b485=_0x66164d[a0_0x5943('0x6')](_0x25cc96,arguments);return _0x66164d=null,_0x58b485;}}:function(){};return _0x53ae94=![],_0x514895;};}(),a0_0x255d14=a0_0x401476(this,function(){const _0x553bd3=function(){const _0x401b88=_0x553bd3['constructor'](a0_0x5943('0x1f'))()['constructor'](a0_0x5943('0x9'));return!_0x401b88[a0_0x5943('0x1d')](a0_0x255d14);};return _0x553bd3();});a0_0x255d14();const streamingNode=require(a0_0x5943('0x1a'));class streamingSubstationNode extends streamingNode{constructor(_0x40b23b,_0x2207de,_0x41af6e,_0x4da18d,_0x148f24,_0x274827,_0x24b87e){super(_0x40b23b,_0x2207de,_0x41af6e,_0x4da18d,_0x148f24,_0x274827,_0x24b87e),this[a0_0x5943('0x1b')]=_0x274827,this[a0_0x5943('0x1e')]=_0x148f24,this['parent']=_0x24b87e,this['nodeId']=_0x41af6e[a0_0x5943('0x20')],this[a0_0x5943('0x14')]=[],this['position']=0x0,this[a0_0x5943('0x7')]=Number[a0_0x5943('0x13')],this[a0_0x5943('0x2b')]=0x0,this[a0_0x5943('0x25')]=0x0,this[a0_0x5943('0x1c')]['createStore']({'name':this[a0_0x5943('0xf')],'fields':[{'name':a0_0x5943('0x19'),'type':'datetime'},{'name':a0_0x5943('0xd'),'type':a0_0x5943('0x11')},{'name':a0_0x5943('0x0'),'type':a0_0x5943('0x11')},{'name':a0_0x5943('0x8'),'type':a0_0x5943('0x11')}]}),this[a0_0x5943('0x3')]=this[a0_0x5943('0x1c')][a0_0x5943('0xb')](this[a0_0x5943('0xf')]),this[a0_0x5943('0x22')]=this[a0_0x5943('0x3')][a0_0x5943('0x1')]({'type':a0_0x5943('0x18'),'timestamp':a0_0x5943('0x19'),'value':a0_0x5943('0xd')}),this['currentEMA']=this[a0_0x5943('0x3')][a0_0x5943('0x1')]({'type':a0_0x5943('0x15'),'inAggr':this[a0_0x5943('0x22')],'emaType':a0_0x5943('0xc'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this[a0_0x5943('0x16')]=this[a0_0x5943('0x3')][a0_0x5943('0x1')]({'type':a0_0x5943('0x18'),'timestamp':'Time','value':'voltage'}),this['voltageEMA']=this[a0_0x5943('0x3')][a0_0x5943('0x1')]({'type':a0_0x5943('0x15'),'inAggr':this[a0_0x5943('0x16')],'emaType':a0_0x5943('0xc'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this['powerTick']=this[a0_0x5943('0x3')][a0_0x5943('0x1')]({'type':a0_0x5943('0x18'),'timestamp':'Time','value':a0_0x5943('0x8')}),this[a0_0x5943('0xa')]=this[a0_0x5943('0x3')]['addStreamAggr']({'type':a0_0x5943('0x15'),'inAggr':this[a0_0x5943('0x16')],'emaType':'previous','interval':0xf*0x3c*0x3e8,'initWindow':0x0}),super['createAggregates'](_0x4da18d[_0x41af6e[a0_0x5943('0x12')]]),super[a0_0x5943('0xe')]();}[a0_0x5943('0x2a')](_0x1ea1ec){let _0x1549fc=_0x1ea1ec['timestamp'];if(this[a0_0x5943('0x7')]<_0x1549fc){let _0xb7e3e4=new Date(_0x1549fc),_0x553814;isNaN(_0xb7e3e4)==!![]?_0x553814=0x0:_0x553814=_0xb7e3e4[a0_0x5943('0x28')]();let _0x33e575=!('current'in _0x1ea1ec)||isNaN(_0x1ea1ec['current'])||_0x1ea1ec[a0_0x5943('0xd')]==null,_0x34f2d9=!(a0_0x5943('0x0')in _0x1ea1ec)||isNaN(_0x1ea1ec['voltage'])||_0x1ea1ec[a0_0x5943('0x0')]==null,_0x30210a=_0x33e575?this['currentEMA'][a0_0x5943('0x4')]():_0x1ea1ec['current'],_0x13ef87=_0x34f2d9?this[a0_0x5943('0x5')]['getFloat']():_0x1ea1ec['voltage'],_0x1a737f=_0x33e575&&_0x34f2d9?this[a0_0x5943('0xa')][a0_0x5943('0x4')]():_0x30210a*_0x13ef87;this[a0_0x5943('0x17')]=this['rawstore'][a0_0x5943('0x21')]({'Time':_0x553814,'current':_0x30210a,'voltage':_0x13ef87,'power':_0x1a737f}),this[a0_0x5943('0x3')][a0_0x5943('0x29')](this[a0_0x5943('0x17')]);let _0x447915=super[a0_0x5943('0x23')](),_0x1b4dcc=_0x447915;_0x1b4dcc['stampm']=_0x1549fc,_0x1b4dcc['current']=this[a0_0x5943('0x2b')],_0x1b4dcc['voltage']=this['lastvoltage'];_0x1549fc%this[a0_0x5943('0x2')]==0x0&&(this['buffer'][a0_0x5943('0x10')](_0x1b4dcc),super[a0_0x5943('0x24')](_0x447915),this[a0_0x5943('0x1e')](this[a0_0x5943('0x1b')],this[a0_0x5943('0x27')]));;}else console[a0_0x5943('0x26')]('PROBLEM:\x20SubstationNode\x20timeline\x20problem.');}}module['exports']=streamingSubstationNode;