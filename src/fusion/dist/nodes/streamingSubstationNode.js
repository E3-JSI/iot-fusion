var _0xf9d5=['powerTick','power','createAggregates','aggrConfigId','postConstructor','timestamp','toISOString','getFloat','powerEMA','rawRecord','triggerOnAddCallbacks','getAggregates','stampm','lastvoltage','push','fusionNodeI','log','exports','./streamingNode.js','processRecordCb','parent','nodeId','nodeid','buffer','lastTimestamp','MIN_SAFE_INTEGER','lastcurrent','createStore','datetime','voltage','float','rawstore','currentTick','timeSeriesTick','current','currentEMA','addStreamAggr','previous','voltageTick','Time','voltageEMA','ema'];(function(_0x2e6ff4,_0x2579d9){var _0x530cbc=function(_0x101325){while(--_0x101325){_0x2e6ff4['push'](_0x2e6ff4['shift']());}};var _0x12677d=function(){var _0x46a6f2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x50f755,_0x590739,_0x8acd88,_0x489e82){_0x489e82=_0x489e82||{};var _0x478f34=_0x590739+'='+_0x8acd88;var _0x3f7fb9=0x0;for(var _0x3f7fb9=0x0,_0x36530e=_0x50f755['length'];_0x3f7fb9<_0x36530e;_0x3f7fb9++){var _0xa4d11d=_0x50f755[_0x3f7fb9];_0x478f34+=';\x20'+_0xa4d11d;var _0x3832c3=_0x50f755[_0xa4d11d];_0x50f755['push'](_0x3832c3);_0x36530e=_0x50f755['length'];if(_0x3832c3!==!![]){_0x478f34+='='+_0x3832c3;}}_0x489e82['cookie']=_0x478f34;},'removeCookie':function(){return'dev';},'getCookie':function(_0x47e678,_0x4f3d30){_0x47e678=_0x47e678||function(_0xac5f03){return _0xac5f03;};var _0xaa5a39=_0x47e678(new RegExp('(?:^|;\x20)'+_0x4f3d30['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x2035ce=function(_0x3e9c96,_0x3b4193){_0x3e9c96(++_0x3b4193);};_0x2035ce(_0x530cbc,_0x2579d9);return _0xaa5a39?decodeURIComponent(_0xaa5a39[0x1]):undefined;}};var _0x53d373=function(){var _0x271ad1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x271ad1['test'](_0x46a6f2['removeCookie']['toString']());};_0x46a6f2['updateCookie']=_0x53d373;var _0x237ac0='';var _0x3e6c23=_0x46a6f2['updateCookie']();if(!_0x3e6c23){_0x46a6f2['setCookie'](['*'],'counter',0x1);}else if(_0x3e6c23){_0x237ac0=_0x46a6f2['getCookie'](null,'counter');}else{_0x46a6f2['removeCookie']();}};_0x12677d();}(_0xf9d5,0x162));var _0x5113=function(_0x1a5246,_0x171dbd){_0x1a5246=_0x1a5246-0x0;var _0x3f16af=_0xf9d5[_0x1a5246];return _0x3f16af;};var _0x12f95b=function(){var _0x1a4f34=!![];return function(_0x41af3f,_0xfc0557){var _0x3a6883=_0x1a4f34?function(){if(_0xfc0557){var _0x1db8d2=_0xfc0557['apply'](_0x41af3f,arguments);_0xfc0557=null;return _0x1db8d2;}}:function(){};_0x1a4f34=![];return _0x3a6883;};}();var _0x562557=_0x12f95b(this,function(){var _0x417e24=function(){return'\x64\x65\x76';},_0x256030=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x505d30=function(){var _0x30c897=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x30c897['\x74\x65\x73\x74'](_0x417e24['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x262976=function(){var _0x147f6b=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x147f6b['\x74\x65\x73\x74'](_0x256030['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4c72ab=function(_0xee0c48){var _0x9c06b8=~-0x1>>0x1+0xff%0x0;if(_0xee0c48['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x9c06b8)){_0x38476a(_0xee0c48);}};var _0x38476a=function(_0x17769f){var _0x494887=~-0x4>>0x1+0xff%0x0;if(_0x17769f['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x494887){_0x4c72ab(_0x17769f);}};if(!_0x505d30()){if(!_0x262976()){_0x4c72ab('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4c72ab('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4c72ab('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x562557();const streamingNode=require(_0x5113('0x0'));class streamingSubstationNode extends streamingNode{constructor(_0x32e3a4,_0x4f0fa8,_0x344b6e,_0x441da8,_0x31cb94,_0x3b5b3e,_0x104d52){super(_0x32e3a4,_0x4f0fa8,_0x344b6e,_0x441da8,_0x31cb94,_0x3b5b3e,_0x104d52);this['fusionNodeI']=_0x3b5b3e;this[_0x5113('0x1')]=_0x31cb94;this[_0x5113('0x2')]=_0x104d52;this[_0x5113('0x3')]=_0x344b6e[_0x5113('0x4')];this[_0x5113('0x5')]=[];this['position']=0x0;this[_0x5113('0x6')]=Number[_0x5113('0x7')];this[_0x5113('0x8')]=0x0;this['lastvoltage']=0x0;this['base'][_0x5113('0x9')]({'name':this[_0x5113('0x3')],'fields':[{'name':'Time','type':_0x5113('0xa')},{'name':'current','type':'float'},{'name':_0x5113('0xb'),'type':_0x5113('0xc')},{'name':'power','type':'float'}]});this[_0x5113('0xd')]=this['base']['store'](this[_0x5113('0x3')]);this[_0x5113('0xe')]=this['rawstore']['addStreamAggr']({'type':_0x5113('0xf'),'timestamp':'Time','value':_0x5113('0x10')});this[_0x5113('0x11')]=this[_0x5113('0xd')][_0x5113('0x12')]({'type':'ema','inAggr':this['currentTick'],'emaType':_0x5113('0x13'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x5113('0x14')]=this[_0x5113('0xd')]['addStreamAggr']({'type':_0x5113('0xf'),'timestamp':_0x5113('0x15'),'value':'voltage'});this[_0x5113('0x16')]=this['rawstore'][_0x5113('0x12')]({'type':_0x5113('0x17'),'inAggr':this[_0x5113('0x14')],'emaType':_0x5113('0x13'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});this[_0x5113('0x18')]=this[_0x5113('0xd')][_0x5113('0x12')]({'type':'timeSeriesTick','timestamp':'Time','value':_0x5113('0x19')});this['powerEMA']=this[_0x5113('0xd')][_0x5113('0x12')]({'type':_0x5113('0x17'),'inAggr':this[_0x5113('0x14')],'emaType':_0x5113('0x13'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0});super[_0x5113('0x1a')](_0x441da8[_0x344b6e[_0x5113('0x1b')]]);super[_0x5113('0x1c')]();}['processRecord'](_0x369d19){let _0xd63e3c=_0x369d19[_0x5113('0x1d')];if(this[_0x5113('0x6')]<_0xd63e3c){let _0x5c8e6a=new Date(_0xd63e3c);let _0xc44da3;if(isNaN(_0x5c8e6a)==!![]){_0xc44da3=0x0;}else{_0xc44da3=_0x5c8e6a[_0x5113('0x1e')]();}let _0x25a6a3=!(_0x5113('0x10')in _0x369d19)||isNaN(_0x369d19[_0x5113('0x10')])||_0x369d19[_0x5113('0x10')]==null;let _0xad0f40=!(_0x5113('0xb')in _0x369d19)||isNaN(_0x369d19['voltage'])||_0x369d19['voltage']==null;let _0x857ab0=_0x25a6a3?this[_0x5113('0x11')][_0x5113('0x1f')]():_0x369d19[_0x5113('0x10')];let _0x38512e=_0xad0f40?this[_0x5113('0x16')][_0x5113('0x1f')]():_0x369d19['voltage'];let _0x379c70=_0x25a6a3&&_0xad0f40?this[_0x5113('0x20')]['getFloat']():_0x857ab0*_0x38512e;this[_0x5113('0x21')]=this['rawstore']['newRecord']({'Time':_0xc44da3,'current':_0x857ab0,'voltage':_0x38512e,'power':_0x379c70});this[_0x5113('0xd')][_0x5113('0x22')](this[_0x5113('0x21')]);let _0x3271f2=super[_0x5113('0x23')]();let _0x18bc7f=_0x3271f2;_0x18bc7f[_0x5113('0x24')]=_0xd63e3c;_0x18bc7f[_0x5113('0x10')]=this[_0x5113('0x8')];_0x18bc7f[_0x5113('0xb')]=this[_0x5113('0x25')];if(_0xd63e3c%this['fusionTick']==0x0){this[_0x5113('0x5')][_0x5113('0x26')](_0x18bc7f);super['broadcastAggregates'](_0x3271f2);this[_0x5113('0x1')](this[_0x5113('0x27')],this[_0x5113('0x2')]);};}else{console[_0x5113('0x28')]('PROBLEM:\x20SubstationNode\x20timeline\x20problem.');}}}module[_0x5113('0x29')]=streamingSubstationNode;