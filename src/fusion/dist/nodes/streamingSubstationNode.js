const a0_0x482e=['test','constructor','addStreamAggr','lastcurrent','parent','log','voltageTick','Time','getAggregates','store','fusionTick','currentTick','triggerOnAddCallbacks','float','previous','lastTimestamp','position','apply','currentEMA','createAggregates','timestamp','buffer','processRecord','lastvoltage','./streamingNode.js','base','nodeid','aggrConfigId','rawRecord','power','stampm','current','nodeId','voltageEMA','timeSeriesTick','postConstructor','voltage','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','powerEMA','return\x20/\x22\x20+\x20this\x20+\x20\x22/','processRecordCb','ema','newRecord','rawstore','fusionNodeI','getFloat','MIN_SAFE_INTEGER','push'];(function(_0x243a62,_0x482e4f){const _0x548283=function(_0x4f919d){while(--_0x4f919d){_0x243a62['push'](_0x243a62['shift']());}},_0xc5a62=function(){const _0x54d88f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3464cb,_0x297329,_0x18d6df,_0x56fd9a){_0x56fd9a=_0x56fd9a||{};let _0x4745a9=_0x297329+'='+_0x18d6df,_0x5d9075=0x0;for(let _0x2a191f=0x0,_0x284784=_0x3464cb['length'];_0x2a191f<_0x284784;_0x2a191f++){const _0x3fbf00=_0x3464cb[_0x2a191f];_0x4745a9+=';\x20'+_0x3fbf00;const _0x112622=_0x3464cb[_0x3fbf00];_0x3464cb['push'](_0x112622),_0x284784=_0x3464cb['length'],_0x112622!==!![]&&(_0x4745a9+='='+_0x112622);}_0x56fd9a['cookie']=_0x4745a9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x35dbb6,_0x59cd1c){_0x35dbb6=_0x35dbb6||function(_0x3a8155){return _0x3a8155;};const _0x3da0f9=_0x35dbb6(new RegExp('(?:^|;\x20)'+_0x59cd1c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4dc047=function(_0x1e65d5,_0x511a48){_0x1e65d5(++_0x511a48);};return _0x4dc047(_0x548283,_0x482e4f),_0x3da0f9?decodeURIComponent(_0x3da0f9[0x1]):undefined;}},_0x26c7c0=function(){const _0x17134e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x17134e['test'](_0x54d88f['removeCookie']['toString']());};_0x54d88f['updateCookie']=_0x26c7c0;let _0x3f5fa2='';const _0x271591=_0x54d88f['updateCookie']();if(!_0x271591)_0x54d88f['setCookie'](['*'],'counter',0x1);else _0x271591?_0x3f5fa2=_0x54d88f['getCookie'](null,'counter'):_0x54d88f['removeCookie']();};_0xc5a62();}(a0_0x482e,0xfc));const a0_0x5482=function(_0x243a62,_0x482e4f){_0x243a62=_0x243a62-0x0;let _0x548283=a0_0x482e[_0x243a62];return _0x548283;};const a0_0x18d6df=function(){let _0x857019=!![];return function(_0x224650,_0x501b70){const _0x4a78e5=_0x857019?function(){if(_0x501b70){const _0x3d768f=_0x501b70[a0_0x5482('0x5')](_0x224650,arguments);return _0x501b70=null,_0x3d768f;}}:function(){};return _0x857019=![],_0x4a78e5;};}(),a0_0x297329=a0_0x18d6df(this,function(){const _0x38926e=function(){const _0x14e392=_0x38926e[a0_0x5482('0x25')](a0_0x5482('0x1b'))()[a0_0x5482('0x25')](a0_0x5482('0x19'));return!_0x14e392[a0_0x5482('0x24')](a0_0x297329);};return _0x38926e();});a0_0x297329();const streamingNode=require(a0_0x5482('0xc'));class streamingSubstationNode extends streamingNode{constructor(_0x4831fe,_0x16ee0c,_0x582340,_0x558b56,_0xf3b8bd,_0x4ea9e6,_0x28979a){super(_0x4831fe,_0x16ee0c,_0x582340,_0x558b56,_0xf3b8bd,_0x4ea9e6,_0x28979a),this['fusionNodeI']=_0x4ea9e6,this[a0_0x5482('0x1c')]=_0xf3b8bd,this['parent']=_0x28979a,this[a0_0x5482('0x14')]=_0x582340[a0_0x5482('0xe')],this['buffer']=[],this[a0_0x5482('0x4')]=0x0,this[a0_0x5482('0x3')]=Number[a0_0x5482('0x22')],this[a0_0x5482('0x27')]=0x0,this[a0_0x5482('0xb')]=0x0,this['base']['createStore']({'name':this[a0_0x5482('0x14')],'fields':[{'name':a0_0x5482('0x2b'),'type':'datetime'},{'name':'current','type':a0_0x5482('0x1')},{'name':'voltage','type':a0_0x5482('0x1')},{'name':a0_0x5482('0x11'),'type':a0_0x5482('0x1')}]}),this[a0_0x5482('0x1f')]=this[a0_0x5482('0xd')][a0_0x5482('0x2d')](this[a0_0x5482('0x14')]),this[a0_0x5482('0x2f')]=this[a0_0x5482('0x1f')][a0_0x5482('0x26')]({'type':a0_0x5482('0x16'),'timestamp':a0_0x5482('0x2b'),'value':a0_0x5482('0x13')}),this[a0_0x5482('0x6')]=this['rawstore']['addStreamAggr']({'type':a0_0x5482('0x1d'),'inAggr':this[a0_0x5482('0x2f')],'emaType':a0_0x5482('0x2'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this[a0_0x5482('0x2a')]=this['rawstore'][a0_0x5482('0x26')]({'type':a0_0x5482('0x16'),'timestamp':a0_0x5482('0x2b'),'value':'voltage'}),this[a0_0x5482('0x15')]=this[a0_0x5482('0x1f')]['addStreamAggr']({'type':'ema','inAggr':this[a0_0x5482('0x2a')],'emaType':a0_0x5482('0x2'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),this['powerTick']=this[a0_0x5482('0x1f')]['addStreamAggr']({'type':'timeSeriesTick','timestamp':a0_0x5482('0x2b'),'value':'power'}),this[a0_0x5482('0x1a')]=this[a0_0x5482('0x1f')][a0_0x5482('0x26')]({'type':'ema','inAggr':this[a0_0x5482('0x2a')],'emaType':a0_0x5482('0x2'),'interval':0xf*0x3c*0x3e8,'initWindow':0x0}),super[a0_0x5482('0x7')](_0x558b56[_0x582340[a0_0x5482('0xf')]]),super[a0_0x5482('0x17')]();}[a0_0x5482('0xa')](_0x4efda7){let _0x299341=_0x4efda7[a0_0x5482('0x8')];if(this['lastTimestamp']<_0x299341){let _0x2bcbfd=new Date(_0x299341),_0x47f975;isNaN(_0x2bcbfd)==!![]?_0x47f975=0x0:_0x47f975=_0x2bcbfd['toISOString']();let _0x497da7=!(a0_0x5482('0x13')in _0x4efda7)||isNaN(_0x4efda7[a0_0x5482('0x13')])||_0x4efda7[a0_0x5482('0x13')]==null,_0x13e042=!(a0_0x5482('0x18')in _0x4efda7)||isNaN(_0x4efda7[a0_0x5482('0x18')])||_0x4efda7[a0_0x5482('0x18')]==null,_0x2127f3=_0x497da7?this[a0_0x5482('0x6')][a0_0x5482('0x21')]():_0x4efda7[a0_0x5482('0x13')],_0x268296=_0x13e042?this['voltageEMA'][a0_0x5482('0x21')]():_0x4efda7[a0_0x5482('0x18')],_0xa77c72=_0x497da7&&_0x13e042?this[a0_0x5482('0x1a')][a0_0x5482('0x21')]():_0x2127f3*_0x268296;this[a0_0x5482('0x10')]=this[a0_0x5482('0x1f')][a0_0x5482('0x1e')]({'Time':_0x47f975,'current':_0x2127f3,'voltage':_0x268296,'power':_0xa77c72}),this[a0_0x5482('0x1f')][a0_0x5482('0x0')](this[a0_0x5482('0x10')]);let _0x32791d=super[a0_0x5482('0x2c')](),_0x3d14c8=_0x32791d;_0x3d14c8[a0_0x5482('0x12')]=_0x299341,_0x3d14c8[a0_0x5482('0x13')]=this['lastcurrent'],_0x3d14c8['voltage']=this[a0_0x5482('0xb')];_0x299341%this[a0_0x5482('0x2e')]==0x0&&(this[a0_0x5482('0x9')][a0_0x5482('0x23')](_0x3d14c8),super['broadcastAggregates'](_0x32791d),this[a0_0x5482('0x1c')](this[a0_0x5482('0x20')],this[a0_0x5482('0x28')]));;}else console[a0_0x5482('0x29')]('PROBLEM:\x20SubstationNode\x20timeline\x20problem.');}}module['exports']=streamingSubstationNode;