const a0_0x4510=['partialFit','./StructuredEMA','updateStream','loadModel','push','method','close','shift','./EMA','No\x20correct\x20model\x20selected','label','RecLinReg','EMA','horizon','test','analytics','constructor','Vector','OpenWrite','predict','qminer','model','fusionTick','length','StructuredEMA','save','log','apply','filename','options','exports','.bin','saveModel','./models/','initiated','buffer','predictionBuffer'];(function(_0x241e79,_0x4510e0){const _0x50193b=function(_0xa0414b){while(--_0xa0414b){_0x241e79['push'](_0x241e79['shift']());}},_0x4f0d47=function(){const _0x2a9174={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x444398,_0x587fe7,_0x4b94df,_0x3643e2){_0x3643e2=_0x3643e2||{};let _0x17a449=_0x587fe7+'='+_0x4b94df,_0x1f6d6e=0x0;for(let _0x59766e=0x0,_0x4da424=_0x444398['length'];_0x59766e<_0x4da424;_0x59766e++){const _0x56407e=_0x444398[_0x59766e];_0x17a449+=';\x20'+_0x56407e;const _0xda07d4=_0x444398[_0x56407e];_0x444398['push'](_0xda07d4),_0x4da424=_0x444398['length'],_0xda07d4!==!![]&&(_0x17a449+='='+_0xda07d4);}_0x3643e2['cookie']=_0x17a449;},'removeCookie':function(){return'dev';},'getCookie':function(_0x409522,_0x4fad01){_0x409522=_0x409522||function(_0x399861){return _0x399861;};const _0x3abbb3=_0x409522(new RegExp('(?:^|;\x20)'+_0x4fad01['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x43f5e1=function(_0x3cfa73,_0x394948){_0x3cfa73(++_0x394948);};return _0x43f5e1(_0x50193b,_0x4510e0),_0x3abbb3?decodeURIComponent(_0x3abbb3[0x1]):undefined;}},_0x42dd15=function(){const _0x28df76=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x28df76['test'](_0x2a9174['removeCookie']['toString']());};_0x2a9174['updateCookie']=_0x42dd15;let _0x55b384='';const _0x25f0eb=_0x2a9174['updateCookie']();if(!_0x25f0eb)_0x2a9174['setCookie'](['*'],'counter',0x1);else _0x25f0eb?_0x55b384=_0x2a9174['getCookie'](null,'counter'):_0x2a9174['removeCookie']();};_0x4f0d47();}(a0_0x4510,0xfb));const a0_0x5019=function(_0x241e79,_0x4510e0){_0x241e79=_0x241e79-0x0;let _0x50193b=a0_0x4510[_0x241e79];return _0x50193b;};const a0_0x4b94df=function(){let _0xe541fc=!![];return function(_0x3b96ae,_0x4ee8dd){const _0xf1876e=_0xe541fc?function(){if(_0x4ee8dd){const _0x1d32f7=_0x4ee8dd[a0_0x5019('0x23')](_0x3b96ae,arguments);return _0x4ee8dd=null,_0x1d32f7;}}:function(){};return _0xe541fc=![],_0xf1876e;};}(),a0_0x587fe7=a0_0x4b94df(this,function(){const _0x3f5114=function(){const _0x3dfdb5=_0x3f5114[a0_0x5019('0x18')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3dfdb5[a0_0x5019('0x16')](a0_0x587fe7);};return _0x3f5114();});a0_0x587fe7();const qm=require(a0_0x5019('0x1c')),la=require('qminer')['la'],fs=require('fs'),EMAIncrementalModel=require(a0_0x5019('0x10')),StructuredEMAIncrementalModel=require(a0_0x5019('0x9'));class IncrementalLearning{constructor(_0x3d7529,_0x1da363){this[a0_0x5019('0x15')]=_0x3d7529[a0_0x5019('0x1d')][a0_0x5019('0x15')],this[a0_0x5019('0x1e')]=_0x3d7529[a0_0x5019('0x1e')],this[a0_0x5019('0x12')]=_0x3d7529[a0_0x5019('0x1d')][a0_0x5019('0x12')],this[a0_0x5019('0x0')]=_0x3d7529[a0_0x5019('0x1d')][a0_0x5019('0x0')],this[a0_0x5019('0x5')]=![],this[a0_0x5019('0x7')]=[],this[a0_0x5019('0x6')]=[],this[a0_0x5019('0x24')]=a0_0x5019('0x4')+_0x1da363['fusion_id']+'-'+this[a0_0x5019('0x0')][a0_0x5019('0xd')]+a0_0x5019('0x2');}[a0_0x5019('0xa')](_0x5393c3,_0x3d34f2){this[a0_0x5019('0x6')][a0_0x5019('0xc')](_0x5393c3);if(this[a0_0x5019('0x6')]['length']>this[a0_0x5019('0x15')]){let _0x326b06=_0x5393c3[this[a0_0x5019('0x12')]],_0x1c5ae2=new la[(a0_0x5019('0x19'))](this[a0_0x5019('0x6')][this[a0_0x5019('0x6')]['length']-this[a0_0x5019('0x15')]-0x1]);try{this['model'][a0_0x5019('0x8')](_0x1c5ae2,_0x326b06);}catch(_0xf00c20){console[a0_0x5019('0x22')]('PARTIAL\x20FIT\x20ERROR!',_0xf00c20),console['log'](this[a0_0x5019('0x6')][this[a0_0x5019('0x6')][a0_0x5019('0x1f')]-this[a0_0x5019('0x15')]-0x1],_0x326b06),process['exit']();}}if(this['buffer'][a0_0x5019('0x1f')]>0x0){if(this[a0_0x5019('0x5')]==![]){this[a0_0x5019('0x5')]=!![],this[a0_0x5019('0x0')]['dim']=_0x5393c3[a0_0x5019('0x1f')];if(this[a0_0x5019('0x0')]['method']==='RecLinReg')this[a0_0x5019('0x1d')]=new qm['analytics']['RecLinReg'](this[a0_0x5019('0x0')]);else{if(this[a0_0x5019('0x0')][a0_0x5019('0xd')]===a0_0x5019('0x20'))this['model']=new StructuredEMAIncrementalModel(this['options']);else{if(this['options']['method']===a0_0x5019('0x14'))this[a0_0x5019('0x1d')]=new EMAIncrementalModel(this['options']);else throw Error(a0_0x5019('0x11'),this[a0_0x5019('0x0')][a0_0x5019('0xd')]);}}}let _0x4a047b=new la[(a0_0x5019('0x19'))](_0x5393c3),_0x3e7eae=this[a0_0x5019('0x1d')][a0_0x5019('0x1b')](_0x4a047b);this[a0_0x5019('0x7')][a0_0x5019('0xc')](_0x3e7eae);if(this['predictionBuffer'][a0_0x5019('0x1f')]>this['horizon'])this[a0_0x5019('0x7')][a0_0x5019('0xf')]();if(this[a0_0x5019('0x6')][a0_0x5019('0x1f')]>this[a0_0x5019('0x15')])this[a0_0x5019('0x6')][a0_0x5019('0xf')]();let _0x1139af=_0x3d34f2+this[a0_0x5019('0x15')]*this[a0_0x5019('0x1e')];return{'ts':_0x1139af,'value':_0x3e7eae,'horizon':this[a0_0x5019('0x15')]};}}[a0_0x5019('0x3')](){let _0x858205=fs[a0_0x5019('0x1a')](this[a0_0x5019('0x24')]);this[a0_0x5019('0x1d')][a0_0x5019('0x21')](_0x858205),_0x858205[a0_0x5019('0xe')]();}[a0_0x5019('0xb')](){let _0x59dd86=fs['OpenRead'](this[a0_0x5019('0x24')]);this[a0_0x5019('0x1d')]=new qm[(a0_0x5019('0x17'))][(a0_0x5019('0x13'))](_0x59dd86),_0x59dd86[a0_0x5019('0xe')]();}}module[a0_0x5019('0x1')]=IncrementalLearning;