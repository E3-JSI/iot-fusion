var _0x4bde=['toFixed','predict','saveModel','OpenWrite','save','close','qminer','horizon','model','fusionTick','label','options','predictionBuffer','buffer','filename','./models/','fusion_id','updateStream','push','Vector','length','partialFit','PARTIAL\x20FIT\x20ERROR!','log','exit','initiated','dim','analytics','RecLinReg','makePrediction','shift','appendFileSync','predictions.csv','Prediction:\x20'];(function(_0x4ac51c,_0x21d03b){var _0x1c6310=function(_0x12377d){while(--_0x12377d){_0x4ac51c['push'](_0x4ac51c['shift']());}};var _0x527b0e=function(){var _0x79dda2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x347150,_0x33e82a,_0x5ae685,_0x527bf3){_0x527bf3=_0x527bf3||{};var _0x240698=_0x33e82a+'='+_0x5ae685;var _0x2c8b69=0x0;for(var _0x2c8b69=0x0,_0x5626c7=_0x347150['length'];_0x2c8b69<_0x5626c7;_0x2c8b69++){var _0x1572bc=_0x347150[_0x2c8b69];_0x240698+=';\x20'+_0x1572bc;var _0x3a7731=_0x347150[_0x1572bc];_0x347150['push'](_0x3a7731);_0x5626c7=_0x347150['length'];if(_0x3a7731!==!![]){_0x240698+='='+_0x3a7731;}}_0x527bf3['cookie']=_0x240698;},'removeCookie':function(){return'dev';},'getCookie':function(_0x23f7ca,_0x393336){_0x23f7ca=_0x23f7ca||function(_0x249303){return _0x249303;};var _0x2f8313=_0x23f7ca(new RegExp('(?:^|;\x20)'+_0x393336['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x31278b=function(_0x306217,_0x1ce91e){_0x306217(++_0x1ce91e);};_0x31278b(_0x1c6310,_0x21d03b);return _0x2f8313?decodeURIComponent(_0x2f8313[0x1]):undefined;}};var _0x5734f9=function(){var _0x60ee2d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x60ee2d['test'](_0x79dda2['removeCookie']['toString']());};_0x79dda2['updateCookie']=_0x5734f9;var _0x3dad9e='';var _0x581d32=_0x79dda2['updateCookie']();if(!_0x581d32){_0x79dda2['setCookie'](['*'],'counter',0x1);}else if(_0x581d32){_0x3dad9e=_0x79dda2['getCookie'](null,'counter');}else{_0x79dda2['removeCookie']();}};_0x527b0e();}(_0x4bde,0x15a));var _0x334c=function(_0x1fa04d,_0x45c84a){_0x1fa04d=_0x1fa04d-0x0;var _0x215db2=_0x4bde[_0x1fa04d];return _0x215db2;};var _0x2a5430=function(){var _0xa1462f=!![];return function(_0x19815c,_0x2da8ef){var _0x3245c1=_0xa1462f?function(){if(_0x2da8ef){var _0x13ce57=_0x2da8ef['apply'](_0x19815c,arguments);_0x2da8ef=null;return _0x13ce57;}}:function(){};_0xa1462f=![];return _0x3245c1;};}();var _0x287164=_0x2a5430(this,function(){var _0xc8f01f=function(){return'\x64\x65\x76';},_0x8ffc15=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3e8943=function(){var _0x33e392=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x33e392['\x74\x65\x73\x74'](_0xc8f01f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x201d02=function(){var _0x22617e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x22617e['\x74\x65\x73\x74'](_0x8ffc15['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2c63ba=function(_0x3a0d15){var _0xeabeff=~-0x1>>0x1+0xff%0x0;if(_0x3a0d15['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0xeabeff)){_0x1aa20a(_0x3a0d15);}};var _0x1aa20a=function(_0xb9e6be){var _0x257764=~-0x4>>0x1+0xff%0x0;if(_0xb9e6be['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x257764){_0x2c63ba(_0xb9e6be);}};if(!_0x3e8943()){if(!_0x201d02()){_0x2c63ba('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2c63ba('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2c63ba('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x287164();const qm=require(_0x334c('0x0'));const la=require(_0x334c('0x0'))['la'];const fs=require('fs');class streamModel{constructor(_0xdf10d0,_0x5cbb1a){this[_0x334c('0x1')]=_0xdf10d0[_0x334c('0x2')]['horizon'];this[_0x334c('0x3')]=_0xdf10d0[_0x334c('0x3')];this[_0x334c('0x4')]=_0xdf10d0[_0x334c('0x2')]['label'];this['options']=_0xdf10d0[_0x334c('0x2')][_0x334c('0x5')];this['initiated']=![];this[_0x334c('0x6')]=[];this[_0x334c('0x7')]=[];this[_0x334c('0x8')]=_0x334c('0x9')+_0x5cbb1a[_0x334c('0xa')]+'-lr.bin';}[_0x334c('0xb')](_0x3ffd63,_0x55a448){this[_0x334c('0x7')][_0x334c('0xc')](_0x3ffd63);if(this[_0x334c('0x7')]['length']>this[_0x334c('0x1')]){let _0x3f9c91=_0x3ffd63[this['label']];let _0x3aa3d7=new la[(_0x334c('0xd'))](this[_0x334c('0x7')][this[_0x334c('0x7')][_0x334c('0xe')]-this[_0x334c('0x1')]-0x1]);try{this[_0x334c('0x2')][_0x334c('0xf')](_0x3aa3d7,_0x3f9c91);}catch(_0x92fb41){console['log'](_0x334c('0x10'),_0x92fb41);console[_0x334c('0x11')](this['buffer'][this[_0x334c('0x7')]['length']-this[_0x334c('0x1')]-0x1],_0x3f9c91);process[_0x334c('0x12')]();}}if(this[_0x334c('0x7')]['length']>0x0){if(this[_0x334c('0x13')]==![]){this['initiated']=!![];this[_0x334c('0x5')][_0x334c('0x14')]=_0x3ffd63['length'];this[_0x334c('0x2')]=new qm[(_0x334c('0x15'))][(_0x334c('0x16'))](this[_0x334c('0x5')]);}let _0x1c34d8=new la[(_0x334c('0xd'))](_0x3ffd63);let _0x56b9eb=this[_0x334c('0x17')](_0x1c34d8);this[_0x334c('0x6')]['push'](_0x56b9eb);if(this[_0x334c('0x6')][_0x334c('0xe')]>this[_0x334c('0x1')])this[_0x334c('0x6')][_0x334c('0x18')]();fs[_0x334c('0x19')](_0x334c('0x1a'),this[_0x334c('0x6')][0x0]+','+_0x3ffd63[this[_0x334c('0x4')]]+'\x0a');console[_0x334c('0x11')](_0x334c('0x1b'),_0x56b9eb[_0x334c('0x1c')](0x2));if(this[_0x334c('0x7')]['length']>this['horizon'])this[_0x334c('0x7')][_0x334c('0x18')]();let _0x579a4c=_0x55a448+this[_0x334c('0x1')]*this[_0x334c('0x3')];return[_0x579a4c,_0x56b9eb,this[_0x334c('0x1')]];}}['makePrediction'](_0x4d6528){let _0xa2899=this[_0x334c('0x2')][_0x334c('0x1d')](_0x4d6528);return _0xa2899;}[_0x334c('0x1e')](){let _0x1da9f5=fs[_0x334c('0x1f')](this[_0x334c('0x8')]);this[_0x334c('0x2')][_0x334c('0x20')](_0x1da9f5);_0x1da9f5[_0x334c('0x21')]();}['loadModel'](){let _0x5dd90c=fs['OpenRead'](this['filename']);this['model']=new qm[(_0x334c('0x15'))]['RecLinReg'](_0x5dd90c);_0x5dd90c['close']();}}module['exports']=streamModel;