var _0xf61a=['label','options','initiated','buffer','filename','./models/','fusion_id','updateStream','push','length','Vector','partialFit','log','PARTIAL\x20FIT\x20ERROR!','exit','dim','RecLinReg','makePrediction','predictionBuffer','shift','appendFileSync','predictions.csv','Prediction:\x20','toFixed','fusionTick','predict','saveModel','save','close','loadModel','analytics','qminer','horizon','model'];(function(_0x2f23b5,_0x3711c8){var _0x261591=function(_0x4875a9){while(--_0x4875a9){_0x2f23b5['push'](_0x2f23b5['shift']());}};var _0xbe78cf=function(){var _0x4f9810={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4eb867,_0x2a6a57,_0x1429f5,_0x4da8b9){_0x4da8b9=_0x4da8b9||{};var _0x448796=_0x2a6a57+'='+_0x1429f5;var _0x152726=0x0;for(var _0x152726=0x0,_0x119dc5=_0x4eb867['length'];_0x152726<_0x119dc5;_0x152726++){var _0x1c1472=_0x4eb867[_0x152726];_0x448796+=';\x20'+_0x1c1472;var _0x3b1183=_0x4eb867[_0x1c1472];_0x4eb867['push'](_0x3b1183);_0x119dc5=_0x4eb867['length'];if(_0x3b1183!==!![]){_0x448796+='='+_0x3b1183;}}_0x4da8b9['cookie']=_0x448796;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4f725a,_0x3af7ea){_0x4f725a=_0x4f725a||function(_0x2b097c){return _0x2b097c;};var _0x10ef6a=_0x4f725a(new RegExp('(?:^|;\x20)'+_0x3af7ea['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x251b4a=function(_0x56b0bf,_0x257442){_0x56b0bf(++_0x257442);};_0x251b4a(_0x261591,_0x3711c8);return _0x10ef6a?decodeURIComponent(_0x10ef6a[0x1]):undefined;}};var _0x4f96ac=function(){var _0x4154eb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4154eb['test'](_0x4f9810['removeCookie']['toString']());};_0x4f9810['updateCookie']=_0x4f96ac;var _0x3dc269='';var _0x42587c=_0x4f9810['updateCookie']();if(!_0x42587c){_0x4f9810['setCookie'](['*'],'counter',0x1);}else if(_0x42587c){_0x3dc269=_0x4f9810['getCookie'](null,'counter');}else{_0x4f9810['removeCookie']();}};_0xbe78cf();}(_0xf61a,0x195));var _0x10a5=function(_0xb4dbf6,_0x1ce295){_0xb4dbf6=_0xb4dbf6-0x0;var _0xb88c42=_0xf61a[_0xb4dbf6];return _0xb88c42;};var _0x470f14=function(){var _0x2df270=!![];return function(_0x53967a,_0xfd8d3a){var _0x1eba69=_0x2df270?function(){if(_0xfd8d3a){var _0x274383=_0xfd8d3a['apply'](_0x53967a,arguments);_0xfd8d3a=null;return _0x274383;}}:function(){};_0x2df270=![];return _0x1eba69;};}();var _0x5692a9=_0x470f14(this,function(){var _0x2d8f05=function(){return'\x64\x65\x76';},_0x4b81bb=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x34a12b=function(){var _0x36c6a6=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x36c6a6['\x74\x65\x73\x74'](_0x2d8f05['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x33748d=function(){var _0x3e4c21=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3e4c21['\x74\x65\x73\x74'](_0x4b81bb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5c685e=function(_0x3e3156){var _0x1e9e81=~-0x1>>0x1+0xff%0x0;if(_0x3e3156['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1e9e81)){_0x292610(_0x3e3156);}};var _0x292610=function(_0x151bd2){var _0x558098=~-0x4>>0x1+0xff%0x0;if(_0x151bd2['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x558098){_0x5c685e(_0x151bd2);}};if(!_0x34a12b()){if(!_0x33748d()){_0x5c685e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5c685e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5c685e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5692a9();const qm=require(_0x10a5('0x0'));const la=require(_0x10a5('0x0'))['la'];const fs=require('fs');class streamModel{constructor(_0x16e964,_0x375c55){this[_0x10a5('0x1')]=_0x16e964['model'][_0x10a5('0x1')];this['fusionTick']=_0x16e964['fusionTick'];this['label']=_0x16e964[_0x10a5('0x2')][_0x10a5('0x3')];this[_0x10a5('0x4')]=_0x16e964[_0x10a5('0x2')][_0x10a5('0x4')];this[_0x10a5('0x5')]=![];this['predictionBuffer']=[];this[_0x10a5('0x6')]=[];this[_0x10a5('0x7')]=_0x10a5('0x8')+_0x375c55[_0x10a5('0x9')]+'-lr.bin';}[_0x10a5('0xa')](_0x58605f,_0x3ccc12){this['buffer'][_0x10a5('0xb')](_0x58605f);if(this[_0x10a5('0x6')][_0x10a5('0xc')]>this[_0x10a5('0x1')]){let _0x15b797=_0x58605f[this['label']];let _0x4e4642=new la[(_0x10a5('0xd'))](this[_0x10a5('0x6')][this[_0x10a5('0x6')][_0x10a5('0xc')]-this['horizon']-0x1]);try{this['model'][_0x10a5('0xe')](_0x4e4642,_0x15b797);}catch(_0x10d789){console[_0x10a5('0xf')](_0x10a5('0x10'),_0x10d789);console[_0x10a5('0xf')](this[_0x10a5('0x6')][this[_0x10a5('0x6')]['length']-this['horizon']-0x1],_0x15b797);process[_0x10a5('0x11')]();}}if(this[_0x10a5('0x6')]['length']>0x0){if(this[_0x10a5('0x5')]==![]){this[_0x10a5('0x5')]=!![];this[_0x10a5('0x4')][_0x10a5('0x12')]=_0x58605f[_0x10a5('0xc')];this['model']=new qm['analytics'][(_0x10a5('0x13'))](this[_0x10a5('0x4')]);}let _0x116109=new la[(_0x10a5('0xd'))](_0x58605f);let _0x365d27=this[_0x10a5('0x14')](_0x116109);this['predictionBuffer'][_0x10a5('0xb')](_0x365d27);if(this['predictionBuffer']['length']>this[_0x10a5('0x1')])this[_0x10a5('0x15')][_0x10a5('0x16')]();fs[_0x10a5('0x17')](_0x10a5('0x18'),this['predictionBuffer'][0x0]+','+_0x58605f[this[_0x10a5('0x3')]]+'\x0a');console[_0x10a5('0xf')](_0x10a5('0x19'),_0x365d27[_0x10a5('0x1a')](0x2));if(this['buffer'][_0x10a5('0xc')]>this[_0x10a5('0x1')])this[_0x10a5('0x6')]['shift']();let _0x578891=_0x3ccc12+this[_0x10a5('0x1')]*this[_0x10a5('0x1b')];return[_0x578891,_0x365d27,this[_0x10a5('0x1')]];}}[_0x10a5('0x14')](_0x5bef2b){let _0xd9fab4=this[_0x10a5('0x2')][_0x10a5('0x1c')](_0x5bef2b);return _0xd9fab4;}[_0x10a5('0x1d')](){let _0x1d53b4=fs['OpenWrite'](this[_0x10a5('0x7')]);this[_0x10a5('0x2')][_0x10a5('0x1e')](_0x1d53b4);_0x1d53b4[_0x10a5('0x1f')]();}[_0x10a5('0x20')](){let _0x47f301=fs['OpenRead'](this['filename']);this[_0x10a5('0x2')]=new qm[(_0x10a5('0x21'))][(_0x10a5('0x13'))](_0x47f301);_0x47f301[_0x10a5('0x1f')]();}}module['exports']=streamModel;