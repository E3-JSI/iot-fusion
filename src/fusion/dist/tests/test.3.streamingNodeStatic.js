const a0_0x25da=['getPartialFeatureVector\x20function\x20exists','fields','static','apply','correct\x20aggregate\x20values','check\x20store\x20structure','broadcastAggregates\x20function\x20exists','offsetExists','./db2/','nodes','pc|ma|86400000','close','pc|ma|21600000','master\x20set\x20correctly','position','keys','../nodes/streamingNode.js','../common/utils/fileManager.js','../nodes/streamingStaticNode.js','getAggregates\x20function\x20exists','none','holiday','constructor','offsetExists\x20function\x20exists','test','assert','winbuf','config','dayOfMonth','weekEnd','broadcastAggregates','stream\x20aggregates\x20calculated\x20correctly\x20for\x201\x20insertion','variance','setSlaveOffset\x20function\x20exists','buffer\x20position\x20is\x200','connectToKafka\x20function\x20exists','../nodes/streamingEnergyNode.js','isMaster\x20function','{\x22timestamp\x22:0,\x20\x22timeOfDay\x22:\x200,\x20\x22dayAfterHoliday\x22:\x200,\x20\x22dayBeforeHoliday\x22:\x201,\x20\x22dayOfYear\x22:\x201,\x20\x22dayOfWeek\x22:\x202,\x20\x22dayOfMonth\x22:\x201,\x20\x22holiday\x22:\x201,\x20\x22monthOfYear\x22:\x201,\x20\x22weekEnd\x22:\x200\x20}','float','../nodes/streamingWeatherNode.js','pc|variance|604800000','master','processRecord','buffer','pc|max|604800000','deepEqual','initialization','dayAfterHoliday','config\x20saved','monthOfYear','temperature24','deleteObsoleteRows','processRecordCb','aggregate','pc|variance|86400000','aggregates\x20initialized\x20-\x20number','check\x20if\x20store\x20exists','connectToKafka','windBearing24','holiday|tick','equal','getOffsetTimestamp\x20function\x20exists','fusionNodeI\x20correctly\x20saved','Base','min','data\x20record\x20record\x20saved\x20correctly','createAggregates','pc|ma|3600000','getOffsetTimestamp','parse','holiday|winbuf|604800000','floor','pc|max|86400000','pc|ma|2592000000','24\x20more\x20data\x20insertions\x20-\x20check\x20buffer','getAggregates','pc|min|604800000','streamingStaticNode','dayBeforeHoliday','checkDataAvailability','isMaster','pc|ma|604800000','length','192.168.85.98:2181','name','aggregates\x20initialized\x20-\x20key\x20names','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','master\x20flag\x20set\x20correctly','qminer','getPartialFeatureVector','energy','timeOfDay','createFolder','setMasterOffset','dayOfYear','value','weather','deleteObsoleteRows\x20function\x20exists','windSpeed24','checkDataAvailability\x20function\x20exists','function','parent','return\x20/\x22\x20+\x20this\x20+\x20\x22/','pc|variance|21600000','data\x20insertion','setSlaveOffset','dayOfWeek','coorect\x20partial\x20feature\x20vector','fusionNodeI','parent\x20saved','createAggregates\x20function\x20exists','max','pc|min|86400000'];(function(_0x1a6a6f,_0x25da42){const _0x540b4c=function(_0x499fa3){while(--_0x499fa3){_0x1a6a6f['push'](_0x1a6a6f['shift']());}},_0x43a8be=function(){const _0x5050d0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x54e83d,_0x324f28,_0x455339,_0x2243c1){_0x2243c1=_0x2243c1||{};let _0x2fd5b4=_0x324f28+'='+_0x455339,_0x490da0=0x0;for(let _0x1b62a0=0x0,_0x16e152=_0x54e83d['length'];_0x1b62a0<_0x16e152;_0x1b62a0++){const _0x46e6e1=_0x54e83d[_0x1b62a0];_0x2fd5b4+=';\x20'+_0x46e6e1;const _0x508ffd=_0x54e83d[_0x46e6e1];_0x54e83d['push'](_0x508ffd),_0x16e152=_0x54e83d['length'],_0x508ffd!==!![]&&(_0x2fd5b4+='='+_0x508ffd);}_0x2243c1['cookie']=_0x2fd5b4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19dd83,_0x2b8dd4){_0x19dd83=_0x19dd83||function(_0x17201){return _0x17201;};const _0x1fa3ac=_0x19dd83(new RegExp('(?:^|;\x20)'+_0x2b8dd4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x292bf6=function(_0x85487f,_0x235c57){_0x85487f(++_0x235c57);};return _0x292bf6(_0x540b4c,_0x25da42),_0x1fa3ac?decodeURIComponent(_0x1fa3ac[0x1]):undefined;}},_0x5b3f6b=function(){const _0x472ff1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x472ff1['test'](_0x5050d0['removeCookie']['toString']());};_0x5050d0['updateCookie']=_0x5b3f6b;let _0x4953a8='';const _0x25aeef=_0x5050d0['updateCookie']();if(!_0x25aeef)_0x5050d0['setCookie'](['*'],'counter',0x1);else _0x25aeef?_0x4953a8=_0x5050d0['getCookie'](null,'counter'):_0x5050d0['removeCookie']();};_0x43a8be();}(a0_0x25da,0xd3));const a0_0x540b=function(_0x1a6a6f,_0x25da42){_0x1a6a6f=_0x1a6a6f-0x0;let _0x540b4c=a0_0x25da[_0x1a6a6f];return _0x540b4c;};const a0_0x455339=function(){let _0x3e0c36=!![];return function(_0x190fd9,_0x228ec1){const _0x48fff6=_0x3e0c36?function(){if(_0x228ec1){const _0x154de5=_0x228ec1[a0_0x540b('0x14')](_0x190fd9,arguments);return _0x228ec1=null,_0x154de5;}}:function(){};return _0x3e0c36=![],_0x48fff6;};}(),a0_0x324f28=a0_0x455339(this,function(){const _0x4279d5=function(){const _0x481017=_0x4279d5['constructor'](a0_0x540b('0x6'))()[a0_0x540b('0x27')](a0_0x540b('0x68'));return!_0x481017['test'](a0_0x324f28);};return _0x4279d5();});a0_0x324f28();const streamingNode=require(a0_0x540b('0x21')),streamingEnergyNode=require(a0_0x540b('0x35')),streamingWeatherNode=require(a0_0x540b('0x39')),streamingStaticNode=require(a0_0x540b('0x23')),fileManager=require(a0_0x540b('0x22')),qm=require(a0_0x540b('0x6a')),fs=require('fs');var assert=require(a0_0x540b('0x2a'));let connectionConfig={'zookeeper':a0_0x540b('0x65')},aggrConfigs={'energy':[{'field':'pc','tick':[{'type':a0_0x540b('0x2b'),'winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x540b('0x2b'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x540b('0x31')},{'type':'ma'}]},{'type':a0_0x540b('0x2b'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x540b('0x31')},{'type':'ma'},{'type':a0_0x540b('0x52')},{'type':a0_0x540b('0xf')}]},{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x540b('0x31')},{'type':'ma'},{'type':a0_0x540b('0x52')},{'type':'max'}]},{'type':'winbuf','winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':a0_0x540b('0x26'),'tick':[{'type':a0_0x540b('0x2b'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'connection':{'type':a0_0x540b('0x25')},'fusionModel':a0_0x540b('0x29'),'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x540b('0x6c'),'nodeid':'N1','aggrConfigId':a0_0x540b('0x6c'),'fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x540b('0x71'),'name':'pc'},{'type':'value','name':a0_0x540b('0x55')},{'type':'value','name':a0_0x540b('0x1d')},{'type':'value','name':a0_0x540b('0x1b')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x63')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x5b')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x10')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x5e')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x5a')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x3e')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x7')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x48')},{'type':'value','name':a0_0x540b('0x3a')}]},{'time':-0x18,'attributes':[{'type':'value','name':'pc'}]},{'time':-0x30,'attributes':[{'type':a0_0x540b('0x71'),'name':'pc'}]},{'time':-0xa8,'attributes':[{'type':a0_0x540b('0x71'),'name':'pc'}]}]},{'type':a0_0x540b('0x13'),'nodeid':a0_0x540b('0x13'),'aggrConfigId':a0_0x540b('0x13'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x6d')},{'type':'value','name':a0_0x540b('0x2e')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x26')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x41')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x60')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0xa')},{'type':a0_0x540b('0x71'),'name':'dayOfYear'},{'type':'value','name':a0_0x540b('0x43')}]}]},{'type':a0_0x540b('0x0'),'nodeid':a0_0x540b('0x0'),'aggrConfigId':a0_0x540b('0x0'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x44')},{'type':a0_0x540b('0x71'),'name':'humidity24'},{'type':a0_0x540b('0x71'),'name':'pressure24'},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x2')},{'type':a0_0x540b('0x71'),'name':a0_0x540b('0x4c')},{'type':a0_0x540b('0x71'),'name':'cloudCover24'}]}]}]};function processRecordDummyCb(_0x5f1737,_0x364762){return!![];}describe(a0_0x540b('0x5f'),function(){let _0x5cd2db,_0x288965;before(function(){fileManager['removeFolder'](a0_0x540b('0x19')),fileManager[a0_0x540b('0x6e')](a0_0x540b('0x19')),_0x5cd2db=new qm[(a0_0x540b('0x51'))]({'dbPath':a0_0x540b('0x19'),'mode':'createClean'}),ssn=new streamingStaticNode(_0x5cd2db,connectionConfig,fusionConfig[a0_0x540b('0x1a')][0x1],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x5cd2db[a0_0x540b('0x1c')]();}),describe(a0_0x540b('0x40'),function(){it('base\x20saved',function(){assert['equal'](_0x5cd2db,ssn['base']);}),it(a0_0x540b('0x4a'),function(){assert['equal'](ssn['rawstore'][a0_0x540b('0x66')],a0_0x540b('0x13'));}),it(a0_0x540b('0x16'),function(){assert[a0_0x540b('0x3f')](ssn['rawstore'][a0_0x540b('0x12')],[{'id':0x0,'name':'Time','type':'datetime','nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':a0_0x540b('0x41'),'type':a0_0x540b('0x38'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':'dayBeforeHoliday','type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':'dayOfMonth','type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x4,'name':a0_0x540b('0xa'),'type':a0_0x540b('0x38'),'nullable':![],'internal':![],'primary':![]},{'id':0x5,'name':a0_0x540b('0x70'),'type':a0_0x540b('0x38'),'nullable':![],'internal':![],'primary':![]},{'id':0x6,'name':a0_0x540b('0x26'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x7,'name':a0_0x540b('0x43'),'type':a0_0x540b('0x38'),'nullable':![],'internal':![],'primary':![]},{'id':0x8,'name':'weekEnd','type':a0_0x540b('0x38'),'nullable':![],'internal':![],'primary':![]}]);}),it(a0_0x540b('0x49'),function(){assert[a0_0x540b('0x4e')](Object[a0_0x540b('0x20')](ssn[a0_0x540b('0x47')])[a0_0x540b('0x64')],0x3);}),it(a0_0x540b('0x67'),function(){assert[a0_0x540b('0x3f')](Object[a0_0x540b('0x20')](ssn[a0_0x540b('0x47')]),[a0_0x540b('0x4d'),a0_0x540b('0x58'),'holiday|ma|604800000']);}),it(a0_0x540b('0x42'),function(){assert[a0_0x540b('0x3f')](ssn[a0_0x540b('0x2c')],fusionConfig['nodes'][0x1]);}),it(a0_0x540b('0x50'),function(){assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0xc')],0x63);}),it('callback\x20function\x20should\x20be\x20set',function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x46')],a0_0x540b('0x4'));}),it(a0_0x540b('0xd'),function(){assert['equal'](ssn[a0_0x540b('0x5')],null);}),it('buffer\x20empty',function(){assert['deepEqual'](ssn[a0_0x540b('0x3d')],[]);}),it(a0_0x540b('0x33'),function(){assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x1f')],0x0);}),it(a0_0x540b('0x69'),function(){assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x3b')],![]);}),it(a0_0x540b('0x36'),function(){assert[a0_0x540b('0x4e')](ssn['isMaster'](),![]);}),it(a0_0x540b('0x34'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x4b')],a0_0x540b('0x4'));}),it(a0_0x540b('0x17'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x2f')],a0_0x540b('0x4'));}),it(a0_0x540b('0xe'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x54')],a0_0x540b('0x4'));}),it(a0_0x540b('0x28'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x18')],a0_0x540b('0x4'));}),it(a0_0x540b('0x1'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x45')],a0_0x540b('0x4'));}),it(a0_0x540b('0x3'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x61')],'function');}),it(a0_0x540b('0x32'),function(){assert['equal'](typeof ssn[a0_0x540b('0x9')],a0_0x540b('0x4'));}),it(a0_0x540b('0x4f'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x56')],a0_0x540b('0x4'));}),it('setMasterOffset\x20function\x20exists',function(){assert['equal'](typeof ssn[a0_0x540b('0x56')],a0_0x540b('0x4'));}),it(a0_0x540b('0x24'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x5d')],'function');}),it(a0_0x540b('0x11'),function(){assert[a0_0x540b('0x4e')](typeof ssn[a0_0x540b('0x6b')],a0_0x540b('0x4'));}),it(a0_0x540b('0x1e'),function(){assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x62')](),![]);}),it('master\x20offset\x20set\x20correctly',function(){ssn[a0_0x540b('0x6f')](),assert[a0_0x540b('0x4e')](ssn['position'],-0x1);}),it('slave\x20offset\x20set\x20correctly:\x20no\x20data',function(){assert['equal'](ssn[a0_0x540b('0x9')](0x0),![]);});}),describe(a0_0x540b('0x8'),function(){it(a0_0x540b('0x53'),function(){ssn[a0_0x540b('0x3c')](JSON[a0_0x540b('0x57')](a0_0x540b('0x37'))),assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x3d')][a0_0x540b('0x64')],0x1),assert['equal'](ssn['buffer'][0x0][a0_0x540b('0x6d')],0x0),assert[a0_0x540b('0x4e')](ssn['buffer'][0x0]['dayAfterHoliday'],0x0),assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x3d')][0x0]['dayBeforeHoliday'],0x1),assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x3d')][0x0][a0_0x540b('0x70')],0x1),assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x3d')][0x0][a0_0x540b('0xa')],0x2),assert['equal'](ssn[a0_0x540b('0x3d')][0x0][a0_0x540b('0x2d')],0x1),assert['equal'](ssn['buffer'][0x0][a0_0x540b('0x26')],0x1),assert[a0_0x540b('0x4e')](ssn['buffer'][0x0][a0_0x540b('0x43')],0x1),assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x3d')][0x0][a0_0x540b('0x2e')],0x0);}),it(a0_0x540b('0x30'),function(){assert[a0_0x540b('0x3f')](ssn[a0_0x540b('0x3d')][0x0],{'dayAfterHoliday':0x0,'dayBeforeHoliday':0x1,'dayOfMonth':0x1,'dayOfWeek':0x2,'dayOfYear':0x1,'holiday':0x1,'holiday|ma|604800000':0x1,'monthOfYear':0x1,'stampm':0x0,'timeOfDay':0x0,'weekEnd':0x0});}),it(a0_0x540b('0x5c'),function(){let _0x3fef3b=JSON[a0_0x540b('0x57')](a0_0x540b('0x37'));for(let _0x412709=0x1;_0x412709<=0x18;_0x412709++){_0x3fef3b['timestamp']=_0x412709*0x3c*0x3c*0x3e8,_0x3fef3b[a0_0x540b('0x6d')]=_0x412709%0x18,_0x3fef3b[a0_0x540b('0x70')]=Math[a0_0x540b('0x59')](_0x412709/0x18)+0x1,_0x3fef3b[a0_0x540b('0xa')]=Math[a0_0x540b('0x59')](_0x412709/0x18)+0x2,_0x3fef3b[a0_0x540b('0x2d')]=Math['floor'](_0x412709/0x18)+0x1,_0x3fef3b['dayOfYear']=Math[a0_0x540b('0x59')](_0x412709/0x18)+0x1,_0x3fef3b['holiday']=0x1-Math[a0_0x540b('0x59')](_0x412709/0x18),ssn[a0_0x540b('0x3c')](_0x3fef3b);}assert[a0_0x540b('0x4e')](ssn[a0_0x540b('0x3d')][a0_0x540b('0x64')],0x19);}),it(a0_0x540b('0x15'),function(){assert[a0_0x540b('0x3f')](ssn[a0_0x540b('0x5d')](),{'holiday|ma|604800000':0.96,'stampm':0x5265c00});}),it(a0_0x540b('0xb'),function(){ssn['setSlaveOffset'](0x0),assert[a0_0x540b('0x3f')](ssn[a0_0x540b('0x6b')](),[0x0,0x0,0x0,0x0,0x1,0x3,0x2,0x1]);});});});