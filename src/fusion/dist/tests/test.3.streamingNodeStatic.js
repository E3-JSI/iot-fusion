var _0x1b1d=['buffer\x20empty','buffer','buffer\x20position\x20is\x200','position','master\x20flag\x20set\x20correctly','isMaster\x20function','isMaster','connectToKafka\x20function\x20exists','connectToKafka','broadcastAggregates\x20function\x20exists','broadcastAggregates','createAggregates\x20function\x20exists','offsetExists','deleteObsoleteRows\x20function\x20exists','deleteObsoleteRows','checkDataAvailability','setSlaveOffset\x20function\x20exists','getOffsetTimestamp\x20function\x20exists','getOffsetTimestamp','getAggregates\x20function\x20exists','getAggregates','getPartialFeatureVector\x20function\x20exists','getPartialFeatureVector','master\x20set\x20correctly','master\x20offset\x20set\x20correctly','slave\x20offset\x20set\x20correctly:\x20no\x20data','setSlaveOffset','data\x20insertion','data\x20record\x20record\x20saved\x20correctly','processRecord','parse','{\x22timestamp\x22:0,\x20\x22timeOfDay\x22:\x200,\x20\x22dayAfterHoliday\x22:\x200,\x20\x22dayBeforeHoliday\x22:\x201,\x20\x22dayOfYear\x22:\x201,\x20\x22dayOfWeek\x22:\x202,\x20\x22dayOfMonth\x22:\x201,\x20\x22holiday\x22:\x201,\x20\x22monthOfYear\x22:\x201,\x20\x22weekEnd\x22:\x200\x20}','length','timeOfDay','24\x20more\x20data\x20insertions\x20-\x20check\x20buffer','floor','correct\x20aggregate\x20values','coorect\x20partial\x20feature\x20vector','../nodes/streamingNode.js','../nodes/streamingEnergyNode.js','../nodes/streamingWeatherNode.js','../nodes/streamingStaticNode.js','../../common/utils/fileManager.js','qminer','assert','192.168.85.98:2181','winbuf','variance','min','max','holiday','none','energy','value','pc|ma|3600000','pc|ma|21600000','pc|ma|86400000','pc|ma|604800000','pc|ma|2592000000','pc|min|86400000','pc|max|86400000','pc|max|604800000','pc|variance|21600000','pc|variance|604800000','static','dayAfterHoliday','dayBeforeHoliday','dayOfYear','monthOfYear','weather','temperature24','humidity24','windSpeed24','windBearing24','removeFolder','./db2/','createFolder','Base','nodes','initialization','base\x20saved','equal','base','check\x20if\x20store\x20exists','rawstore','name','check\x20store\x20structure','deepEqual','fields','Time','datetime','float','dayOfMonth','dayOfWeek','weekEnd','aggregates\x20initialized\x20-\x20number','keys','aggregate','aggregates\x20initialized\x20-\x20key\x20names','holiday|tick','holiday|winbuf|604800000','holiday|ma|604800000','config','fusionNodeI\x20correctly\x20saved','fusionNodeI','callback\x20function\x20should\x20be\x20set','processRecordCb','function','parent'];(function(_0x432349,_0xbacc4e){var _0x3e30de=function(_0x5bbf3e){while(--_0x5bbf3e){_0x432349['push'](_0x432349['shift']());}};var _0x2fd957=function(){var _0x4abb2d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4f4995,_0x4fc67d,_0x49005b,_0xd6ba94){_0xd6ba94=_0xd6ba94||{};var _0x4c743c=_0x4fc67d+'='+_0x49005b;var _0x24f1ab=0x0;for(var _0x24f1ab=0x0,_0x2a0b5e=_0x4f4995['length'];_0x24f1ab<_0x2a0b5e;_0x24f1ab++){var _0x7f1364=_0x4f4995[_0x24f1ab];_0x4c743c+=';\x20'+_0x7f1364;var _0x1c3b79=_0x4f4995[_0x7f1364];_0x4f4995['push'](_0x1c3b79);_0x2a0b5e=_0x4f4995['length'];if(_0x1c3b79!==!![]){_0x4c743c+='='+_0x1c3b79;}}_0xd6ba94['cookie']=_0x4c743c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4e54ec,_0x1e76da){_0x4e54ec=_0x4e54ec||function(_0x5859bc){return _0x5859bc;};var _0x41c4b4=_0x4e54ec(new RegExp('(?:^|;\x20)'+_0x1e76da['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x25c3a9=function(_0x37b644,_0x28d9c7){_0x37b644(++_0x28d9c7);};_0x25c3a9(_0x3e30de,_0xbacc4e);return _0x41c4b4?decodeURIComponent(_0x41c4b4[0x1]):undefined;}};var _0x565efc=function(){var _0x145973=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x145973['test'](_0x4abb2d['removeCookie']['toString']());};_0x4abb2d['updateCookie']=_0x565efc;var _0x3521fe='';var _0x261624=_0x4abb2d['updateCookie']();if(!_0x261624){_0x4abb2d['setCookie'](['*'],'counter',0x1);}else if(_0x261624){_0x3521fe=_0x4abb2d['getCookie'](null,'counter');}else{_0x4abb2d['removeCookie']();}};_0x2fd957();}(_0x1b1d,0x16d));var _0x3068=function(_0x3db415,_0x3a25c7){_0x3db415=_0x3db415-0x0;var _0x317896=_0x1b1d[_0x3db415];return _0x317896;};var _0x44e9a0=function(){var _0x456040=!![];return function(_0x189353,_0xc63674){var _0x43586c=_0x456040?function(){if(_0xc63674){var _0x3a7518=_0xc63674['apply'](_0x189353,arguments);_0xc63674=null;return _0x3a7518;}}:function(){};_0x456040=![];return _0x43586c;};}();var _0x2cc59c=_0x44e9a0(this,function(){var _0xa966ad=function(){return'\x64\x65\x76';},_0x5cb352=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2f647a=function(){var _0x5da7da=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5da7da['\x74\x65\x73\x74'](_0xa966ad['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x127019=function(){var _0x524c3c=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x524c3c['\x74\x65\x73\x74'](_0x5cb352['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x55991a=function(_0xd7894c){var _0x3dfd2c=~-0x1>>0x1+0xff%0x0;if(_0xd7894c['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3dfd2c)){_0x303c7f(_0xd7894c);}};var _0x303c7f=function(_0x15131f){var _0x3a4723=~-0x4>>0x1+0xff%0x0;if(_0x15131f['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3a4723){_0x55991a(_0x15131f);}};if(!_0x2f647a()){if(!_0x127019()){_0x55991a('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x55991a('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x55991a('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2cc59c();const streamingNode=require(_0x3068('0x0'));const streamingEnergyNode=require(_0x3068('0x1'));const streamingWeatherNode=require(_0x3068('0x2'));const streamingStaticNode=require(_0x3068('0x3'));const fileManager=require(_0x3068('0x4'));const qm=require(_0x3068('0x5'));const fs=require('fs');var assert=require(_0x3068('0x6'));let connectionConfig={'zookeeper':_0x3068('0x7')};let aggrConfigs={'energy':[{'field':'pc','tick':[{'type':_0x3068('0x8'),'winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x3068('0x8'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':_0x3068('0x9')},{'type':'ma'}]},{'type':_0x3068('0x8'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':_0x3068('0x9')},{'type':'ma'},{'type':_0x3068('0xa')},{'type':_0x3068('0xb')}]},{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':_0x3068('0x9')},{'type':'ma'},{'type':'min'},{'type':_0x3068('0xb')}]},{'type':_0x3068('0x8'),'winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':_0x3068('0xc'),'tick':[{'type':_0x3068('0x8'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]};let fusionConfig={'connection':{'type':_0x3068('0xd')},'fusionModel':'test','fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':_0x3068('0xe'),'nodeid':'N1','aggrConfigId':_0x3068('0xe'),'fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':_0x3068('0xf'),'name':'pc'},{'type':_0x3068('0xf'),'name':_0x3068('0x10')},{'type':_0x3068('0xf'),'name':_0x3068('0x11')},{'type':_0x3068('0xf'),'name':_0x3068('0x12')},{'type':_0x3068('0xf'),'name':_0x3068('0x13')},{'type':'value','name':_0x3068('0x14')},{'type':_0x3068('0xf'),'name':_0x3068('0x15')},{'type':_0x3068('0xf'),'name':'pc|min|604800000'},{'type':'value','name':_0x3068('0x16')},{'type':_0x3068('0xf'),'name':_0x3068('0x17')},{'type':_0x3068('0xf'),'name':_0x3068('0x18')},{'type':_0x3068('0xf'),'name':'pc|variance|86400000'},{'type':_0x3068('0xf'),'name':_0x3068('0x19')}]},{'time':-0x18,'attributes':[{'type':'value','name':'pc'}]},{'time':-0x30,'attributes':[{'type':_0x3068('0xf'),'name':'pc'}]},{'time':-0xa8,'attributes':[{'type':_0x3068('0xf'),'name':'pc'}]}]},{'type':_0x3068('0x1a'),'nodeid':_0x3068('0x1a'),'aggrConfigId':_0x3068('0x1a'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':_0x3068('0xf'),'name':'timeOfDay'},{'type':_0x3068('0xf'),'name':'weekEnd'},{'type':_0x3068('0xf'),'name':_0x3068('0xc')},{'type':_0x3068('0xf'),'name':_0x3068('0x1b')},{'type':_0x3068('0xf'),'name':_0x3068('0x1c')},{'type':'value','name':'dayOfWeek'},{'type':'value','name':_0x3068('0x1d')},{'type':_0x3068('0xf'),'name':_0x3068('0x1e')}]}]},{'type':_0x3068('0x1f'),'nodeid':_0x3068('0x1f'),'aggrConfigId':_0x3068('0x1f'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':_0x3068('0x20')},{'type':_0x3068('0xf'),'name':_0x3068('0x21')},{'type':'value','name':'pressure24'},{'type':'value','name':_0x3068('0x22')},{'type':_0x3068('0xf'),'name':_0x3068('0x23')},{'type':'value','name':'cloudCover24'}]}]}]};function processRecordDummyCb(_0x4d8faf,_0x540020){return!![];}describe('streamingStaticNode',function(){let _0x4f797d;let _0x1aa71f;before(function(){fileManager[_0x3068('0x24')](_0x3068('0x25'));fileManager[_0x3068('0x26')](_0x3068('0x25'));_0x4f797d=new qm[(_0x3068('0x27'))]({'dbPath':'./db2/','mode':'createClean'});ssn=new streamingStaticNode(_0x4f797d,connectionConfig,fusionConfig[_0x3068('0x28')][0x1],aggrConfigs,processRecordDummyCb,0x63,null);});after(function(){_0x4f797d['close']();});describe(_0x3068('0x29'),function(){it(_0x3068('0x2a'),function(){assert[_0x3068('0x2b')](_0x4f797d,ssn[_0x3068('0x2c')]);});it(_0x3068('0x2d'),function(){assert['equal'](ssn[_0x3068('0x2e')][_0x3068('0x2f')],_0x3068('0x1a'));});it(_0x3068('0x30'),function(){assert[_0x3068('0x31')](ssn[_0x3068('0x2e')][_0x3068('0x32')],[{'id':0x0,'name':_0x3068('0x33'),'type':_0x3068('0x34'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':_0x3068('0x1b'),'type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':_0x3068('0x1c'),'type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':_0x3068('0x36'),'type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]},{'id':0x4,'name':_0x3068('0x37'),'type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]},{'id':0x5,'name':_0x3068('0x1d'),'type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]},{'id':0x6,'name':'holiday','type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]},{'id':0x7,'name':_0x3068('0x1e'),'type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]},{'id':0x8,'name':_0x3068('0x38'),'type':_0x3068('0x35'),'nullable':![],'internal':![],'primary':![]}]);});it(_0x3068('0x39'),function(){assert[_0x3068('0x2b')](Object[_0x3068('0x3a')](ssn[_0x3068('0x3b')])['length'],0x3);});it(_0x3068('0x3c'),function(){assert[_0x3068('0x31')](Object['keys'](ssn[_0x3068('0x3b')]),[_0x3068('0x3d'),_0x3068('0x3e'),_0x3068('0x3f')]);});it('config\x20saved',function(){assert['deepEqual'](ssn[_0x3068('0x40')],fusionConfig['nodes'][0x1]);});it(_0x3068('0x41'),function(){assert[_0x3068('0x2b')](ssn[_0x3068('0x42')],0x63);});it(_0x3068('0x43'),function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x44')],_0x3068('0x45'));});it('parent\x20saved',function(){assert[_0x3068('0x2b')](ssn[_0x3068('0x46')],null);});it(_0x3068('0x47'),function(){assert[_0x3068('0x31')](ssn[_0x3068('0x48')],[]);});it(_0x3068('0x49'),function(){assert[_0x3068('0x2b')](ssn[_0x3068('0x4a')],0x0);});it(_0x3068('0x4b'),function(){assert[_0x3068('0x2b')](ssn['master'],![]);});it(_0x3068('0x4c'),function(){assert[_0x3068('0x2b')](ssn[_0x3068('0x4d')](),![]);});it(_0x3068('0x4e'),function(){assert['equal'](typeof ssn[_0x3068('0x4f')],_0x3068('0x45'));});it(_0x3068('0x50'),function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x51')],_0x3068('0x45'));});it(_0x3068('0x52'),function(){assert[_0x3068('0x2b')](typeof ssn['createAggregates'],_0x3068('0x45'));});it('offsetExists\x20function\x20exists',function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x53')],_0x3068('0x45'));});it(_0x3068('0x54'),function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x55')],_0x3068('0x45'));});it('checkDataAvailability\x20function\x20exists',function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x56')],_0x3068('0x45'));});it(_0x3068('0x57'),function(){assert[_0x3068('0x2b')](typeof ssn['setSlaveOffset'],_0x3068('0x45'));});it(_0x3068('0x58'),function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x59')],_0x3068('0x45'));});it('setMasterOffset\x20function\x20exists',function(){assert[_0x3068('0x2b')](typeof ssn['getOffsetTimestamp'],_0x3068('0x45'));});it(_0x3068('0x5a'),function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x5b')],_0x3068('0x45'));});it(_0x3068('0x5c'),function(){assert[_0x3068('0x2b')](typeof ssn[_0x3068('0x5d')],_0x3068('0x45'));});it(_0x3068('0x5e'),function(){assert[_0x3068('0x2b')](ssn[_0x3068('0x4d')](),![]);});it(_0x3068('0x5f'),function(){ssn['setMasterOffset']();assert[_0x3068('0x2b')](ssn[_0x3068('0x4a')],-0x1);});it(_0x3068('0x60'),function(){assert['equal'](ssn[_0x3068('0x61')](0x0),![]);});});describe(_0x3068('0x62'),function(){it(_0x3068('0x63'),function(){ssn[_0x3068('0x64')](JSON[_0x3068('0x65')](_0x3068('0x66')));assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][_0x3068('0x67')],0x1);assert['equal'](ssn[_0x3068('0x48')][0x0][_0x3068('0x68')],0x0);assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][0x0][_0x3068('0x1b')],0x0);assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][0x0][_0x3068('0x1c')],0x1);assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][0x0]['dayOfYear'],0x1);assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][0x0]['dayOfWeek'],0x2);assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][0x0][_0x3068('0x36')],0x1);assert[_0x3068('0x2b')](ssn['buffer'][0x0][_0x3068('0xc')],0x1);assert[_0x3068('0x2b')](ssn['buffer'][0x0][_0x3068('0x1e')],0x1);assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][0x0][_0x3068('0x38')],0x0);});it('stream\x20aggregates\x20calculated\x20correctly\x20for\x201\x20insertion',function(){assert[_0x3068('0x31')](ssn[_0x3068('0x48')][0x0],{'dayAfterHoliday':0x0,'dayBeforeHoliday':0x1,'dayOfMonth':0x1,'dayOfWeek':0x2,'dayOfYear':0x1,'holiday':0x1,'holiday|ma|604800000':0x1,'monthOfYear':0x1,'stampm':0x0,'timeOfDay':0x0,'weekEnd':0x0});});it(_0x3068('0x69'),function(){let _0x4ba6ef=JSON['parse'](_0x3068('0x66'));for(let _0x366de4=0x1;_0x366de4<=0x18;_0x366de4++){_0x4ba6ef['timestamp']=_0x366de4*0x3c*0x3c*0x3e8;_0x4ba6ef[_0x3068('0x68')]=_0x366de4%0x18;_0x4ba6ef['dayOfYear']=Math['floor'](_0x366de4/0x18)+0x1;_0x4ba6ef[_0x3068('0x37')]=Math[_0x3068('0x6a')](_0x366de4/0x18)+0x2;_0x4ba6ef[_0x3068('0x36')]=Math[_0x3068('0x6a')](_0x366de4/0x18)+0x1;_0x4ba6ef[_0x3068('0x1d')]=Math['floor'](_0x366de4/0x18)+0x1;_0x4ba6ef['holiday']=0x1-Math[_0x3068('0x6a')](_0x366de4/0x18);ssn['processRecord'](_0x4ba6ef);}assert[_0x3068('0x2b')](ssn[_0x3068('0x48')][_0x3068('0x67')],0x19);});it(_0x3068('0x6b'),function(){assert['deepEqual'](ssn[_0x3068('0x5b')](),{'holiday|ma|604800000':0.96,'stampm':0x5265c00});});it(_0x3068('0x6c'),function(){ssn['setSlaveOffset'](0x0);assert['deepEqual'](ssn[_0x3068('0x5d')](),[0x0,0x0,0x0,0x0,0x1,0x3,0x2,0x1]);});});});