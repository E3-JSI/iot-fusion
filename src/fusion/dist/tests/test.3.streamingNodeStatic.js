const a0_0x2ca5=['nodes','24\x20more\x20data\x20insertions\x20-\x20check\x20buffer','float','isMaster\x20function','holiday|tick','getOffsetTimestamp\x20function\x20exists','slave\x20offset\x20set\x20correctly:\x20no\x20data','fusionNodeI','datetime','floor','close','callback\x20function\x20should\x20be\x20set','buffer','windSpeed24','dayAfterHoliday','streamingStaticNode','../common/utils/fileManager.js','static','coorect\x20partial\x20feature\x20vector','fields','constructor','isMaster','config\x20saved','holiday','fusionNodeI\x20correctly\x20saved','processRecordCb','qminer','stream\x20aggregates\x20calculated\x20correctly\x20for\x201\x20insertion','apply','createClean','check\x20if\x20store\x20exists','windBearing24','master','timestamp','position','setSlaveOffset\x20function\x20exists','pc|variance|86400000','parent\x20saved','dayOfWeek','humidity24','dayBeforeHoliday','dayOfYear','data\x20insertion','energy','buffer\x20position\x20is\x200','createAggregates\x20function\x20exists','pc|min|604800000','deepEqual','getAggregates','config','{\x22timestamp\x22:0,\x20\x22timeOfDay\x22:\x200,\x20\x22dayAfterHoliday\x22:\x200,\x20\x22dayBeforeHoliday\x22:\x201,\x20\x22dayOfYear\x22:\x201,\x20\x22dayOfWeek\x22:\x202,\x20\x22dayOfMonth\x22:\x201,\x20\x22holiday\x22:\x201,\x20\x22monthOfYear\x22:\x201,\x20\x22weekEnd\x22:\x200\x20}','deleteObsoleteRows\x20function\x20exists','aggregates\x20initialized\x20-\x20key\x20names','getAggregates\x20function\x20exists','equal','monthOfYear','keys','min','variance','setSlaveOffset','base\x20saved','parse','rawstore','setMasterOffset\x20function\x20exists','none','weather','processRecord','test','offsetExists\x20function\x20exists','holiday|winbuf|604800000','max','timeOfDay','base','correct\x20aggregate\x20values','checkDataAvailability','pc|ma|3600000','parent','./db2/','pc|variance|21600000','getOffsetTimestamp','Time','return\x20/\x22\x20+\x20this\x20+\x20\x22/','pressure24','../nodes/streamingNode.js','getPartialFeatureVector','broadcastAggregates','../nodes/streamingStaticNode.js','length','pc|min|86400000','master\x20set\x20correctly','offsetExists','weekEnd','function','assert','pc|ma|604800000','master\x20flag\x20set\x20correctly','value','cloudCover24','deleteObsoleteRows','192.168.85.98:2181','dayOfMonth','aggregate','winbuf','pc|ma|21600000','connectToKafka','pc|max|86400000','connectToKafka\x20function\x20exists'];(function(_0x229f6b,_0x2ca55a){const _0x4e3067=function(_0x2ecbbe){while(--_0x2ecbbe){_0x229f6b['push'](_0x229f6b['shift']());}},_0x1f8ef5=function(){const _0x1bee36={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x400887,_0xabc985,_0x362231,_0x3d25c0){_0x3d25c0=_0x3d25c0||{};let _0x11f280=_0xabc985+'='+_0x362231,_0xd911ac=0x0;for(let _0x2a8c68=0x0,_0x5284ca=_0x400887['length'];_0x2a8c68<_0x5284ca;_0x2a8c68++){const _0x592e98=_0x400887[_0x2a8c68];_0x11f280+=';\x20'+_0x592e98;const _0x5a1e93=_0x400887[_0x592e98];_0x400887['push'](_0x5a1e93),_0x5284ca=_0x400887['length'],_0x5a1e93!==!![]&&(_0x11f280+='='+_0x5a1e93);}_0x3d25c0['cookie']=_0x11f280;},'removeCookie':function(){return'dev';},'getCookie':function(_0x215f59,_0x490739){_0x215f59=_0x215f59||function(_0x34f87f){return _0x34f87f;};const _0x4e80b0=_0x215f59(new RegExp('(?:^|;\x20)'+_0x490739['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0xb283af=function(_0x3c47e9,_0x3ca6bf){_0x3c47e9(++_0x3ca6bf);};return _0xb283af(_0x4e3067,_0x2ca55a),_0x4e80b0?decodeURIComponent(_0x4e80b0[0x1]):undefined;}},_0x1237b0=function(){const _0x3bd64b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3bd64b['test'](_0x1bee36['removeCookie']['toString']());};_0x1bee36['updateCookie']=_0x1237b0;let _0x30f9a4='';const _0x2ef48d=_0x1bee36['updateCookie']();if(!_0x2ef48d)_0x1bee36['setCookie'](['*'],'counter',0x1);else _0x2ef48d?_0x30f9a4=_0x1bee36['getCookie'](null,'counter'):_0x1bee36['removeCookie']();};_0x1f8ef5();}(a0_0x2ca5,0xf5));const a0_0x4e30=function(_0x229f6b,_0x2ca55a){_0x229f6b=_0x229f6b-0x0;let _0x4e3067=a0_0x2ca5[_0x229f6b];return _0x4e3067;};const a0_0x362231=function(){let _0x5d2b34=!![];return function(_0x1bf197,_0x6c7e5b){const _0x540f5f=_0x5d2b34?function(){if(_0x6c7e5b){const _0x43f047=_0x6c7e5b[a0_0x4e30('0x68')](_0x1bf197,arguments);return _0x6c7e5b=null,_0x43f047;}}:function(){};return _0x5d2b34=![],_0x540f5f;};}(),a0_0xabc985=a0_0x362231(this,function(){const _0x36395b=function(){const _0x50778c=_0x36395b[a0_0x4e30('0x60')](a0_0x4e30('0x32'))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x50778c['test'](a0_0xabc985);};return _0x36395b();});a0_0xabc985();const streamingNode=require(a0_0x4e30('0x34')),streamingEnergyNode=require('../nodes/streamingEnergyNode.js'),streamingWeatherNode=require('../nodes/streamingWeatherNode.js'),streamingStaticNode=require(a0_0x4e30('0x37')),fileManager=require(a0_0x4e30('0x5c')),qm=require(a0_0x4e30('0x66')),fs=require('fs');var assert=require(a0_0x4e30('0x3e'));let connectionConfig={'zookeeper':a0_0x4e30('0x44')},aggrConfigs={'energy':[{'field':'pc','tick':[{'type':a0_0x4e30('0x47'),'winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x4e30('0x47'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x4e30('0x1b')},{'type':'ma'}]},{'type':a0_0x4e30('0x47'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'variance'},{'type':'ma'},{'type':a0_0x4e30('0x1a')},{'type':'max'}]},{'type':a0_0x4e30('0x47'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x4e30('0x1b')},{'type':'ma'},{'type':a0_0x4e30('0x1a')},{'type':a0_0x4e30('0x27')}]},{'type':a0_0x4e30('0x47'),'winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':a0_0x4e30('0x63'),'tick':[{'type':a0_0x4e30('0x47'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'connection':{'type':a0_0x4e30('0x21')},'fusionModel':a0_0x4e30('0x24'),'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x4e30('0xc'),'nodeid':'N1','aggrConfigId':'energy','fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x4e30('0x41'),'name':'pc'},{'type':'value','name':a0_0x4e30('0x2c')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x48')},{'type':a0_0x4e30('0x41'),'name':'pc|ma|86400000'},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x3f')},{'type':a0_0x4e30('0x41'),'name':'pc|ma|2592000000'},{'type':'value','name':a0_0x4e30('0x39')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0xf')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x4a')},{'type':a0_0x4e30('0x41'),'name':'pc|max|604800000'},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x2f')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x5')},{'type':'value','name':'pc|variance|604800000'}]},{'time':-0x18,'attributes':[{'type':a0_0x4e30('0x41'),'name':'pc'}]},{'time':-0x30,'attributes':[{'type':'value','name':'pc'}]},{'time':-0xa8,'attributes':[{'type':a0_0x4e30('0x41'),'name':'pc'}]}]},{'type':a0_0x4e30('0x5d'),'nodeid':a0_0x4e30('0x5d'),'aggrConfigId':a0_0x4e30('0x5d'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x28')},{'type':a0_0x4e30('0x41'),'name':'weekEnd'},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x63')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x5a')},{'type':'value','name':a0_0x4e30('0x9')},{'type':'value','name':a0_0x4e30('0x7')},{'type':'value','name':a0_0x4e30('0xa')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x18')}]}]},{'type':'weather','nodeid':'weather','aggrConfigId':a0_0x4e30('0x22'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':'temperature24'},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x8')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x33')},{'type':'value','name':a0_0x4e30('0x59')},{'type':'value','name':a0_0x4e30('0x0')},{'type':a0_0x4e30('0x41'),'name':a0_0x4e30('0x42')}]}]}]};function processRecordDummyCb(_0x36c39f,_0x3cc131){return!![];}describe(a0_0x4e30('0x5b'),function(){let _0x2bd034,_0x5027ff;before(function(){fileManager['removeFolder']('./db2/'),fileManager['createFolder'](a0_0x4e30('0x2e')),_0x2bd034=new qm['Base']({'dbPath':'./db2/','mode':a0_0x4e30('0x69')}),ssn=new streamingStaticNode(_0x2bd034,connectionConfig,fusionConfig[a0_0x4e30('0x4c')][0x1],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x2bd034[a0_0x4e30('0x56')]();}),describe('initialization',function(){it(a0_0x4e30('0x1d'),function(){assert['equal'](_0x2bd034,ssn[a0_0x4e30('0x29')]);}),it(a0_0x4e30('0x6a'),function(){assert['equal'](ssn[a0_0x4e30('0x1f')]['name'],a0_0x4e30('0x5d'));}),it('check\x20store\x20structure',function(){assert[a0_0x4e30('0x10')](ssn[a0_0x4e30('0x1f')][a0_0x4e30('0x5f')],[{'id':0x0,'name':a0_0x4e30('0x31'),'type':a0_0x4e30('0x54'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':'dayAfterHoliday','type':a0_0x4e30('0x4e'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':'dayBeforeHoliday','type':a0_0x4e30('0x4e'),'nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':a0_0x4e30('0x45'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x4,'name':'dayOfWeek','type':a0_0x4e30('0x4e'),'nullable':![],'internal':![],'primary':![]},{'id':0x5,'name':'dayOfYear','type':a0_0x4e30('0x4e'),'nullable':![],'internal':![],'primary':![]},{'id':0x6,'name':a0_0x4e30('0x63'),'type':a0_0x4e30('0x4e'),'nullable':![],'internal':![],'primary':![]},{'id':0x7,'name':'monthOfYear','type':a0_0x4e30('0x4e'),'nullable':![],'internal':![],'primary':![]},{'id':0x8,'name':a0_0x4e30('0x3c'),'type':a0_0x4e30('0x4e'),'nullable':![],'internal':![],'primary':![]}]);}),it('aggregates\x20initialized\x20-\x20number',function(){assert[a0_0x4e30('0x17')](Object[a0_0x4e30('0x19')](ssn[a0_0x4e30('0x46')])[a0_0x4e30('0x38')],0x3);}),it(a0_0x4e30('0x15'),function(){assert[a0_0x4e30('0x10')](Object[a0_0x4e30('0x19')](ssn['aggregate']),[a0_0x4e30('0x50'),a0_0x4e30('0x26'),'holiday|ma|604800000']);}),it(a0_0x4e30('0x62'),function(){assert['deepEqual'](ssn[a0_0x4e30('0x12')],fusionConfig[a0_0x4e30('0x4c')][0x1]);}),it(a0_0x4e30('0x64'),function(){assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x53')],0x63);}),it(a0_0x4e30('0x57'),function(){assert['equal'](typeof ssn[a0_0x4e30('0x65')],a0_0x4e30('0x3d'));}),it(a0_0x4e30('0x6'),function(){assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x2d')],null);}),it('buffer\x20empty',function(){assert['deepEqual'](ssn[a0_0x4e30('0x58')],[]);}),it(a0_0x4e30('0xd'),function(){assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x3')],0x0);}),it(a0_0x4e30('0x40'),function(){assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x1')],![]);}),it(a0_0x4e30('0x4f'),function(){assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x61')](),![]);}),it(a0_0x4e30('0x4b'),function(){assert[a0_0x4e30('0x17')](typeof ssn[a0_0x4e30('0x49')],a0_0x4e30('0x3d'));}),it('broadcastAggregates\x20function\x20exists',function(){assert[a0_0x4e30('0x17')](typeof ssn[a0_0x4e30('0x36')],a0_0x4e30('0x3d'));}),it(a0_0x4e30('0xe'),function(){assert[a0_0x4e30('0x17')](typeof ssn['createAggregates'],a0_0x4e30('0x3d'));}),it(a0_0x4e30('0x25'),function(){assert[a0_0x4e30('0x17')](typeof ssn[a0_0x4e30('0x3b')],a0_0x4e30('0x3d'));}),it(a0_0x4e30('0x14'),function(){assert[a0_0x4e30('0x17')](typeof ssn[a0_0x4e30('0x43')],a0_0x4e30('0x3d'));}),it('checkDataAvailability\x20function\x20exists',function(){assert['equal'](typeof ssn[a0_0x4e30('0x2b')],a0_0x4e30('0x3d'));}),it(a0_0x4e30('0x4'),function(){assert[a0_0x4e30('0x17')](typeof ssn['setSlaveOffset'],'function');}),it(a0_0x4e30('0x51'),function(){assert['equal'](typeof ssn[a0_0x4e30('0x30')],a0_0x4e30('0x3d'));}),it(a0_0x4e30('0x20'),function(){assert[a0_0x4e30('0x17')](typeof ssn['getOffsetTimestamp'],'function');}),it(a0_0x4e30('0x16'),function(){assert[a0_0x4e30('0x17')](typeof ssn[a0_0x4e30('0x11')],a0_0x4e30('0x3d'));}),it('getPartialFeatureVector\x20function\x20exists',function(){assert[a0_0x4e30('0x17')](typeof ssn[a0_0x4e30('0x35')],a0_0x4e30('0x3d'));}),it(a0_0x4e30('0x3a'),function(){assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x61')](),![]);}),it('master\x20offset\x20set\x20correctly',function(){ssn['setMasterOffset'](),assert['equal'](ssn[a0_0x4e30('0x3')],-0x1);}),it(a0_0x4e30('0x52'),function(){assert['equal'](ssn[a0_0x4e30('0x1c')](0x0),![]);});}),describe(a0_0x4e30('0xb'),function(){it('data\x20record\x20record\x20saved\x20correctly',function(){ssn[a0_0x4e30('0x23')](JSON[a0_0x4e30('0x1e')](a0_0x4e30('0x13'))),assert['equal'](ssn[a0_0x4e30('0x58')]['length'],0x1),assert['equal'](ssn[a0_0x4e30('0x58')][0x0]['timeOfDay'],0x0),assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x58')][0x0][a0_0x4e30('0x5a')],0x0),assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x58')][0x0][a0_0x4e30('0x9')],0x1),assert[a0_0x4e30('0x17')](ssn['buffer'][0x0][a0_0x4e30('0xa')],0x1),assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x58')][0x0][a0_0x4e30('0x7')],0x2),assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x58')][0x0][a0_0x4e30('0x45')],0x1),assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x58')][0x0]['holiday'],0x1),assert[a0_0x4e30('0x17')](ssn[a0_0x4e30('0x58')][0x0][a0_0x4e30('0x18')],0x1),assert['equal'](ssn['buffer'][0x0]['weekEnd'],0x0);}),it(a0_0x4e30('0x67'),function(){assert[a0_0x4e30('0x10')](ssn[a0_0x4e30('0x58')][0x0],{'dayAfterHoliday':0x0,'dayBeforeHoliday':0x1,'dayOfMonth':0x1,'dayOfWeek':0x2,'dayOfYear':0x1,'holiday':0x1,'holiday|ma|604800000':0x1,'monthOfYear':0x1,'stampm':0x0,'timeOfDay':0x0,'weekEnd':0x0});}),it(a0_0x4e30('0x4d'),function(){let _0x21f642=JSON[a0_0x4e30('0x1e')]('{\x22timestamp\x22:0,\x20\x22timeOfDay\x22:\x200,\x20\x22dayAfterHoliday\x22:\x200,\x20\x22dayBeforeHoliday\x22:\x201,\x20\x22dayOfYear\x22:\x201,\x20\x22dayOfWeek\x22:\x202,\x20\x22dayOfMonth\x22:\x201,\x20\x22holiday\x22:\x201,\x20\x22monthOfYear\x22:\x201,\x20\x22weekEnd\x22:\x200\x20}');for(let _0x39c7bc=0x1;_0x39c7bc<=0x18;_0x39c7bc++){_0x21f642[a0_0x4e30('0x2')]=_0x39c7bc*0x3c*0x3c*0x3e8,_0x21f642[a0_0x4e30('0x28')]=_0x39c7bc%0x18,_0x21f642[a0_0x4e30('0xa')]=Math['floor'](_0x39c7bc/0x18)+0x1,_0x21f642[a0_0x4e30('0x7')]=Math[a0_0x4e30('0x55')](_0x39c7bc/0x18)+0x2,_0x21f642[a0_0x4e30('0x45')]=Math[a0_0x4e30('0x55')](_0x39c7bc/0x18)+0x1,_0x21f642['dayOfYear']=Math[a0_0x4e30('0x55')](_0x39c7bc/0x18)+0x1,_0x21f642[a0_0x4e30('0x63')]=0x1-Math[a0_0x4e30('0x55')](_0x39c7bc/0x18),ssn['processRecord'](_0x21f642);}assert[a0_0x4e30('0x17')](ssn['buffer']['length'],0x19);}),it(a0_0x4e30('0x2a'),function(){assert[a0_0x4e30('0x10')](ssn[a0_0x4e30('0x11')](),{'holiday|ma|604800000':0.96,'stampm':0x5265c00});}),it(a0_0x4e30('0x5e'),function(){ssn[a0_0x4e30('0x1c')](0x0),assert[a0_0x4e30('0x10')](ssn[a0_0x4e30('0x35')](),[0x0,0x0,0x0,0x0,0x1,0x3,0x2,0x1]);});});});