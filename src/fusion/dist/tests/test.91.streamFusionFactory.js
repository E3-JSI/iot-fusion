const a0_0x5588=['assert','floor','removeFolder','streamingTimeValueNode','check\x20types\x20of\x20nodes','topic','../streamFusion.js','apply','nodes','deepEqual','equal','setMasterOffset','name','dayOfYear','check\x20fusion\x20model\x20name','return\x20/\x22\x20+\x20this\x20+\x20\x22/','min','timevalue','variance','value|ma|21600000','../common/utils/fileManager.js','createFolder','max','value|variance|21600000','features_N1_24h','monthOfYear','value|min|21600000','streamFusion','./db-1/','check\x20number\x20of\x20fusion\x20objects','fusion_id','timeOfDay','value|variance|86400000','initialization','check\x20number\x20of\x20stores','processRecord','qminer','check\x20features\x20topic\x20name','static','object','config','dayOfMonth','value|min|86400000','dayOfWeek','dayBeforeHoliday','fusion','base','lastTimestamp','192.168.85.98:2181','value','winbuf','feature\x20vector\x20ok','constructor','getStats','holiday','buildFeatureVector','N1_24h'];(function(_0x5d93ec,_0x558883){const _0x3ef2b6=function(_0x140781){while(--_0x140781){_0x5d93ec['push'](_0x5d93ec['shift']());}},_0x1b07f2=function(){const _0x2b5795={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e6076,_0x50f588,_0x3132f8,_0x40fb1a){_0x40fb1a=_0x40fb1a||{};let _0x322a27=_0x50f588+'='+_0x3132f8,_0x5b0c73=0x0;for(let _0x294993=0x0,_0x58c975=_0x4e6076['length'];_0x294993<_0x58c975;_0x294993++){const _0x50cb55=_0x4e6076[_0x294993];_0x322a27+=';\x20'+_0x50cb55;const _0x4fc7ca=_0x4e6076[_0x50cb55];_0x4e6076['push'](_0x4fc7ca),_0x58c975=_0x4e6076['length'],_0x4fc7ca!==!![]&&(_0x322a27+='='+_0x4fc7ca);}_0x40fb1a['cookie']=_0x322a27;},'removeCookie':function(){return'dev';},'getCookie':function(_0x197793,_0x5565c){_0x197793=_0x197793||function(_0x155532){return _0x155532;};const _0xc6499f=_0x197793(new RegExp('(?:^|;\x20)'+_0x5565c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2b9aee=function(_0x56c87b,_0x4306aa){_0x56c87b(++_0x4306aa);};return _0x2b9aee(_0x3ef2b6,_0x558883),_0xc6499f?decodeURIComponent(_0xc6499f[0x1]):undefined;}},_0x1c6161=function(){const _0x4c30f9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4c30f9['test'](_0x2b5795['removeCookie']['toString']());};_0x2b5795['updateCookie']=_0x1c6161;let _0x430212='';const _0x460b09=_0x2b5795['updateCookie']();if(!_0x460b09)_0x2b5795['setCookie'](['*'],'counter',0x1);else _0x460b09?_0x430212=_0x2b5795['getCookie'](null,'counter'):_0x2b5795['removeCookie']();};_0x1b07f2();}(a0_0x5588,0x1ed));const a0_0x3ef2=function(_0x5d93ec,_0x558883){_0x5d93ec=_0x5d93ec-0x0;let _0x3ef2b6=a0_0x5588[_0x5d93ec];return _0x3ef2b6;};const a0_0x3132f8=function(){let _0x1709b1=!![];return function(_0x3d1bd6,_0x2b9cc7){const _0x442bb4=_0x1709b1?function(){if(_0x2b9cc7){const _0x10568e=_0x2b9cc7[a0_0x3ef2('0x1b')](_0x3d1bd6,arguments);return _0x2b9cc7=null,_0x10568e;}}:function(){};return _0x1709b1=![],_0x442bb4;};}(),a0_0x50f588=a0_0x3132f8(this,function(){const _0x19b9a5=function(){const _0x117053=_0x19b9a5['constructor'](a0_0x3ef2('0x23'))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x117053['test'](a0_0x50f588);};return _0x19b9a5();});a0_0x50f588();const fileManager=require(a0_0x3ef2('0x28')),StreamFusion=require(a0_0x3ef2('0x1a')),qm=require(a0_0x3ef2('0x38')),fs=require('fs');var assert=require(a0_0x3ef2('0x14'));let connectionConfig={'zookeeper':a0_0x3ef2('0xb')},smConf={'aggr':{'timevalue':[{'field':'value','tick':[{'type':a0_0x3ef2('0xd'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'max'},{'type':a0_0x3ef2('0x24')},{'type':a0_0x3ef2('0x26')}]},{'type':a0_0x3ef2('0xd'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x3ef2('0x2a')},{'type':'min'},{'type':a0_0x3ef2('0x26')}]},{'type':a0_0x3ef2('0xd'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'max'},{'type':a0_0x3ef2('0x24')},{'type':'variance'}]}]}],'static':[{'field':'holiday','tick':[{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},'fusion':{'fusionModel':a0_0x3ef2('0x13'),'connection':{'type':'none'},'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x3ef2('0x25'),'nodeid':'N1','aggrConfigId':a0_0x3ef2('0x25'),'master':!![],'fusionTick':0x3c*0x3c*0x3e8,'attributes':[{'time':0x0,'attributes':[{'type':a0_0x3ef2('0xc'),'name':a0_0x3ef2('0xc')},{'type':a0_0x3ef2('0xc'),'name':a0_0x3ef2('0x27')},{'type':'value','name':a0_0x3ef2('0x2e')},{'type':a0_0x3ef2('0xc'),'name':'value|max|21600000'},{'type':a0_0x3ef2('0xc'),'name':a0_0x3ef2('0x2b')},{'type':a0_0x3ef2('0xc'),'name':'value|ma|86400000'},{'type':a0_0x3ef2('0xc'),'name':a0_0x3ef2('0x5')},{'type':'value','name':'value|max|86400000'},{'type':a0_0x3ef2('0xc'),'name':a0_0x3ef2('0x34')}]},{'time':-0x18,'attributes':[{'type':a0_0x3ef2('0xc'),'name':'value'}]}]},{'type':a0_0x3ef2('0x1'),'nodeid':'S1','aggrConfigId':a0_0x3ef2('0x1'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':a0_0x3ef2('0xc'),'name':'timeOfDay'},{'type':'value','name':'weekEnd'},{'type':'value','name':a0_0x3ef2('0x11')},{'type':a0_0x3ef2('0xc'),'name':'dayAfterHoliday'},{'type':'value','name':a0_0x3ef2('0x7')},{'type':a0_0x3ef2('0xc'),'name':a0_0x3ef2('0x6')},{'type':a0_0x3ef2('0xc'),'name':'dayOfYear'},{'type':'value','name':a0_0x3ef2('0x2d')}]}]}]}};describe(a0_0x3ef2('0x2f'),function(){let _0x475c43;before(function(){fileManager[a0_0x3ef2('0x16')](a0_0x3ef2('0x30')),fileManager[a0_0x3ef2('0x29')](a0_0x3ef2('0x30')),_0x475c43=new StreamFusion(connectionConfig,smConf[a0_0x3ef2('0x8')],smConf['aggr']);}),after(function(){}),describe(a0_0x3ef2('0x35'),function(){it('base\x20saved',function(){assert[a0_0x3ef2('0x1e')](typeof _0x475c43[a0_0x3ef2('0x9')],a0_0x3ef2('0x2'));}),it(a0_0x3ef2('0x31'),function(){assert['equal'](_0x475c43[a0_0x3ef2('0x1c')]['length'],0x2);}),it(a0_0x3ef2('0x36'),function(){assert[a0_0x3ef2('0x1e')](_0x475c43[a0_0x3ef2('0x9')][a0_0x3ef2('0x10')]()['stores']['length'],0x2);}),it(a0_0x3ef2('0x22'),function(){assert['equal'](_0x475c43[a0_0x3ef2('0x32')],a0_0x3ef2('0x13'));}),it(a0_0x3ef2('0x0'),function(){assert['equal'](_0x475c43[a0_0x3ef2('0x19')],a0_0x3ef2('0x2c'));}),it(a0_0x3ef2('0x18'),function(){assert[a0_0x3ef2('0x1e')](_0x475c43[a0_0x3ef2('0x1c')][0x0][a0_0x3ef2('0xf')]['name'],a0_0x3ef2('0x17')),assert[a0_0x3ef2('0x1e')](_0x475c43[a0_0x3ef2('0x1c')][0x1][a0_0x3ef2('0xf')][a0_0x3ef2('0x20')],'streamingStaticNode');}),it('global\x20config\x20correct',function(){assert[a0_0x3ef2('0x1d')](_0x475c43[a0_0x3ef2('0x3')],smConf['fusion']);}),it(a0_0x3ef2('0xe'),function(){let _0x2175d3=JSON['parse']('{\x22timestamp\x22:0,\x20\x22timeOfDay\x22:\x200,\x20\x22dayAfterHoliday\x22:\x200,\x20\x22dayBeforeHoliday\x22:\x200,\x20\x22dayOfYear\x22:\x201,\x20\x22dayOfWeek\x22:\x202,\x20\x22dayOfMonth\x22:\x201,\x20\x22holiday\x22:\x201,\x20\x22monthOfYear\x22:\x201,\x20\x22weekEnd\x22:\x200\x20}');_0x475c43[a0_0x3ef2('0x1c')][0x1]['processRecord'](_0x2175d3);for(let _0x83af58=0x1;_0x83af58<=0x49;_0x83af58++){_0x2175d3['timestamp']=_0x83af58*0x3c*0x3c*0x3e8,_0x2175d3[a0_0x3ef2('0x33')]=_0x83af58%0x18,_0x2175d3[a0_0x3ef2('0x21')]=Math[a0_0x3ef2('0x15')](_0x83af58/0x18)+0x1,_0x2175d3[a0_0x3ef2('0x6')]=Math['floor'](_0x83af58/0x18)+0x2,_0x2175d3[a0_0x3ef2('0x4')]=Math[a0_0x3ef2('0x15')](_0x83af58/0x18)+0x1,_0x2175d3['dayOfYear']=Math[a0_0x3ef2('0x15')](_0x83af58/0x18)+0x1,_0x2175d3[a0_0x3ef2('0x11')]=0x0,_0x475c43[a0_0x3ef2('0x1c')][0x1][a0_0x3ef2('0x37')](_0x2175d3);}for(let _0x46735c=0x1;_0x46735c<=0x30;_0x46735c++){let _0xa9f60=_0x46735c*0x3c*0x3c;_0x475c43['nodes'][0x0]['processRecord']({'time':_0xa9f60,'value':_0x46735c});}_0x475c43[a0_0x3ef2('0x1c')][0x0][a0_0x3ef2('0x1f')](),_0x475c43[a0_0x3ef2('0x1c')][0x1]['setSlaveOffset'](0x0),assert[a0_0x3ef2('0x1e')](_0x475c43[a0_0x3ef2('0x1c')][0x0]['getOffsetTimestamp'](),0x30*0x3c*0x3c*0x3e8),assert[a0_0x3ef2('0x1d')](_0x475c43[a0_0x3ef2('0x12')](),[0x30,0x2d,0x2a,0x30,4.666666666666667,0x24,0x18,0x30,54.166666666666664,0x18,0x1,0x0,0x0,0x0,0x0,0x5,0x4,0x1]),assert['equal'](_0x475c43[a0_0x3ef2('0xa')],0x30*0x3c*0x3c*0x3e8);});});});