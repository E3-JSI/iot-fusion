const a0_0x4962=['setSlaveOffset\x20function\x20exists','{\x22time\x22:\x201451613600}','value','connectToKafka','variance','value|ma|43200000','getAggregates','callback\x20function\x20should\x20be\x20set','fields','value|winbuf|86400000','slave\x20offset\x20set\x20correctly:\x20no\x20data','value|max|86400000','createAggregates\x20function\x20exists','assert','../common/utils/fileManager.js','value|winbuf|21600000','max','processRecordCb','offsetExists\x20function\x20exists','../nodes/streamingTimeValueNode.js','parse','check\x20if\x20store\x20exists','../nodes/streamingStaticNode.js','buffer','deepEqual','fusionNodeI','value|winbuf|604800000','../nodes/streamingWeatherNode.js','value|ma|21600000','mqtt','removeFolder','test','aggregate','length','Empty\x20values\x20in\x20message\x20set\x20to\x200','master\x20offset\x20set\x20correctly','master\x20flag\x20set\x20correctly','value|variance|43200000','duplicate\x20insertions\x20test','value|tick','winbuf','float','qminer','setMasterOffset\x20function\x20exists','value|variance|86400000','keys','deleteObsoleteRows','return\x20/\x22\x20+\x20this\x20+\x20\x22/','setSlaveOffset','data\x20insertion','getOffsetTimestamp\x20function\x20exists','apply','function','value|min|86400000','isMaster','value|min|43200000','{\x22time\x22:\x201451606400,\x22value\x22:\x2010.0}','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','value|max|43200000','processRecord','timevalue','parent','aggregates\x20initialized\x20-\x20key\x20names','position',',\x22value\x22:\x20','nodes','Time','{\x22time\x22:\x201451610000,\x22value\x22:\x2020.0}','checkDataAvailability\x20function\x20exists','min','value|ma|604800000','aggregates\x20initialized\x20-\x20number','9\x20more\x20data\x20insertions','Base','deleteObsoleteRows\x20function\x20exists','broadcastAggregates\x20function\x20exists','broadcastAggregates','equal','stream\x20aggregates\x20calculated\x20correctly\x20for\x20#2\x20insertion','constructor','base','master','buffer\x20empty','config\x20saved','datetime','value|winbuf|43200000','../nodes/streamingNode.js','rawstore','createFolder','createClean','buffer\x20position\x20is\x200','offsetExists','fusionNodeI\x20correctly\x20saved','./db3/','../nodes/streamingEnergyNode.js','setMasterOffset','parent\x20saved','master\x20set\x20correctly','value|ma|86400000','getPartialFeatureVector'];(function(_0x5f597,_0x496229){const _0x2763a9=function(_0x12bd34){while(--_0x12bd34){_0x5f597['push'](_0x5f597['shift']());}},_0x5ae830=function(){const _0x412234={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x36352d,_0x329fee,_0x4f1a8f,_0x2c2c0a){_0x2c2c0a=_0x2c2c0a||{};let _0x256725=_0x329fee+'='+_0x4f1a8f,_0x28d058=0x0;for(let _0x254f37=0x0,_0x5ecee8=_0x36352d['length'];_0x254f37<_0x5ecee8;_0x254f37++){const _0x322d7e=_0x36352d[_0x254f37];_0x256725+=';\x20'+_0x322d7e;const _0xb8b34d=_0x36352d[_0x322d7e];_0x36352d['push'](_0xb8b34d),_0x5ecee8=_0x36352d['length'],_0xb8b34d!==!![]&&(_0x256725+='='+_0xb8b34d);}_0x2c2c0a['cookie']=_0x256725;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1056e7,_0xc119ad){_0x1056e7=_0x1056e7||function(_0x318a6d){return _0x318a6d;};const _0x2f7a5e=_0x1056e7(new RegExp('(?:^|;\x20)'+_0xc119ad['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x357daa=function(_0x18e311,_0x472986){_0x18e311(++_0x472986);};return _0x357daa(_0x2763a9,_0x496229),_0x2f7a5e?decodeURIComponent(_0x2f7a5e[0x1]):undefined;}},_0x32e746=function(){const _0x176fe1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x176fe1['test'](_0x412234['removeCookie']['toString']());};_0x412234['updateCookie']=_0x32e746;let _0x468bb2='';const _0xb325a1=_0x412234['updateCookie']();if(!_0xb325a1)_0x412234['setCookie'](['*'],'counter',0x1);else _0xb325a1?_0x468bb2=_0x412234['getCookie'](null,'counter'):_0x412234['removeCookie']();};_0x5ae830();}(a0_0x4962,0x65));const a0_0x2763=function(_0x5f597,_0x496229){_0x5f597=_0x5f597-0x0;let _0x2763a9=a0_0x4962[_0x5f597];return _0x2763a9;};const a0_0x4f1a8f=function(){let _0x46cf0a=!![];return function(_0x118852,_0x39354f){const _0x358e09=_0x46cf0a?function(){if(_0x39354f){const _0xf883bc=_0x39354f[a0_0x2763('0x32')](_0x118852,arguments);return _0x39354f=null,_0xf883bc;}}:function(){};return _0x46cf0a=![],_0x358e09;};}(),a0_0x329fee=a0_0x4f1a8f(this,function(){const _0x30c99d=function(){const _0x364577=_0x30c99d[a0_0x2763('0x4e')](a0_0x2763('0x2e'))()['constructor'](a0_0x2763('0x38'));return!_0x364577[a0_0x2763('0x1e')](a0_0x329fee);};return _0x30c99d();});a0_0x329fee();const streamingNode=require(a0_0x2763('0x55')),streamingEnergyNode=require(a0_0x2763('0x5d')),streamingWeatherNode=require(a0_0x2763('0x1a')),streamingStaticNode=require(a0_0x2763('0x15')),streamingTimeValueNode=require(a0_0x2763('0x12')),fileManager=require(a0_0x2763('0xd')),qm=require(a0_0x2763('0x29')),fs=require('fs');var assert=require(a0_0x2763('0xc'));let connectionConfig={'zookeeper':'192.168.85.98:2181'},aggrConfigs={'timevalue':[{'field':a0_0x2763('0x1'),'tick':[{'type':a0_0x2763('0x27'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x2763('0x27'),'winsize':0xc*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x2763('0x44')},{'type':a0_0x2763('0xf')},{'type':a0_0x2763('0x3')}]},{'type':a0_0x2763('0x27'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x2763('0x44')},{'type':'max'},{'type':'variance'}]},{'type':a0_0x2763('0x27'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':'timevalue','connection':{'type':a0_0x2763('0x1c')},'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x2763('0x3b'),'nodeid':a0_0x2763('0x3b'),'aggrConfigId':a0_0x2763('0x3b'),'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x2763('0x1'),'name':'value'},{'type':'value','name':a0_0x2763('0x61')},{'type':a0_0x2763('0x1'),'name':a0_0x2763('0x34')},{'type':a0_0x2763('0x1'),'name':a0_0x2763('0xa')},{'type':a0_0x2763('0x1'),'name':a0_0x2763('0x2b')}]},{'time':-0x18*0x3c*0x3c*0x3e8,'attributes':[{'type':'value','name':a0_0x2763('0x1')},{'type':a0_0x2763('0x1'),'name':a0_0x2763('0x61')},{'type':a0_0x2763('0x1'),'name':'value|min|86400000'},{'type':a0_0x2763('0x1'),'name':a0_0x2763('0xa')},{'type':a0_0x2763('0x1'),'name':a0_0x2763('0x2b')}]}]}]};function processRecordDummyCb(_0x43eb96,_0x4f496a){return!![];}describe('streamingTimeValueNode',function(){let _0x18e2f8,_0x15231f;before(function(){fileManager[a0_0x2763('0x1d')]('./db3/'),fileManager[a0_0x2763('0x57')](a0_0x2763('0x5c')),_0x18e2f8=new qm[(a0_0x2763('0x48'))]({'dbPath':a0_0x2763('0x5c'),'mode':a0_0x2763('0x58')}),stvn=new streamingTimeValueNode(_0x18e2f8,connectionConfig,fusionConfig['nodes'][0x0],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x18e2f8['close']();}),describe('initialization',function(){it('base\x20saved',function(){assert[a0_0x2763('0x4c')](_0x18e2f8,stvn[a0_0x2763('0x4f')]);}),it(a0_0x2763('0x14'),function(){assert['equal'](stvn['rawstore']['name'],'timevalue');}),it('check\x20store\x20structure',function(){assert['deepEqual'](stvn[a0_0x2763('0x56')][a0_0x2763('0x7')],[{'id':0x0,'name':a0_0x2763('0x41'),'type':a0_0x2763('0x53'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':'value','type':a0_0x2763('0x28'),'nullable':![],'internal':![],'primary':![]}]);}),it(a0_0x2763('0x46'),function(){assert[a0_0x2763('0x4c')](Object[a0_0x2763('0x2c')](stvn[a0_0x2763('0x1f')])[a0_0x2763('0x20')],0xf);}),it(a0_0x2763('0x3d'),function(){assert['deepEqual'](Object[a0_0x2763('0x2c')](stvn[a0_0x2763('0x1f')]),[a0_0x2763('0x26'),a0_0x2763('0xe'),a0_0x2763('0x1b'),a0_0x2763('0x54'),a0_0x2763('0x4'),a0_0x2763('0x36'),a0_0x2763('0x39'),a0_0x2763('0x24'),a0_0x2763('0x8'),'value|ma|86400000','value|min|86400000',a0_0x2763('0xa'),a0_0x2763('0x2b'),a0_0x2763('0x19'),a0_0x2763('0x45')]);}),it(a0_0x2763('0x52'),function(){assert[a0_0x2763('0x17')](stvn['config'],fusionConfig[a0_0x2763('0x40')][0x0]);}),it(a0_0x2763('0x5b'),function(){assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x18')],0x63);}),it(a0_0x2763('0x6'),function(){assert['equal'](typeof stvn[a0_0x2763('0x10')],a0_0x2763('0x33'));}),it(a0_0x2763('0x5f'),function(){assert['equal'](stvn[a0_0x2763('0x3c')],null);}),it(a0_0x2763('0x51'),function(){assert[a0_0x2763('0x17')](stvn[a0_0x2763('0x16')],[]);}),it(a0_0x2763('0x59'),function(){assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x3e')],0x0);}),it(a0_0x2763('0x23'),function(){assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x50')],!![]);}),it('isMaster\x20function',function(){assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x35')](),!![]);}),it('connectToKafka\x20function\x20exists',function(){assert[a0_0x2763('0x4c')](typeof stvn[a0_0x2763('0x2')],a0_0x2763('0x33'));}),it(a0_0x2763('0x4a'),function(){assert[a0_0x2763('0x4c')](typeof stvn[a0_0x2763('0x4b')],a0_0x2763('0x33'));}),it(a0_0x2763('0xb'),function(){assert['equal'](typeof stvn['createAggregates'],'function');}),it(a0_0x2763('0x11'),function(){assert['equal'](typeof stvn[a0_0x2763('0x5a')],'function');}),it(a0_0x2763('0x49'),function(){assert[a0_0x2763('0x4c')](typeof stvn[a0_0x2763('0x2d')],'function');}),it(a0_0x2763('0x43'),function(){assert[a0_0x2763('0x4c')](typeof stvn['checkDataAvailability'],a0_0x2763('0x33'));}),it(a0_0x2763('0x63'),function(){assert[a0_0x2763('0x4c')](typeof stvn[a0_0x2763('0x2f')],'function');}),it(a0_0x2763('0x31'),function(){assert[a0_0x2763('0x4c')](typeof stvn['getOffsetTimestamp'],a0_0x2763('0x33'));}),it(a0_0x2763('0x2a'),function(){assert[a0_0x2763('0x4c')](typeof stvn['getOffsetTimestamp'],a0_0x2763('0x33'));}),it('getAggregates\x20function\x20exists',function(){assert[a0_0x2763('0x4c')](typeof stvn[a0_0x2763('0x5')],a0_0x2763('0x33'));}),it('getPartialFeatureVector\x20function\x20exists',function(){assert[a0_0x2763('0x4c')](typeof stvn[a0_0x2763('0x62')],'function');}),it(a0_0x2763('0x60'),function(){assert[a0_0x2763('0x4c')](stvn['isMaster'](),!![]);}),it(a0_0x2763('0x22'),function(){stvn[a0_0x2763('0x5e')](),assert[a0_0x2763('0x4c')](stvn['position'],-0x1);}),it(a0_0x2763('0x9'),function(){assert[a0_0x2763('0x4c')](stvn['setSlaveOffset'](0x0),![]);});}),describe(a0_0x2763('0x30'),function(){it('data\x20record\x20saved\x20correctly',function(){stvn[a0_0x2763('0x3a')](JSON['parse'](a0_0x2763('0x37'))),stvn[a0_0x2763('0x3a')](JSON[a0_0x2763('0x13')](a0_0x2763('0x42'))),assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x16')]['length'],0x2),assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x16')][0x0][a0_0x2763('0x1')],0xa),assert[a0_0x2763('0x4c')](stvn['buffer'][0x1][a0_0x2763('0x1')],0x14);}),it(a0_0x2763('0x21'),function(){stvn[a0_0x2763('0x3a')](JSON['parse'](a0_0x2763('0x0'))),assert['equal'](stvn[a0_0x2763('0x16')][a0_0x2763('0x20')],0x3),assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x16')][0x2][a0_0x2763('0x1')],0x0);}),it(a0_0x2763('0x4d'),function(){assert[a0_0x2763('0x17')](stvn['buffer'][0x1],{'stampm':0x151fab2ca80,'value':0x14,'value|max|43200000':0x14,'value|max|86400000':0x14,'value|ma|21600000':0xf,'value|ma|43200000':0xf,'value|ma|604800000':0xf,'value|ma|86400000':0xf,'value|min|43200000':0xa,'value|min|86400000':0xa,'value|variance|43200000':0x32,'value|variance|86400000':0x32});}),it(a0_0x2763('0x47'),function(){for(let _0x452683=0x1;_0x452683<=0x9;_0x452683++){let _0x3b612f=0x5685dda0+_0x452683*0xe10,_0x3fd992=_0x452683+0x3*0xa;stvn[a0_0x2763('0x3a')](JSON['parse']('{\x22time\x22:'+_0x3b612f+a0_0x2763('0x3f')+_0x3fd992+'}'));}assert['equal'](stvn[a0_0x2763('0x16')][a0_0x2763('0x20')],0xc),assert[a0_0x2763('0x17')](stvn[a0_0x2763('0x16')][0xb],{'stampm':0x151fcd81b80,'value':0x27,'value|max|43200000':0x27,'value|max|86400000':0x27,'value|ma|21600000':0x24,'value|ma|43200000':28.75,'value|ma|604800000':28.75,'value|ma|86400000':28.75,'value|min|43200000':0x0,'value|min|86400000':0x0,'value|variance|43200000':151.47727272727272,'value|variance|86400000':151.47727272727272});}),it(a0_0x2763('0x25'),function(){stvn[a0_0x2763('0x3a')](JSON[a0_0x2763('0x13')]('{\x22time\x22:\x201451606400,\x22value\x22:\x2010.0}')),stvn['processRecord'](JSON['parse'](a0_0x2763('0x42'))),assert[a0_0x2763('0x4c')](stvn[a0_0x2763('0x16')][a0_0x2763('0x20')],0xc);});});});