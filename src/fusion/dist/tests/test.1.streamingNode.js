const a0_0x2631=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','getPartialFeatureVector','deleteObsoleteRows\x20function\x20exists','checkDataAvailability\x20function\x20exists','winbuf','none','energy','connectToKafka','test','../nodes/streamingEnergyNode.js','config\x20saved','createAggregates\x20function\x20exists','dayOfYear','pc|variance|86400000','min','buffer\x20empty','offsetExists\x20function\x20exists','setMasterOffset\x20function\x20exists','../nodes/streamingStaticNode.js','position','../common/utils/fileManager.js','buffer','slave\x20offset\x20set\x20correctly:\x20no\x20data','fusionNodeI\x20correctly\x20saved','master\x20offset\x20set\x20correctly','weekEnd','broadcastAggregates\x20function\x20exists','pc|min|604800000','timeOfDay','processRecordCb','../nodes/streamingWeatherNode.js','createClean','humidity24','function','checkDataAvailability','192.168.85.98:2181','temperature24','pc|ma|86400000','equal','cloudCover24','getAggregates\x20function\x20exists','getPartialFeatureVector\x20function\x20exists','./db2/','setMasterOffset','weather','parent\x20saved','callback\x20function\x20should\x20be\x20set','buffer\x20position\x20is\x200','assert','config','aggregates\x20initialized','pc|variance|604800000','variance','dayBeforeHoliday','pc|ma|2592000000','pc|ma|21600000','deepEqual','master\x20set\x20correctly','Base','isMaster\x20function','base','getAggregates','base\x20saved','static','qminer','setSlaveOffset\x20function\x20exists','aggregate','pc|max|86400000','holiday','parent','nodes','isMaster','getOffsetTimestamp\x20function\x20exists','createFolder','createAggregates','streamingNode','dayOfWeek','value','monthOfYear','pc|ma|3600000','constructor','connectToKafka\x20function\x20exists','dayAfterHoliday','pc|ma|604800000','broadcastAggregates'];(function(_0x5960c0,_0x26312d){const _0x1a9f1a=function(_0x1f039a){while(--_0x1f039a){_0x5960c0['push'](_0x5960c0['shift']());}},_0x51cb41=function(){const _0x1f37b1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4417e7,_0x2cd7a7,_0x1f531c,_0xbd1883){_0xbd1883=_0xbd1883||{};let _0x51f316=_0x2cd7a7+'='+_0x1f531c,_0x470a7d=0x0;for(let _0x331bba=0x0,_0x1bcb19=_0x4417e7['length'];_0x331bba<_0x1bcb19;_0x331bba++){const _0x532bae=_0x4417e7[_0x331bba];_0x51f316+=';\x20'+_0x532bae;const _0x37a021=_0x4417e7[_0x532bae];_0x4417e7['push'](_0x37a021),_0x1bcb19=_0x4417e7['length'],_0x37a021!==!![]&&(_0x51f316+='='+_0x37a021);}_0xbd1883['cookie']=_0x51f316;},'removeCookie':function(){return'dev';},'getCookie':function(_0x48d720,_0x3f24f7){_0x48d720=_0x48d720||function(_0x40c3f0){return _0x40c3f0;};const _0x2bb90a=_0x48d720(new RegExp('(?:^|;\x20)'+_0x3f24f7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4493df=function(_0xf9c916,_0x323671){_0xf9c916(++_0x323671);};return _0x4493df(_0x1a9f1a,_0x26312d),_0x2bb90a?decodeURIComponent(_0x2bb90a[0x1]):undefined;}},_0x3ca1c6=function(){const _0xa44808=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xa44808['test'](_0x1f37b1['removeCookie']['toString']());};_0x1f37b1['updateCookie']=_0x3ca1c6;let _0x10f4ca='';const _0x5190d1=_0x1f37b1['updateCookie']();if(!_0x5190d1)_0x1f37b1['setCookie'](['*'],'counter',0x1);else _0x5190d1?_0x10f4ca=_0x1f37b1['getCookie'](null,'counter'):_0x1f37b1['removeCookie']();};_0x51cb41();}(a0_0x2631,0x1db));const a0_0x1a9f=function(_0x5960c0,_0x26312d){_0x5960c0=_0x5960c0-0x0;let _0x1a9f1a=a0_0x2631[_0x5960c0];return _0x1a9f1a;};const a0_0x1f531c=function(){let _0x469023=!![];return function(_0x302bc1,_0xe8199b){const _0x3acb01=_0x469023?function(){if(_0xe8199b){const _0x4b842d=_0xe8199b['apply'](_0x302bc1,arguments);return _0xe8199b=null,_0x4b842d;}}:function(){};return _0x469023=![],_0x3acb01;};}(),a0_0x2cd7a7=a0_0x1f531c(this,function(){const _0x128287=function(){const _0x500069=_0x128287[a0_0x1a9f('0x1e')](a0_0x1a9f('0x23'))()[a0_0x1a9f('0x1e')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x500069[a0_0x1a9f('0x2b')](a0_0x2cd7a7);};return _0x128287();});a0_0x2cd7a7();const streamingNode=require('../nodes/streamingNode.js'),streamingEnergyNode=require(a0_0x1a9f('0x2c')),streamingWeatherNode=require(a0_0x1a9f('0x41')),streamingStaticNode=require(a0_0x1a9f('0x35')),fileManager=require(a0_0x1a9f('0x37')),qm=require(a0_0x1a9f('0xe')),fs=require('fs');var assert=require(a0_0x1a9f('0x53'));let connectionConfig={'zookeeper':a0_0x1a9f('0x46')},aggrConfigs={'energy':[{'field':'pc','tick':[{'type':a0_0x1a9f('0x27'),'winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x1a9f('0x27'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x1a9f('0x2')},{'type':'ma'}]},{'type':a0_0x1a9f('0x27'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x1a9f('0x2')},{'type':'ma'},{'type':'min'},{'type':'max'}]},{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x1a9f('0x2')},{'type':'ma'},{'type':a0_0x1a9f('0x31')},{'type':'max'}]},{'type':a0_0x1a9f('0x27'),'winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':'holiday','tick':[{'type':a0_0x1a9f('0x27'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'connection':{'type':a0_0x1a9f('0x28')},'fusionModel':a0_0x1a9f('0x2b'),'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x1a9f('0x29'),'nodeid':'N1','aggrConfigId':a0_0x1a9f('0x29'),'fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x1a9f('0x1b'),'name':'pc'},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x1d')},{'type':'value','name':a0_0x1a9f('0x5')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x48')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x21')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x4')},{'type':a0_0x1a9f('0x1b'),'name':'pc|min|86400000'},{'type':'value','name':a0_0x1a9f('0x3e')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x11')},{'type':a0_0x1a9f('0x1b'),'name':'pc|max|604800000'},{'type':a0_0x1a9f('0x1b'),'name':'pc|variance|21600000'},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x30')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x1')}]},{'time':-0x18,'attributes':[{'type':a0_0x1a9f('0x1b'),'name':'pc'}]},{'time':-0x30,'attributes':[{'type':a0_0x1a9f('0x1b'),'name':'pc'}]},{'time':-0xa8,'attributes':[{'type':a0_0x1a9f('0x1b'),'name':'pc'}]}]},{'type':a0_0x1a9f('0xd'),'nodeid':'static','aggrConfigId':'static','fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x3f')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x3c')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x12')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x20')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x3')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x1a')},{'type':'value','name':a0_0x1a9f('0x2f')},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x1c')}]}]},{'type':a0_0x1a9f('0x4f'),'nodeid':'weather','aggrConfigId':a0_0x1a9f('0x4f'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':a0_0x1a9f('0x47')},{'type':'value','name':a0_0x1a9f('0x43')},{'type':a0_0x1a9f('0x1b'),'name':'pressure24'},{'type':a0_0x1a9f('0x1b'),'name':'windSpeed24'},{'type':a0_0x1a9f('0x1b'),'name':'windBearing24'},{'type':a0_0x1a9f('0x1b'),'name':a0_0x1a9f('0x4a')}]}]}]};describe(a0_0x1a9f('0x19'),function(){let _0x3fefe3,_0x4c2ada;before(function(){fileManager['removeFolder']('./db2/'),fileManager[a0_0x1a9f('0x17')](a0_0x1a9f('0x4d')),_0x3fefe3=new qm[(a0_0x1a9f('0x8'))]({'dbPath':a0_0x1a9f('0x4d'),'mode':a0_0x1a9f('0x42')}),_0x4c2ada=new streamingNode(_0x3fefe3,connectionConfig,fusionConfig['nodes'][0x0],aggrConfigs,null,0x63,null);}),after(function(){_0x3fefe3['close']();}),describe('initialization',function(){it(a0_0x1a9f('0xc'),function(){assert['equal'](_0x3fefe3,_0x4c2ada[a0_0x1a9f('0xa')]);}),it(a0_0x1a9f('0x0'),function(){assert[a0_0x1a9f('0x6')](_0x4c2ada[a0_0x1a9f('0x10')],{});}),it(a0_0x1a9f('0x2d'),function(){assert[a0_0x1a9f('0x6')](_0x4c2ada[a0_0x1a9f('0x54')],fusionConfig[a0_0x1a9f('0x14')][0x0]);}),it(a0_0x1a9f('0x3a'),function(){assert[a0_0x1a9f('0x49')](_0x4c2ada['fusionNodeI'],0x63);}),it(a0_0x1a9f('0x51'),function(){assert[a0_0x1a9f('0x49')](_0x4c2ada[a0_0x1a9f('0x40')],null);}),it(a0_0x1a9f('0x50'),function(){assert[a0_0x1a9f('0x49')](_0x4c2ada[a0_0x1a9f('0x13')],null);}),it(a0_0x1a9f('0x32'),function(){assert[a0_0x1a9f('0x6')](_0x4c2ada[a0_0x1a9f('0x38')],[]);}),it(a0_0x1a9f('0x52'),function(){assert[a0_0x1a9f('0x49')](_0x4c2ada[a0_0x1a9f('0x36')],0x0);}),it('master\x20flag\x20set\x20correctly',function(){assert[a0_0x1a9f('0x49')](_0x4c2ada['master'],!![]);}),it(a0_0x1a9f('0x9'),function(){assert['equal'](_0x4c2ada[a0_0x1a9f('0x15')](),!![]);}),it(a0_0x1a9f('0x1f'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada[a0_0x1a9f('0x2a')],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x3d'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada[a0_0x1a9f('0x22')],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x2e'),function(){assert['equal'](typeof _0x4c2ada[a0_0x1a9f('0x18')],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x33'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada['offsetExists'],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x25'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada['deleteObsoleteRows'],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x26'),function(){assert['equal'](typeof _0x4c2ada[a0_0x1a9f('0x45')],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0xf'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada['setSlaveOffset'],'function');}),it(a0_0x1a9f('0x16'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada['getOffsetTimestamp'],'function');}),it(a0_0x1a9f('0x34'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada['getOffsetTimestamp'],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x4b'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada[a0_0x1a9f('0xb')],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x4c'),function(){assert[a0_0x1a9f('0x49')](typeof _0x4c2ada[a0_0x1a9f('0x24')],a0_0x1a9f('0x44'));}),it(a0_0x1a9f('0x7'),function(){assert['equal'](_0x4c2ada[a0_0x1a9f('0x15')](),!![]);}),it(a0_0x1a9f('0x3b'),function(){_0x4c2ada[a0_0x1a9f('0x4e')](),assert[a0_0x1a9f('0x49')](_0x4c2ada['position'],-0x1);}),it(a0_0x1a9f('0x39'),function(){assert[a0_0x1a9f('0x49')](_0x4c2ada['setSlaveOffset'](0x0),![]);});});});