const a0_0x554b=['weather','parent','buffer\x20empty','Base','pc|ma|86400000','buffer','deleteObsoleteRows','humidity24','value','initialization','getOffsetTimestamp\x20function\x20exists','isMaster','pc|min|604800000','setSlaveOffset','config','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','fusionNodeI','isMaster\x20function','config\x20saved','setMasterOffset\x20function\x20exists','max','pc|ma|604800000','broadcastAggregates','windSpeed24','min','none','getAggregates','pc|ma|2592000000','pc|min|86400000','getAggregates\x20function\x20exists','pc|max|86400000','parent\x20saved','deepEqual','./db2/','connectToKafka','constructor','cloudCover24','slave\x20offset\x20set\x20correctly:\x20no\x20data','equal','createClean','qminer','holiday','getOffsetTimestamp','pc|ma|21600000','weekEnd','createAggregates','apply','createAggregates\x20function\x20exists','winbuf','return\x20/\x22\x20+\x20this\x20+\x20\x22/','connectToKafka\x20function\x20exists','processRecordCb','close','dayBeforeHoliday','monthOfYear','dayOfYear','dayAfterHoliday','dayOfWeek','timeOfDay','pc|max|604800000','../nodes/streamingNode.js','aggregate','offsetExists','deleteObsoleteRows\x20function\x20exists','master','getPartialFeatureVector\x20function\x20exists','broadcastAggregates\x20function\x20exists','energy','pc|ma|3600000','variance','pc|variance|604800000','windBearing24','192.168.85.98:2181','temperature24','function','../nodes/streamingEnergyNode.js','position','aggregates\x20initialized','pc|variance|86400000','setSlaveOffset\x20function\x20exists','callback\x20function\x20should\x20be\x20set','checkDataAvailability\x20function\x20exists','pc|variance|21600000','base\x20saved','../nodes/streamingWeatherNode.js','getPartialFeatureVector','assert','buffer\x20position\x20is\x200','test','master\x20offset\x20set\x20correctly','master\x20flag\x20set\x20correctly','offsetExists\x20function\x20exists','static','base','nodes'];(function(_0xc59d11,_0x554b93){const _0x547bf6=function(_0x30c6fe){while(--_0x30c6fe){_0xc59d11['push'](_0xc59d11['shift']());}},_0x331bd8=function(){const _0xdacd42={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4e3764,_0x5c72f6,_0x46ddf3,_0x246e3e){_0x246e3e=_0x246e3e||{};let _0x42dd5c=_0x5c72f6+'='+_0x46ddf3,_0x29a6d4=0x0;for(let _0x30c6cb=0x0,_0x437f59=_0x4e3764['length'];_0x30c6cb<_0x437f59;_0x30c6cb++){const _0xa75525=_0x4e3764[_0x30c6cb];_0x42dd5c+=';\x20'+_0xa75525;const _0x49402e=_0x4e3764[_0xa75525];_0x4e3764['push'](_0x49402e),_0x437f59=_0x4e3764['length'],_0x49402e!==!![]&&(_0x42dd5c+='='+_0x49402e);}_0x246e3e['cookie']=_0x42dd5c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x344ab1,_0x9481f3){_0x344ab1=_0x344ab1||function(_0x54574f){return _0x54574f;};const _0x3f94b1=_0x344ab1(new RegExp('(?:^|;\x20)'+_0x9481f3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x4f4572=function(_0x55c82b,_0xff45d4){_0x55c82b(++_0xff45d4);};return _0x4f4572(_0x547bf6,_0x554b93),_0x3f94b1?decodeURIComponent(_0x3f94b1[0x1]):undefined;}},_0x3c431c=function(){const _0x17cbf4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x17cbf4['test'](_0xdacd42['removeCookie']['toString']());};_0xdacd42['updateCookie']=_0x3c431c;let _0x3548e8='';const _0xc2822a=_0xdacd42['updateCookie']();if(!_0xc2822a)_0xdacd42['setCookie'](['*'],'counter',0x1);else _0xc2822a?_0x3548e8=_0xdacd42['getCookie'](null,'counter'):_0xdacd42['removeCookie']();};_0x331bd8();}(a0_0x554b,0x97));const a0_0x547b=function(_0xc59d11,_0x554b93){_0xc59d11=_0xc59d11-0x0;let _0x547bf6=a0_0x554b[_0xc59d11];return _0x547bf6;};const a0_0x46ddf3=function(){let _0x490b91=!![];return function(_0x10bc0e,_0x14c108){const _0x356cda=_0x490b91?function(){if(_0x14c108){const _0x26eacb=_0x14c108[a0_0x547b('0x55')](_0x10bc0e,arguments);return _0x14c108=null,_0x26eacb;}}:function(){};return _0x490b91=![],_0x356cda;};}(),a0_0x5c72f6=a0_0x46ddf3(this,function(){const _0x23635a=function(){const _0x2a913a=_0x23635a[a0_0x547b('0x4a')](a0_0x547b('0x58'))()[a0_0x547b('0x4a')](a0_0x547b('0x36'));return!_0x2a913a['test'](a0_0x5c72f6);};return _0x23635a();});a0_0x5c72f6();const streamingNode=require(a0_0x547b('0x4')),streamingEnergyNode=require(a0_0x547b('0x13')),streamingWeatherNode=require(a0_0x547b('0x1c')),streamingStaticNode=require('../nodes/streamingStaticNode.js'),fileManager=require('../common/utils/fileManager.js'),qm=require(a0_0x547b('0x4f')),fs=require('fs');var assert=require(a0_0x547b('0x1e'));let connectionConfig={'zookeeper':a0_0x547b('0x10')},aggrConfigs={'energy':[{'field':'pc','tick':[{'type':a0_0x547b('0x57'),'winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x547b('0xd')},{'type':'ma'}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'variance'},{'type':'ma'},{'type':a0_0x547b('0x3f')},{'type':a0_0x547b('0x3b')}]},{'type':a0_0x547b('0x57'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'variance'},{'type':'ma'},{'type':a0_0x547b('0x3f')},{'type':a0_0x547b('0x3b')}]},{'type':a0_0x547b('0x57'),'winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':a0_0x547b('0x50'),'tick':[{'type':a0_0x547b('0x57'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'connection':{'type':a0_0x547b('0x40')},'fusionModel':a0_0x547b('0x20'),'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x547b('0xb'),'nodeid':'N1','aggrConfigId':a0_0x547b('0xb'),'fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x547b('0x2f'),'name':'pc'},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0xc')},{'type':'value','name':a0_0x547b('0x52')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x2b')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x3c')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x42')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x43')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x33')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x45')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x3')},{'type':'value','name':a0_0x547b('0x1a')},{'type':'value','name':a0_0x547b('0x16')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0xe')}]},{'time':-0x18,'attributes':[{'type':a0_0x547b('0x2f'),'name':'pc'}]},{'time':-0x30,'attributes':[{'type':'value','name':'pc'}]},{'time':-0xa8,'attributes':[{'type':a0_0x547b('0x2f'),'name':'pc'}]}]},{'type':'static','nodeid':a0_0x547b('0x24'),'aggrConfigId':a0_0x547b('0x24'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x2')},{'type':'value','name':a0_0x547b('0x53')},{'type':'value','name':a0_0x547b('0x50')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x0')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x5c')},{'type':'value','name':a0_0x547b('0x1')},{'type':'value','name':a0_0x547b('0x5e')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x5d')}]}]},{'type':a0_0x547b('0x27'),'nodeid':a0_0x547b('0x27'),'aggrConfigId':'weather','fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x11')},{'type':'value','name':a0_0x547b('0x2e')},{'type':'value','name':'pressure24'},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x3e')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0xf')},{'type':a0_0x547b('0x2f'),'name':a0_0x547b('0x4b')}]}]}]};describe('streamingNode',function(){let _0x17d237,_0x1b514d;before(function(){fileManager['removeFolder']('./db2/'),fileManager['createFolder']('./db2/'),_0x17d237=new qm[(a0_0x547b('0x2a'))]({'dbPath':a0_0x547b('0x48'),'mode':a0_0x547b('0x4e')}),_0x1b514d=new streamingNode(_0x17d237,connectionConfig,fusionConfig['nodes'][0x0],aggrConfigs,null,0x63,null);}),after(function(){_0x17d237[a0_0x547b('0x5b')]();}),describe(a0_0x547b('0x30'),function(){it(a0_0x547b('0x1b'),function(){assert['equal'](_0x17d237,_0x1b514d[a0_0x547b('0x25')]);}),it(a0_0x547b('0x15'),function(){assert[a0_0x547b('0x47')](_0x1b514d[a0_0x547b('0x5')],{});}),it(a0_0x547b('0x39'),function(){assert[a0_0x547b('0x47')](_0x1b514d[a0_0x547b('0x35')],fusionConfig[a0_0x547b('0x26')][0x0]);}),it('fusionNodeI\x20correctly\x20saved',function(){assert[a0_0x547b('0x4d')](_0x1b514d[a0_0x547b('0x37')],0x63);}),it(a0_0x547b('0x18'),function(){assert[a0_0x547b('0x4d')](_0x1b514d[a0_0x547b('0x5a')],null);}),it(a0_0x547b('0x46'),function(){assert[a0_0x547b('0x4d')](_0x1b514d[a0_0x547b('0x28')],null);}),it(a0_0x547b('0x29'),function(){assert[a0_0x547b('0x47')](_0x1b514d[a0_0x547b('0x2c')],[]);}),it(a0_0x547b('0x1f'),function(){assert[a0_0x547b('0x4d')](_0x1b514d[a0_0x547b('0x14')],0x0);}),it(a0_0x547b('0x22'),function(){assert[a0_0x547b('0x4d')](_0x1b514d[a0_0x547b('0x8')],!![]);}),it(a0_0x547b('0x38'),function(){assert[a0_0x547b('0x4d')](_0x1b514d[a0_0x547b('0x32')](),!![]);}),it(a0_0x547b('0x59'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x49')],'function');}),it(a0_0x547b('0xa'),function(){assert['equal'](typeof _0x1b514d[a0_0x547b('0x3d')],a0_0x547b('0x12'));}),it(a0_0x547b('0x56'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x54')],a0_0x547b('0x12'));}),it(a0_0x547b('0x23'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x6')],a0_0x547b('0x12'));}),it(a0_0x547b('0x7'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x2d')],a0_0x547b('0x12'));}),it(a0_0x547b('0x19'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d['checkDataAvailability'],'function');}),it(a0_0x547b('0x17'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x34')],a0_0x547b('0x12'));}),it(a0_0x547b('0x31'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x51')],'function');}),it(a0_0x547b('0x3a'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d['getOffsetTimestamp'],a0_0x547b('0x12'));}),it(a0_0x547b('0x44'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x41')],a0_0x547b('0x12'));}),it(a0_0x547b('0x9'),function(){assert[a0_0x547b('0x4d')](typeof _0x1b514d[a0_0x547b('0x1d')],a0_0x547b('0x12'));}),it('master\x20set\x20correctly',function(){assert['equal'](_0x1b514d[a0_0x547b('0x32')](),!![]);}),it(a0_0x547b('0x21'),function(){_0x1b514d['setMasterOffset'](),assert[a0_0x547b('0x4d')](_0x1b514d[a0_0x547b('0x14')],-0x1);}),it(a0_0x547b('0x4c'),function(){assert[a0_0x547b('0x4d')](_0x1b514d['setSlaveOffset'](0x0),![]);});});});