const a0_0x26b5=['master\x20set\x20correctly','aggregate','apply','fusionNodeI','removeFolder','timeOfDay','offsetExists','pc|ma|2592000000','slave\x20offset\x20set\x20correctly:\x20no\x20data','parent\x20saved','equal','getOffsetTimestamp\x20function\x20exists','test','monthOfYear','createAggregates\x20function\x20exists','static','windSpeed24','deleteObsoleteRows\x20function\x20exists','streamingNode','../nodes/streamingStaticNode.js','getAggregates\x20function\x20exists','setSlaveOffset','isMaster\x20function','isMaster','pc|max|604800000','buffer\x20empty','parent','value','base','pc|max|86400000','humidity24','buffer','winbuf','setSlaveOffset\x20function\x20exists','getPartialFeatureVector\x20function\x20exists','position','./db2/','weather','windBearing24','function','pc|ma|604800000','checkDataAvailability\x20function\x20exists','getAggregates','buffer\x20position\x20is\x200','pc|ma|86400000','pc|min|86400000','nodes','max','createClean','assert','none','weekEnd','pc|variance|21600000','dayOfWeek','checkDataAvailability','config\x20saved','processRecordCb','../nodes/streamingNode.js','config','dayOfYear','pressure24','qminer','fusionNodeI\x20correctly\x20saved','dayAfterHoliday','callback\x20function\x20should\x20be\x20set','192.168.85.98:2181','holiday','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','cloudCover24','broadcastAggregates\x20function\x20exists','setMasterOffset\x20function\x20exists','variance','constructor','pc|ma|3600000','createFolder','getOffsetTimestamp','pc|variance|604800000','setMasterOffset','../nodes/streamingWeatherNode.js','temperature24','min','deepEqual','pc|ma|21600000','connectToKafka','aggregates\x20initialized','dayBeforeHoliday','initialization','close'];(function(_0x74251b,_0x26b576){const _0x17214e=function(_0x1bebf2){while(--_0x1bebf2){_0x74251b['push'](_0x74251b['shift']());}},_0x1df560=function(){const _0x4ee939={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x381d4f,_0x5531bf,_0x249800,_0x337157){_0x337157=_0x337157||{};let _0x47499e=_0x5531bf+'='+_0x249800,_0x27a4b7=0x0;for(let _0x592003=0x0,_0x469794=_0x381d4f['length'];_0x592003<_0x469794;_0x592003++){const _0x163b47=_0x381d4f[_0x592003];_0x47499e+=';\x20'+_0x163b47;const _0x3657c8=_0x381d4f[_0x163b47];_0x381d4f['push'](_0x3657c8),_0x469794=_0x381d4f['length'],_0x3657c8!==!![]&&(_0x47499e+='='+_0x3657c8);}_0x337157['cookie']=_0x47499e;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2b609a,_0x4bb3fd){_0x2b609a=_0x2b609a||function(_0x57ff35){return _0x57ff35;};const _0x422728=_0x2b609a(new RegExp('(?:^|;\x20)'+_0x4bb3fd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x19e519=function(_0x220d7c,_0x1e76b4){_0x220d7c(++_0x1e76b4);};return _0x19e519(_0x17214e,_0x26b576),_0x422728?decodeURIComponent(_0x422728[0x1]):undefined;}},_0x1a62bc=function(){const _0x137de4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x137de4['test'](_0x4ee939['removeCookie']['toString']());};_0x4ee939['updateCookie']=_0x1a62bc;let _0x592580='';const _0x3f30d9=_0x4ee939['updateCookie']();if(!_0x3f30d9)_0x4ee939['setCookie'](['*'],'counter',0x1);else _0x3f30d9?_0x592580=_0x4ee939['getCookie'](null,'counter'):_0x4ee939['removeCookie']();};_0x1df560();}(a0_0x26b5,0x82));const a0_0x1721=function(_0x74251b,_0x26b576){_0x74251b=_0x74251b-0x0;let _0x17214e=a0_0x26b5[_0x74251b];return _0x17214e;};const a0_0x249800=function(){let _0x42bec2=!![];return function(_0x19b5c7,_0x181c07){const _0x5dc2f1=_0x42bec2?function(){if(_0x181c07){const _0x2c1c86=_0x181c07[a0_0x1721('0x30')](_0x19b5c7,arguments);return _0x181c07=null,_0x2c1c86;}}:function(){};return _0x42bec2=![],_0x5dc2f1;};}(),a0_0x5531bf=a0_0x249800(this,function(){const _0x188874=function(){const _0x529551=_0x188874[a0_0x1721('0x1e')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a0_0x1721('0x1e')](a0_0x1721('0x19'));return!_0x529551[a0_0x1721('0x3a')](a0_0x5531bf);};return _0x188874();});a0_0x5531bf();const streamingNode=require(a0_0x1721('0xf')),streamingEnergyNode=require('../nodes/streamingEnergyNode.js'),streamingWeatherNode=require(a0_0x1721('0x24')),streamingStaticNode=require(a0_0x1721('0x41')),fileManager=require('../common/utils/fileManager.js'),qm=require(a0_0x1721('0x13')),fs=require('fs');var assert=require(a0_0x1721('0x7'));let connectionConfig={'zookeeper':a0_0x1721('0x17')},aggrConfigs={'energy':[{'field':'pc','tick':[{'type':'winbuf','winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x1721('0x4e'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'variance'},{'type':'ma'}]},{'type':a0_0x1721('0x4e'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'variance'},{'type':'ma'},{'type':a0_0x1721('0x26')},{'type':a0_0x1721('0x5')}]},{'type':a0_0x1721('0x4e'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x1721('0x1d')},{'type':'ma'},{'type':a0_0x1721('0x26')},{'type':'max'}]},{'type':'winbuf','winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':a0_0x1721('0x18'),'tick':[{'type':a0_0x1721('0x4e'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'connection':{'type':a0_0x1721('0x8')},'fusionModel':a0_0x1721('0x3a'),'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':'energy','nodeid':'N1','aggrConfigId':'energy','fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x1721('0x49'),'name':'pc'},{'type':'value','name':a0_0x1721('0x1f')},{'type':'value','name':a0_0x1721('0x28')},{'type':'value','name':a0_0x1721('0x2')},{'type':'value','name':a0_0x1721('0x56')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x35')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x3')},{'type':a0_0x1721('0x49'),'name':'pc|min|604800000'},{'type':'value','name':a0_0x1721('0x4b')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x46')},{'type':'value','name':a0_0x1721('0xa')},{'type':'value','name':'pc|variance|86400000'},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x22')}]},{'time':-0x18,'attributes':[{'type':a0_0x1721('0x49'),'name':'pc'}]},{'time':-0x30,'attributes':[{'type':a0_0x1721('0x49'),'name':'pc'}]},{'time':-0xa8,'attributes':[{'type':a0_0x1721('0x49'),'name':'pc'}]}]},{'type':a0_0x1721('0x3d'),'nodeid':a0_0x1721('0x3d'),'aggrConfigId':a0_0x1721('0x3d'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':'value','name':a0_0x1721('0x33')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x9')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x18')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x15')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x2b')},{'type':'value','name':a0_0x1721('0xb')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x11')},{'type':'value','name':a0_0x1721('0x3b')}]}]},{'type':a0_0x1721('0x53'),'nodeid':a0_0x1721('0x53'),'aggrConfigId':'weather','fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x25')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x4c')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x12')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x3e')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x54')},{'type':a0_0x1721('0x49'),'name':a0_0x1721('0x1a')}]}]}]};describe(a0_0x1721('0x40'),function(){let _0x18ca8b,_0x5eb859;before(function(){fileManager[a0_0x1721('0x32')](a0_0x1721('0x52')),fileManager[a0_0x1721('0x20')]('./db2/'),_0x18ca8b=new qm['Base']({'dbPath':a0_0x1721('0x52'),'mode':a0_0x1721('0x6')}),_0x5eb859=new streamingNode(_0x18ca8b,connectionConfig,fusionConfig[a0_0x1721('0x4')][0x0],aggrConfigs,null,0x63,null);}),after(function(){_0x18ca8b[a0_0x1721('0x2d')]();}),describe(a0_0x1721('0x2c'),function(){it('base\x20saved',function(){assert[a0_0x1721('0x38')](_0x18ca8b,_0x5eb859[a0_0x1721('0x4a')]);}),it(a0_0x1721('0x2a'),function(){assert[a0_0x1721('0x27')](_0x5eb859[a0_0x1721('0x2f')],{});}),it(a0_0x1721('0xd'),function(){assert['deepEqual'](_0x5eb859[a0_0x1721('0x10')],fusionConfig[a0_0x1721('0x4')][0x0]);}),it(a0_0x1721('0x14'),function(){assert['equal'](_0x5eb859[a0_0x1721('0x31')],0x63);}),it(a0_0x1721('0x16'),function(){assert[a0_0x1721('0x38')](_0x5eb859[a0_0x1721('0xe')],null);}),it(a0_0x1721('0x37'),function(){assert[a0_0x1721('0x38')](_0x5eb859[a0_0x1721('0x48')],null);}),it(a0_0x1721('0x47'),function(){assert[a0_0x1721('0x27')](_0x5eb859[a0_0x1721('0x4d')],[]);}),it(a0_0x1721('0x1'),function(){assert[a0_0x1721('0x38')](_0x5eb859[a0_0x1721('0x51')],0x0);}),it('master\x20flag\x20set\x20correctly',function(){assert[a0_0x1721('0x38')](_0x5eb859['master'],!![]);}),it(a0_0x1721('0x44'),function(){assert['equal'](_0x5eb859[a0_0x1721('0x45')](),!![]);}),it('connectToKafka\x20function\x20exists',function(){assert[a0_0x1721('0x38')](typeof _0x5eb859[a0_0x1721('0x29')],a0_0x1721('0x55'));}),it(a0_0x1721('0x1b'),function(){assert[a0_0x1721('0x38')](typeof _0x5eb859['broadcastAggregates'],a0_0x1721('0x55'));}),it(a0_0x1721('0x3c'),function(){assert['equal'](typeof _0x5eb859['createAggregates'],a0_0x1721('0x55'));}),it('offsetExists\x20function\x20exists',function(){assert[a0_0x1721('0x38')](typeof _0x5eb859[a0_0x1721('0x34')],'function');}),it(a0_0x1721('0x3f'),function(){assert[a0_0x1721('0x38')](typeof _0x5eb859['deleteObsoleteRows'],a0_0x1721('0x55'));}),it(a0_0x1721('0x57'),function(){assert[a0_0x1721('0x38')](typeof _0x5eb859[a0_0x1721('0xc')],a0_0x1721('0x55'));}),it(a0_0x1721('0x4f'),function(){assert[a0_0x1721('0x38')](typeof _0x5eb859[a0_0x1721('0x43')],'function');}),it(a0_0x1721('0x39'),function(){assert['equal'](typeof _0x5eb859[a0_0x1721('0x21')],a0_0x1721('0x55'));}),it(a0_0x1721('0x1c'),function(){assert['equal'](typeof _0x5eb859[a0_0x1721('0x21')],'function');}),it(a0_0x1721('0x42'),function(){assert[a0_0x1721('0x38')](typeof _0x5eb859[a0_0x1721('0x0')],a0_0x1721('0x55'));}),it(a0_0x1721('0x50'),function(){assert['equal'](typeof _0x5eb859['getPartialFeatureVector'],'function');}),it(a0_0x1721('0x2e'),function(){assert['equal'](_0x5eb859['isMaster'](),!![]);}),it('master\x20offset\x20set\x20correctly',function(){_0x5eb859[a0_0x1721('0x23')](),assert[a0_0x1721('0x38')](_0x5eb859[a0_0x1721('0x51')],-0x1);}),it(a0_0x1721('0x36'),function(){assert[a0_0x1721('0x38')](_0x5eb859[a0_0x1721('0x43')](0x0),![]);});});});