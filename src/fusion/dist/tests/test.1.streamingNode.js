var _0x66b2=['broadcastAggregates\x20function\x20exists','broadcastAggregates','function','createAggregates','offsetExists','deleteObsoleteRows\x20function\x20exists','deleteObsoleteRows','checkDataAvailability\x20function\x20exists','checkDataAvailability','setSlaveOffset\x20function\x20exists','setSlaveOffset','getOffsetTimestamp\x20function\x20exists','getAggregates\x20function\x20exists','getAggregates','getPartialFeatureVector\x20function\x20exists','master\x20set\x20correctly','master\x20offset\x20set\x20correctly','setMasterOffset','slave\x20offset\x20set\x20correctly:\x20no\x20data','../nodes/streamingNode.js','../nodes/streamingEnergyNode.js','../nodes/streamingWeatherNode.js','../common/utils/fileManager.js','qminer','assert','winbuf','variance','min','holiday','none','test','energy','value','pc|ma|3600000','pc|ma|21600000','pc|ma|604800000','pc|ma|2592000000','pc|min|86400000','pc|min|604800000','pc|max|86400000','pc|max|604800000','pc|variance|21600000','pc|variance|86400000','static','timeOfDay','weekEnd','dayAfterHoliday','dayBeforeHoliday','dayOfWeek','monthOfYear','weather','temperature24','humidity24','pressure24','windBearing24','cloudCover24','streamingNode','removeFolder','./db2/','createFolder','createClean','nodes','close','aggregates\x20initialized','aggregate','config\x20saved','deepEqual','config','fusionNodeI\x20correctly\x20saved','equal','callback\x20function\x20should\x20be\x20set','processRecordCb','parent\x20saved','buffer\x20empty','buffer\x20position\x20is\x200','position','master\x20flag\x20set\x20correctly','isMaster\x20function','isMaster'];(function(_0x3173f7,_0x47cdac){var _0x4d3ef1=function(_0x3ad916){while(--_0x3ad916){_0x3173f7['push'](_0x3173f7['shift']());}};var _0x40b2f8=function(){var _0x392729={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xf8bd79,_0x56f0a4,_0x3da28b,_0x2ef060){_0x2ef060=_0x2ef060||{};var _0x4c6f63=_0x56f0a4+'='+_0x3da28b;var _0x766b6d=0x0;for(var _0x766b6d=0x0,_0x107f9a=_0xf8bd79['length'];_0x766b6d<_0x107f9a;_0x766b6d++){var _0x239cb3=_0xf8bd79[_0x766b6d];_0x4c6f63+=';\x20'+_0x239cb3;var _0x6800ad=_0xf8bd79[_0x239cb3];_0xf8bd79['push'](_0x6800ad);_0x107f9a=_0xf8bd79['length'];if(_0x6800ad!==!![]){_0x4c6f63+='='+_0x6800ad;}}_0x2ef060['cookie']=_0x4c6f63;},'removeCookie':function(){return'dev';},'getCookie':function(_0x401ddc,_0x254f37){_0x401ddc=_0x401ddc||function(_0x539cfc){return _0x539cfc;};var _0x3a9b29=_0x401ddc(new RegExp('(?:^|;\x20)'+_0x254f37['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x2ecd58=function(_0x2a71f4,_0x4310f1){_0x2a71f4(++_0x4310f1);};_0x2ecd58(_0x4d3ef1,_0x47cdac);return _0x3a9b29?decodeURIComponent(_0x3a9b29[0x1]):undefined;}};var _0x585927=function(){var _0x58bc96=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x58bc96['test'](_0x392729['removeCookie']['toString']());};_0x392729['updateCookie']=_0x585927;var _0x945f31='';var _0x154ac2=_0x392729['updateCookie']();if(!_0x154ac2){_0x392729['setCookie'](['*'],'counter',0x1);}else if(_0x154ac2){_0x945f31=_0x392729['getCookie'](null,'counter');}else{_0x392729['removeCookie']();}};_0x40b2f8();}(_0x66b2,0x19e));var _0x592e=function(_0xcf9b4d,_0x2275e7){_0xcf9b4d=_0xcf9b4d-0x0;var _0x5c555b=_0x66b2[_0xcf9b4d];return _0x5c555b;};var _0x1e448c=function(){var _0xd45759=!![];return function(_0x24bbeb,_0x22853b){var _0x17be46=_0xd45759?function(){if(_0x22853b){var _0x3dc1d2=_0x22853b['apply'](_0x24bbeb,arguments);_0x22853b=null;return _0x3dc1d2;}}:function(){};_0xd45759=![];return _0x17be46;};}();var _0x217b1c=_0x1e448c(this,function(){var _0x2a5e02=function(){return'\x64\x65\x76';},_0x40dbbb=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1ce2aa=function(){var _0x351719=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x351719['\x74\x65\x73\x74'](_0x2a5e02['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4d2748=function(){var _0x2bdbd9=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x2bdbd9['\x74\x65\x73\x74'](_0x40dbbb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x468ccc=function(_0x311ce6){var _0x3298cb=~-0x1>>0x1+0xff%0x0;if(_0x311ce6['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3298cb)){_0x13f08f(_0x311ce6);}};var _0x13f08f=function(_0x2af211){var _0x430477=~-0x4>>0x1+0xff%0x0;if(_0x2af211['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x430477){_0x468ccc(_0x2af211);}};if(!_0x1ce2aa()){if(!_0x4d2748()){_0x468ccc('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x468ccc('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x468ccc('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x217b1c();const streamingNode=require(_0x592e('0x0'));const streamingEnergyNode=require(_0x592e('0x1'));const streamingWeatherNode=require(_0x592e('0x2'));const streamingStaticNode=require('../nodes/streamingStaticNode.js');const fileManager=require(_0x592e('0x3'));const qm=require(_0x592e('0x4'));const fs=require('fs');var assert=require(_0x592e('0x5'));let connectionConfig={'zookeeper':'192.168.85.98:2181'};let aggrConfigs={'energy':[{'field':'pc','tick':[{'type':'winbuf','winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x592e('0x6'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':_0x592e('0x7')},{'type':'ma'}]},{'type':_0x592e('0x6'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':_0x592e('0x7')},{'type':'ma'},{'type':_0x592e('0x8')},{'type':'max'}]},{'type':_0x592e('0x6'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':_0x592e('0x7')},{'type':'ma'},{'type':_0x592e('0x8')},{'type':'max'}]},{'type':'winbuf','winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':_0x592e('0x9'),'tick':[{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]};let fusionConfig={'connection':{'type':_0x592e('0xa')},'fusionModel':_0x592e('0xb'),'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':_0x592e('0xc'),'nodeid':'N1','aggrConfigId':_0x592e('0xc'),'fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':'pc'},{'type':_0x592e('0xd'),'name':_0x592e('0xe')},{'type':_0x592e('0xd'),'name':_0x592e('0xf')},{'type':_0x592e('0xd'),'name':'pc|ma|86400000'},{'type':_0x592e('0xd'),'name':_0x592e('0x10')},{'type':_0x592e('0xd'),'name':_0x592e('0x11')},{'type':'value','name':_0x592e('0x12')},{'type':_0x592e('0xd'),'name':_0x592e('0x13')},{'type':'value','name':_0x592e('0x14')},{'type':'value','name':_0x592e('0x15')},{'type':'value','name':_0x592e('0x16')},{'type':_0x592e('0xd'),'name':_0x592e('0x17')},{'type':'value','name':'pc|variance|604800000'}]},{'time':-0x18,'attributes':[{'type':'value','name':'pc'}]},{'time':-0x30,'attributes':[{'type':_0x592e('0xd'),'name':'pc'}]},{'time':-0xa8,'attributes':[{'type':_0x592e('0xd'),'name':'pc'}]}]},{'type':_0x592e('0x18'),'nodeid':_0x592e('0x18'),'aggrConfigId':_0x592e('0x18'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':_0x592e('0xd'),'name':_0x592e('0x19')},{'type':_0x592e('0xd'),'name':_0x592e('0x1a')},{'type':_0x592e('0xd'),'name':_0x592e('0x9')},{'type':_0x592e('0xd'),'name':_0x592e('0x1b')},{'type':_0x592e('0xd'),'name':_0x592e('0x1c')},{'type':'value','name':_0x592e('0x1d')},{'type':_0x592e('0xd'),'name':'dayOfYear'},{'type':'value','name':_0x592e('0x1e')}]}]},{'type':_0x592e('0x1f'),'nodeid':_0x592e('0x1f'),'aggrConfigId':_0x592e('0x1f'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':_0x592e('0xd'),'name':_0x592e('0x20')},{'type':'value','name':_0x592e('0x21')},{'type':_0x592e('0xd'),'name':_0x592e('0x22')},{'type':'value','name':'windSpeed24'},{'type':_0x592e('0xd'),'name':_0x592e('0x23')},{'type':'value','name':_0x592e('0x24')}]}]}]};describe(_0x592e('0x25'),function(){let _0x252078;let _0x450146;before(function(){fileManager[_0x592e('0x26')](_0x592e('0x27'));fileManager[_0x592e('0x28')](_0x592e('0x27'));_0x252078=new qm['Base']({'dbPath':_0x592e('0x27'),'mode':_0x592e('0x29')});_0x450146=new streamingNode(_0x252078,connectionConfig,fusionConfig[_0x592e('0x2a')][0x0],aggrConfigs,null,0x63,null);});after(function(){_0x252078[_0x592e('0x2b')]();});describe('initialization',function(){it('base\x20saved',function(){assert['equal'](_0x252078,_0x450146['base']);});it(_0x592e('0x2c'),function(){assert['deepEqual'](_0x450146[_0x592e('0x2d')],{});});it(_0x592e('0x2e'),function(){assert[_0x592e('0x2f')](_0x450146[_0x592e('0x30')],fusionConfig[_0x592e('0x2a')][0x0]);});it(_0x592e('0x31'),function(){assert[_0x592e('0x32')](_0x450146['fusionNodeI'],0x63);});it(_0x592e('0x33'),function(){assert['equal'](_0x450146[_0x592e('0x34')],null);});it(_0x592e('0x35'),function(){assert[_0x592e('0x32')](_0x450146['parent'],null);});it(_0x592e('0x36'),function(){assert['deepEqual'](_0x450146['buffer'],[]);});it(_0x592e('0x37'),function(){assert[_0x592e('0x32')](_0x450146[_0x592e('0x38')],0x0);});it(_0x592e('0x39'),function(){assert[_0x592e('0x32')](_0x450146['master'],!![]);});it(_0x592e('0x3a'),function(){assert[_0x592e('0x32')](_0x450146[_0x592e('0x3b')](),!![]);});it('connectToKafka\x20function\x20exists',function(){assert[_0x592e('0x32')](typeof _0x450146['connectToKafka'],'function');});it(_0x592e('0x3c'),function(){assert['equal'](typeof _0x450146[_0x592e('0x3d')],_0x592e('0x3e'));});it('createAggregates\x20function\x20exists',function(){assert['equal'](typeof _0x450146[_0x592e('0x3f')],_0x592e('0x3e'));});it('offsetExists\x20function\x20exists',function(){assert[_0x592e('0x32')](typeof _0x450146[_0x592e('0x40')],_0x592e('0x3e'));});it(_0x592e('0x41'),function(){assert[_0x592e('0x32')](typeof _0x450146[_0x592e('0x42')],'function');});it(_0x592e('0x43'),function(){assert[_0x592e('0x32')](typeof _0x450146[_0x592e('0x44')],_0x592e('0x3e'));});it(_0x592e('0x45'),function(){assert['equal'](typeof _0x450146[_0x592e('0x46')],'function');});it(_0x592e('0x47'),function(){assert['equal'](typeof _0x450146['getOffsetTimestamp'],_0x592e('0x3e'));});it('setMasterOffset\x20function\x20exists',function(){assert['equal'](typeof _0x450146['getOffsetTimestamp'],_0x592e('0x3e'));});it(_0x592e('0x48'),function(){assert['equal'](typeof _0x450146[_0x592e('0x49')],'function');});it(_0x592e('0x4a'),function(){assert[_0x592e('0x32')](typeof _0x450146['getPartialFeatureVector'],'function');});it(_0x592e('0x4b'),function(){assert['equal'](_0x450146['isMaster'](),!![]);});it(_0x592e('0x4c'),function(){_0x450146[_0x592e('0x4d')]();assert['equal'](_0x450146[_0x592e('0x38')],-0x1);});it(_0x592e('0x4e'),function(){assert[_0x592e('0x32')](_0x450146['setSlaveOffset'](0x0),![]);});});});