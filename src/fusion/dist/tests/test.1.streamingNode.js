const a0_0x2dd1=['isMaster\x20function','createAggregates\x20function\x20exists','position','none','setMasterOffset','humidity24','pc|variance|21600000','pc|max|86400000','offsetExists','getAggregates','cloudCover24','config\x20saved','master\x20set\x20correctly','buffer\x20empty','deleteObsoleteRows\x20function\x20exists','connectToKafka\x20function\x20exists','pc|ma|21600000','checkDataAvailability\x20function\x20exists','pc|ma|2592000000','min','static','equal','192.168.85.98:2181','getAggregates\x20function\x20exists','master\x20flag\x20set\x20correctly','pc|ma|3600000','setSlaveOffset\x20function\x20exists','pc|ma|86400000','test','base\x20saved','../common/utils/fileManager.js','broadcastAggregates','dayBeforeHoliday','winbuf','initialization','Base','createFolder','getPartialFeatureVector\x20function\x20exists','windSpeed24','holiday','pc|max|604800000','max','./db2/','parent','weather','qminer','fusionNodeI','pressure24','variance','config','value','removeFolder','aggregate','broadcastAggregates\x20function\x20exists','deleteObsoleteRows','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','nodes','pc|min|604800000','isMaster','timeOfDay','function','constructor','master\x20offset\x20set\x20correctly','apply','energy','monthOfYear','pc|variance|604800000','windBearing24','callback\x20function\x20should\x20be\x20set','aggregates\x20initialized','createAggregates','../nodes/streamingStaticNode.js','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../nodes/streamingWeatherNode.js','weekEnd','getPartialFeatureVector','setSlaveOffset','deepEqual','../nodes/streamingNode.js','pc|min|86400000','getOffsetTimestamp\x20function\x20exists','offsetExists\x20function\x20exists'];(function(_0xed787b,_0x2dd1c4){const _0x3dc2fb=function(_0x226e89){while(--_0x226e89){_0xed787b['push'](_0xed787b['shift']());}},_0x38baa2=function(){const _0x38141d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x32861a,_0x2f9b21,_0x248ac2,_0x223f47){_0x223f47=_0x223f47||{};let _0x40f20a=_0x2f9b21+'='+_0x248ac2,_0x2ed9a3=0x0;for(let _0x43a3ce=0x0,_0x3cc763=_0x32861a['length'];_0x43a3ce<_0x3cc763;_0x43a3ce++){const _0x1ffc36=_0x32861a[_0x43a3ce];_0x40f20a+=';\x20'+_0x1ffc36;const _0x36f179=_0x32861a[_0x1ffc36];_0x32861a['push'](_0x36f179),_0x3cc763=_0x32861a['length'],_0x36f179!==!![]&&(_0x40f20a+='='+_0x36f179);}_0x223f47['cookie']=_0x40f20a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3fc8b1,_0x578375){_0x3fc8b1=_0x3fc8b1||function(_0x1f7648){return _0x1f7648;};const _0x4862c=_0x3fc8b1(new RegExp('(?:^|;\x20)'+_0x578375['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x1a448a=function(_0x2bee21,_0x49048d){_0x2bee21(++_0x49048d);};return _0x1a448a(_0x3dc2fb,_0x2dd1c4),_0x4862c?decodeURIComponent(_0x4862c[0x1]):undefined;}},_0x2b94ac=function(){const _0x3b53dc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3b53dc['test'](_0x38141d['removeCookie']['toString']());};_0x38141d['updateCookie']=_0x2b94ac;let _0xf25315='';const _0x5bccde=_0x38141d['updateCookie']();if(!_0x5bccde)_0x38141d['setCookie'](['*'],'counter',0x1);else _0x5bccde?_0xf25315=_0x38141d['getCookie'](null,'counter'):_0x38141d['removeCookie']();};_0x38baa2();}(a0_0x2dd1,0xa2));const a0_0x3dc2=function(_0xed787b,_0x2dd1c4){_0xed787b=_0xed787b-0x0;let _0x3dc2fb=a0_0x2dd1[_0xed787b];return _0x3dc2fb;};const a0_0x248ac2=function(){let _0x2d51ae=!![];return function(_0x15ffb8,_0x291df0){const _0x25ff2b=_0x2d51ae?function(){if(_0x291df0){const _0x16d035=_0x291df0[a0_0x3dc2('0x41')](_0x15ffb8,arguments);return _0x291df0=null,_0x16d035;}}:function(){};return _0x2d51ae=![],_0x25ff2b;};}(),a0_0x2f9b21=a0_0x248ac2(this,function(){const _0xfbe996=function(){const _0x18855a=_0xfbe996[a0_0x3dc2('0x3f')](a0_0x3dc2('0x4a'))()[a0_0x3dc2('0x3f')](a0_0x3dc2('0x39'));return!_0x18855a[a0_0x3dc2('0x1e')](a0_0x2f9b21);};return _0xfbe996();});a0_0x2f9b21();const streamingNode=require(a0_0x3dc2('0x50')),streamingEnergyNode=require('../nodes/streamingEnergyNode.js'),streamingWeatherNode=require(a0_0x3dc2('0x4b')),streamingStaticNode=require(a0_0x3dc2('0x49')),fileManager=require(a0_0x3dc2('0x20')),qm=require(a0_0x3dc2('0x2f')),fs=require('fs');var assert=require('assert');let connectionConfig={'zookeeper':a0_0x3dc2('0x18')},aggrConfigs={'energy':[{'field':'pc','tick':[{'type':a0_0x3dc2('0x23'),'winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x3dc2('0x32')},{'type':'ma'}]},{'type':a0_0x3dc2('0x23'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x3dc2('0x32')},{'type':'ma'},{'type':a0_0x3dc2('0x15')},{'type':a0_0x3dc2('0x2b')}]},{'type':a0_0x3dc2('0x23'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':a0_0x3dc2('0x32')},{'type':'ma'},{'type':'min'},{'type':a0_0x3dc2('0x2b')}]},{'type':a0_0x3dc2('0x23'),'winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':a0_0x3dc2('0x29'),'tick':[{'type':a0_0x3dc2('0x23'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'connection':{'type':a0_0x3dc2('0x5')},'fusionModel':a0_0x3dc2('0x1e'),'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':'energy','nodeid':'N1','aggrConfigId':a0_0x3dc2('0x42'),'fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x3dc2('0x34'),'name':'pc'},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x1b')},{'type':'value','name':a0_0x3dc2('0x12')},{'type':'value','name':a0_0x3dc2('0x1d')},{'type':'value','name':'pc|ma|604800000'},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x14')},{'type':'value','name':a0_0x3dc2('0x51')},{'type':'value','name':a0_0x3dc2('0x3b')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x9')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x2a')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x8')},{'type':a0_0x3dc2('0x34'),'name':'pc|variance|86400000'},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x44')}]},{'time':-0x18,'attributes':[{'type':a0_0x3dc2('0x34'),'name':'pc'}]},{'time':-0x30,'attributes':[{'type':a0_0x3dc2('0x34'),'name':'pc'}]},{'time':-0xa8,'attributes':[{'type':a0_0x3dc2('0x34'),'name':'pc'}]}]},{'type':a0_0x3dc2('0x16'),'nodeid':a0_0x3dc2('0x16'),'aggrConfigId':a0_0x3dc2('0x16'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x3d')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x4c')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x29')},{'type':'value','name':'dayAfterHoliday'},{'type':'value','name':a0_0x3dc2('0x22')},{'type':'value','name':'dayOfWeek'},{'type':a0_0x3dc2('0x34'),'name':'dayOfYear'},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x43')}]}]},{'type':'weather','nodeid':a0_0x3dc2('0x2e'),'aggrConfigId':a0_0x3dc2('0x2e'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x3dc2('0x34'),'name':'temperature24'},{'type':'value','name':a0_0x3dc2('0x7')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x31')},{'type':'value','name':a0_0x3dc2('0x28')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0x45')},{'type':a0_0x3dc2('0x34'),'name':a0_0x3dc2('0xc')}]}]}]};describe('streamingNode',function(){let _0xd08c19,_0x159241;before(function(){fileManager[a0_0x3dc2('0x35')](a0_0x3dc2('0x2c')),fileManager[a0_0x3dc2('0x26')](a0_0x3dc2('0x2c')),_0xd08c19=new qm[(a0_0x3dc2('0x25'))]({'dbPath':'./db2/','mode':'createClean'}),_0x159241=new streamingNode(_0xd08c19,connectionConfig,fusionConfig[a0_0x3dc2('0x3a')][0x0],aggrConfigs,null,0x63,null);}),after(function(){_0xd08c19['close']();}),describe(a0_0x3dc2('0x24'),function(){it(a0_0x3dc2('0x1f'),function(){assert[a0_0x3dc2('0x17')](_0xd08c19,_0x159241['base']);}),it(a0_0x3dc2('0x47'),function(){assert[a0_0x3dc2('0x4f')](_0x159241[a0_0x3dc2('0x36')],{});}),it(a0_0x3dc2('0xd'),function(){assert[a0_0x3dc2('0x4f')](_0x159241[a0_0x3dc2('0x33')],fusionConfig['nodes'][0x0]);}),it('fusionNodeI\x20correctly\x20saved',function(){assert['equal'](_0x159241[a0_0x3dc2('0x30')],0x63);}),it(a0_0x3dc2('0x46'),function(){assert[a0_0x3dc2('0x17')](_0x159241['processRecordCb'],null);}),it('parent\x20saved',function(){assert[a0_0x3dc2('0x17')](_0x159241[a0_0x3dc2('0x2d')],null);}),it(a0_0x3dc2('0xf'),function(){assert[a0_0x3dc2('0x4f')](_0x159241['buffer'],[]);}),it('buffer\x20position\x20is\x200',function(){assert['equal'](_0x159241[a0_0x3dc2('0x4')],0x0);}),it(a0_0x3dc2('0x1a'),function(){assert['equal'](_0x159241['master'],!![]);}),it(a0_0x3dc2('0x2'),function(){assert[a0_0x3dc2('0x17')](_0x159241['isMaster'](),!![]);}),it(a0_0x3dc2('0x11'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241['connectToKafka'],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x37'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241[a0_0x3dc2('0x21')],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x3'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241[a0_0x3dc2('0x48')],'function');}),it(a0_0x3dc2('0x1'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241[a0_0x3dc2('0xa')],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x10'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241[a0_0x3dc2('0x38')],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x13'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241['checkDataAvailability'],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x1c'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241[a0_0x3dc2('0x4e')],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x0'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241['getOffsetTimestamp'],a0_0x3dc2('0x3e'));}),it('setMasterOffset\x20function\x20exists',function(){assert[a0_0x3dc2('0x17')](typeof _0x159241['getOffsetTimestamp'],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x19'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241[a0_0x3dc2('0xb')],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0x27'),function(){assert[a0_0x3dc2('0x17')](typeof _0x159241[a0_0x3dc2('0x4d')],a0_0x3dc2('0x3e'));}),it(a0_0x3dc2('0xe'),function(){assert['equal'](_0x159241[a0_0x3dc2('0x3c')](),!![]);}),it(a0_0x3dc2('0x40'),function(){_0x159241[a0_0x3dc2('0x6')](),assert[a0_0x3dc2('0x17')](_0x159241['position'],-0x1);}),it('slave\x20offset\x20set\x20correctly:\x20no\x20data',function(){assert[a0_0x3dc2('0x17')](_0x159241['setSlaveOffset'](0x0),![]);});});});