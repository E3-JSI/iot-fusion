var _0x25b6=['base\x20saved','equal','aggregates\x20initialized','deepEqual','aggregate','config\x20saved','nodes','fusionNodeI\x20correctly\x20saved','fusionNodeI','parent\x20saved','parent','buffer\x20empty','buffer','buffer\x20position\x20is\x200','position','master\x20flag\x20set\x20correctly','master','isMaster\x20function','isMaster','connectToKafka\x20function\x20exists','function','broadcastAggregates\x20function\x20exists','broadcastAggregates','createAggregates\x20function\x20exists','offsetExists\x20function\x20exists','offsetExists','deleteObsoleteRows\x20function\x20exists','checkDataAvailability','setSlaveOffset','getOffsetTimestamp\x20function\x20exists','getOffsetTimestamp','getAggregates\x20function\x20exists','getPartialFeatureVector','master\x20set\x20correctly','master\x20offset\x20set\x20correctly','setMasterOffset','slave\x20offset\x20set\x20correctly:\x20no\x20data','../nodes/streamingWeatherNode.js','../nodes/streamingStaticNode.js','qminer','assert','192.168.85.98:2181','winbuf','variance','min','max','energy','value','pc|ma|21600000','pc|ma|86400000','pc|ma|604800000','pc|ma|2592000000','pc|min|86400000','pc|max|604800000','pc|variance|21600000','pc|variance|86400000','pc|variance|604800000','static','holiday','dayAfterHoliday','dayBeforeHoliday','dayOfWeek','dayOfYear','weather','temperature24','humidity24','pressure24','windSpeed24','cloudCover24','streamingNode','removeFolder','./db2/','createFolder','createClean','close','initialization'];(function(_0x430b84,_0x28603d){var _0x751536=function(_0x3a3816){while(--_0x3a3816){_0x430b84['push'](_0x430b84['shift']());}};var _0x4525d3=function(){var _0x4ac625={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x39ce53,_0x31b60c,_0x3d0d3a,_0x33ec81){_0x33ec81=_0x33ec81||{};var _0x5f54e8=_0x31b60c+'='+_0x3d0d3a;var _0x477a48=0x0;for(var _0x477a48=0x0,_0x456ab3=_0x39ce53['length'];_0x477a48<_0x456ab3;_0x477a48++){var _0x495cf4=_0x39ce53[_0x477a48];_0x5f54e8+=';\x20'+_0x495cf4;var _0x15a95d=_0x39ce53[_0x495cf4];_0x39ce53['push'](_0x15a95d);_0x456ab3=_0x39ce53['length'];if(_0x15a95d!==!![]){_0x5f54e8+='='+_0x15a95d;}}_0x33ec81['cookie']=_0x5f54e8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x229e68,_0x4d47bb){_0x229e68=_0x229e68||function(_0xce38b3){return _0xce38b3;};var _0x5aaca1=_0x229e68(new RegExp('(?:^|;\x20)'+_0x4d47bb['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3a8ca6=function(_0x586b8e,_0x2cdf6d){_0x586b8e(++_0x2cdf6d);};_0x3a8ca6(_0x751536,_0x28603d);return _0x5aaca1?decodeURIComponent(_0x5aaca1[0x1]):undefined;}};var _0x324a67=function(){var _0xe62061=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xe62061['test'](_0x4ac625['removeCookie']['toString']());};_0x4ac625['updateCookie']=_0x324a67;var _0x52878d='';var _0x59b7ef=_0x4ac625['updateCookie']();if(!_0x59b7ef){_0x4ac625['setCookie'](['*'],'counter',0x1);}else if(_0x59b7ef){_0x52878d=_0x4ac625['getCookie'](null,'counter');}else{_0x4ac625['removeCookie']();}};_0x4525d3();}(_0x25b6,0x1a1));var _0x2b70=function(_0x9cee5f,_0x14716e){_0x9cee5f=_0x9cee5f-0x0;var _0xabb651=_0x25b6[_0x9cee5f];return _0xabb651;};var _0xec8dc9=function(){var _0x47c43f=!![];return function(_0x22dfdf,_0x3bf72a){var _0x365a84=_0x47c43f?function(){if(_0x3bf72a){var _0x4d8532=_0x3bf72a['apply'](_0x22dfdf,arguments);_0x3bf72a=null;return _0x4d8532;}}:function(){};_0x47c43f=![];return _0x365a84;};}();var _0x3bd869=_0xec8dc9(this,function(){var _0x44e985=function(){return'\x64\x65\x76';},_0x2ee65d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x374ac3=function(){var _0x27a688=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x27a688['\x74\x65\x73\x74'](_0x44e985['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x285930=function(){var _0x4e1510=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4e1510['\x74\x65\x73\x74'](_0x2ee65d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xd88e3c=function(_0x142f36){var _0x4047a3=~-0x1>>0x1+0xff%0x0;if(_0x142f36['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x4047a3)){_0x3385d1(_0x142f36);}};var _0x3385d1=function(_0x3876bf){var _0x4edee9=~-0x4>>0x1+0xff%0x0;if(_0x3876bf['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4edee9){_0xd88e3c(_0x3876bf);}};if(!_0x374ac3()){if(!_0x285930()){_0xd88e3c('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0xd88e3c('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0xd88e3c('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3bd869();const streamingNode=require('../nodes/streamingNode.js');const streamingEnergyNode=require('../nodes/streamingEnergyNode.js');const streamingWeatherNode=require(_0x2b70('0x0'));const streamingStaticNode=require(_0x2b70('0x1'));const fileManager=require('../../common/utils/fileManager.js');const qm=require(_0x2b70('0x2'));const fs=require('fs');var assert=require(_0x2b70('0x3'));let connectionConfig={'zookeeper':_0x2b70('0x4')};let aggrConfigs={'energy':[{'field':'pc','tick':[{'type':_0x2b70('0x5'),'winsize':0x1*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x2b70('0x5'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'variance'},{'type':'ma'}]},{'type':_0x2b70('0x5'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':_0x2b70('0x6')},{'type':'ma'},{'type':_0x2b70('0x7')},{'type':_0x2b70('0x8')}]},{'type':_0x2b70('0x5'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':_0x2b70('0x6')},{'type':'ma'},{'type':'min'},{'type':_0x2b70('0x8')}]},{'type':'winbuf','winsize':0x1e*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':'holiday','tick':[{'type':_0x2b70('0x5'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]};let fusionConfig={'connection':{'type':'none'},'fusionModel':'test','fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':_0x2b70('0x9'),'nodeid':'N1','aggrConfigId':_0x2b70('0x9'),'fusionTick':0x3c*0x3c*0x3e8,'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':_0x2b70('0xa'),'name':'pc'},{'type':_0x2b70('0xa'),'name':'pc|ma|3600000'},{'type':_0x2b70('0xa'),'name':_0x2b70('0xb')},{'type':_0x2b70('0xa'),'name':_0x2b70('0xc')},{'type':_0x2b70('0xa'),'name':_0x2b70('0xd')},{'type':_0x2b70('0xa'),'name':_0x2b70('0xe')},{'type':'value','name':_0x2b70('0xf')},{'type':_0x2b70('0xa'),'name':'pc|min|604800000'},{'type':_0x2b70('0xa'),'name':'pc|max|86400000'},{'type':'value','name':_0x2b70('0x10')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x11')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x12')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x13')}]},{'time':-0x18,'attributes':[{'type':_0x2b70('0xa'),'name':'pc'}]},{'time':-0x30,'attributes':[{'type':_0x2b70('0xa'),'name':'pc'}]},{'time':-0xa8,'attributes':[{'type':_0x2b70('0xa'),'name':'pc'}]}]},{'type':_0x2b70('0x14'),'nodeid':_0x2b70('0x14'),'aggrConfigId':'static','fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x18,'attributes':[{'type':_0x2b70('0xa'),'name':'timeOfDay'},{'type':_0x2b70('0xa'),'name':'weekEnd'},{'type':_0x2b70('0xa'),'name':_0x2b70('0x15')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x16')},{'type':'value','name':_0x2b70('0x17')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x18')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x19')},{'type':'value','name':'monthOfYear'}]}]},{'type':_0x2b70('0x1a'),'nodeid':_0x2b70('0x1a'),'aggrConfigId':_0x2b70('0x1a'),'fusionTick':0x3c*0x3c*0x3e8,'master':![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':_0x2b70('0x1b')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x1c')},{'type':_0x2b70('0xa'),'name':_0x2b70('0x1d')},{'type':'value','name':_0x2b70('0x1e')},{'type':_0x2b70('0xa'),'name':'windBearing24'},{'type':_0x2b70('0xa'),'name':_0x2b70('0x1f')}]}]}]};describe(_0x2b70('0x20'),function(){let _0x58bc3c;let _0x1bc0ac;before(function(){fileManager[_0x2b70('0x21')](_0x2b70('0x22'));fileManager[_0x2b70('0x23')](_0x2b70('0x22'));_0x58bc3c=new qm['Base']({'dbPath':'./db2/','mode':_0x2b70('0x24')});_0x1bc0ac=new streamingNode(_0x58bc3c,connectionConfig,fusionConfig['nodes'][0x0],aggrConfigs,null,0x63,null);});after(function(){_0x58bc3c[_0x2b70('0x25')]();});describe(_0x2b70('0x26'),function(){it(_0x2b70('0x27'),function(){assert[_0x2b70('0x28')](_0x58bc3c,_0x1bc0ac['base']);});it(_0x2b70('0x29'),function(){assert[_0x2b70('0x2a')](_0x1bc0ac[_0x2b70('0x2b')],{});});it(_0x2b70('0x2c'),function(){assert[_0x2b70('0x2a')](_0x1bc0ac['config'],fusionConfig[_0x2b70('0x2d')][0x0]);});it(_0x2b70('0x2e'),function(){assert['equal'](_0x1bc0ac[_0x2b70('0x2f')],0x63);});it('callback\x20function\x20should\x20be\x20set',function(){assert[_0x2b70('0x28')](_0x1bc0ac['processRecordCb'],null);});it(_0x2b70('0x30'),function(){assert['equal'](_0x1bc0ac[_0x2b70('0x31')],null);});it(_0x2b70('0x32'),function(){assert[_0x2b70('0x2a')](_0x1bc0ac[_0x2b70('0x33')],[]);});it(_0x2b70('0x34'),function(){assert[_0x2b70('0x28')](_0x1bc0ac[_0x2b70('0x35')],0x0);});it(_0x2b70('0x36'),function(){assert['equal'](_0x1bc0ac[_0x2b70('0x37')],!![]);});it(_0x2b70('0x38'),function(){assert[_0x2b70('0x28')](_0x1bc0ac[_0x2b70('0x39')](),!![]);});it(_0x2b70('0x3a'),function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac['connectToKafka'],_0x2b70('0x3b'));});it(_0x2b70('0x3c'),function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac[_0x2b70('0x3d')],_0x2b70('0x3b'));});it(_0x2b70('0x3e'),function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac['createAggregates'],_0x2b70('0x3b'));});it(_0x2b70('0x3f'),function(){assert['equal'](typeof _0x1bc0ac[_0x2b70('0x40')],_0x2b70('0x3b'));});it(_0x2b70('0x41'),function(){assert['equal'](typeof _0x1bc0ac['deleteObsoleteRows'],_0x2b70('0x3b'));});it('checkDataAvailability\x20function\x20exists',function(){assert['equal'](typeof _0x1bc0ac[_0x2b70('0x42')],_0x2b70('0x3b'));});it('setSlaveOffset\x20function\x20exists',function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac[_0x2b70('0x43')],_0x2b70('0x3b'));});it(_0x2b70('0x44'),function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac[_0x2b70('0x45')],_0x2b70('0x3b'));});it('setMasterOffset\x20function\x20exists',function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac[_0x2b70('0x45')],'function');});it(_0x2b70('0x46'),function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac['getAggregates'],_0x2b70('0x3b'));});it('getPartialFeatureVector\x20function\x20exists',function(){assert[_0x2b70('0x28')](typeof _0x1bc0ac[_0x2b70('0x47')],_0x2b70('0x3b'));});it(_0x2b70('0x48'),function(){assert['equal'](_0x1bc0ac['isMaster'](),!![]);});it(_0x2b70('0x49'),function(){_0x1bc0ac[_0x2b70('0x4a')]();assert[_0x2b70('0x28')](_0x1bc0ac['position'],-0x1);});it(_0x2b70('0x4b'),function(){assert[_0x2b70('0x28')](_0x1bc0ac[_0x2b70('0x43')](0x0),![]);});});});