const a0_0x5d2e=['incremental\x20model','model','test','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','StructuredEMA','../common/utils/fileManager.js','EMA','update\x20incremental\x20model\x20-\x20first\x20time','update\x20many\x20different\x20models','apply','ilEMA\x20instantiated','incremental\x20learning\x20component\x20-\x20EMA','constructor','fakeFusion','imSEMA\x20instantiated','SEMA\x20model','updateStream','equal','RecLinReg','update\x20model\x20-\x20first\x20time','update\x20incremental\x20mode\x20-\x20with\x20value\x2040','object','deepEqual','../models/EMA','return\x20/\x22\x20+\x20this\x20+\x20\x22/','incremental\x20learning\x20component\x20-\x20RecLinReg','../models/StructuredEMA','update\x20model\x20-\x20with\x20value\x2040','initial\x20prediction','ilSEMA\x20instantiated','update\x20model\x20-\x209\x20more\x20times','partialFit','predict','toFixed','assert'];(function(_0x4f608d,_0x5d2e4a){const _0x1614e7=function(_0xe4d0f9){while(--_0xe4d0f9){_0x4f608d['push'](_0x4f608d['shift']());}},_0xf4380a=function(){const _0x3caf31={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3a6f69,_0x466796,_0x1b0f98,_0x39cf81){_0x39cf81=_0x39cf81||{};let _0x6fcb37=_0x466796+'='+_0x1b0f98,_0x4033ea=0x0;for(let _0x80ac23=0x0,_0x1be367=_0x3a6f69['length'];_0x80ac23<_0x1be367;_0x80ac23++){const _0x22d29e=_0x3a6f69[_0x80ac23];_0x6fcb37+=';\x20'+_0x22d29e;const _0x10cd18=_0x3a6f69[_0x22d29e];_0x3a6f69['push'](_0x10cd18),_0x1be367=_0x3a6f69['length'],_0x10cd18!==!![]&&(_0x6fcb37+='='+_0x10cd18);}_0x39cf81['cookie']=_0x6fcb37;},'removeCookie':function(){return'dev';},'getCookie':function(_0x48a5bb,_0x2e7a65){_0x48a5bb=_0x48a5bb||function(_0x4c0a46){return _0x4c0a46;};const _0x322962=_0x48a5bb(new RegExp('(?:^|;\x20)'+_0x2e7a65['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3b075c=function(_0x32e067,_0x23b280){_0x32e067(++_0x23b280);};return _0x3b075c(_0x1614e7,_0x5d2e4a),_0x322962?decodeURIComponent(_0x322962[0x1]):undefined;}},_0x319713=function(){const _0x21461d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x21461d['test'](_0x3caf31['removeCookie']['toString']());};_0x3caf31['updateCookie']=_0x319713;let _0x84527='';const _0x7ee99b=_0x3caf31['updateCookie']();if(!_0x7ee99b)_0x3caf31['setCookie'](['*'],'counter',0x1);else _0x7ee99b?_0x84527=_0x3caf31['getCookie'](null,'counter'):_0x3caf31['removeCookie']();};_0xf4380a();}(a0_0x5d2e,0x1b1));const a0_0x1614=function(_0x4f608d,_0x5d2e4a){_0x4f608d=_0x4f608d-0x0;let _0x1614e7=a0_0x5d2e[_0x4f608d];return _0x1614e7;};const a0_0x1b0f98=function(){let _0x2c0f4d=!![];return function(_0x13c2eb,_0x15cf6f){const _0x9acdf1=_0x2c0f4d?function(){if(_0x15cf6f){const _0x31f756=_0x15cf6f[a0_0x1614('0x1f')](_0x13c2eb,arguments);return _0x15cf6f=null,_0x31f756;}}:function(){};return _0x2c0f4d=![],_0x9acdf1;};}(),a0_0x466796=a0_0x1b0f98(this,function(){const _0x40689a=function(){const _0x59dba7=_0x40689a[a0_0x1614('0x22')](a0_0x1614('0xb'))()[a0_0x1614('0x22')](a0_0x1614('0x19'));return!_0x59dba7[a0_0x1614('0x18')](a0_0x466796);};return _0x40689a();});a0_0x466796();const IncrementalLearning=require('../models/IncrementalLearning'),EMAIncrementalModel=require(a0_0x1614('0xa')),StructuredEMAIncrementalModel=require(a0_0x1614('0xd')),fileManager=require(a0_0x1614('0x1b')),qm=require('qminer'),fs=require('fs');var assert=require(a0_0x1614('0x15'));const modelConfigEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x1614('0x1c')}}},modelConfigRecLinReg={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x1614('0x5')}}},modelConfigSEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'structuralFactorPosition':0x1,'method':a0_0x1614('0x1a')}}},fakeFusion={'fusion_id':a0_0x1614('0x0')};describe(a0_0x1614('0x16'),function(){let _0x330744;before(function(){ilEMA=new IncrementalLearning(modelConfigEMA,fakeFusion),ilRecLinReg=new IncrementalLearning(modelConfigRecLinReg,fakeFusion),ilSEMA=new IncrementalLearning(modelConfigSEMA,fakeFusion),imEMA=new EMAIncrementalModel(modelConfigEMA[a0_0x1614('0x17')]['options'],fakeFusion),imSEMA=new StructuredEMAIncrementalModel(modelConfigSEMA['model']['options'],fakeFusion);}),after(function(){}),describe('EMA\x20model',function(){it('imEMA\x20instantiated',function(){assert[a0_0x1614('0x4')](typeof imEMA,a0_0x1614('0x8'));}),it('initial\x20prediction',function(){assert[a0_0x1614('0x4')](imEMA[a0_0x1614('0x13')](),null);}),it(a0_0x1614('0x6'),function(){imEMA[a0_0x1614('0x12')]([],0x2a),assert[a0_0x1614('0x4')](imEMA[a0_0x1614('0x13')](),0x2a);}),it(a0_0x1614('0x11'),function(){for(let _0x557674=0x0;_0x557674<0x9;_0x557674++){imEMA[a0_0x1614('0x12')]([],0x2a);};assert[a0_0x1614('0x4')](imEMA[a0_0x1614('0x13')](),0x2a);}),it('update\x20model\x20-\x20with\x20value\x2040',function(){imEMA[a0_0x1614('0x12')]([],0x28),assert[a0_0x1614('0x4')](imEMA[a0_0x1614('0x13')](),41.333333333333336);});}),describe(a0_0x1614('0x2'),function(){it(a0_0x1614('0x1'),function(){assert['equal'](typeof imSEMA,a0_0x1614('0x8'));}),it(a0_0x1614('0xf'),function(){assert[a0_0x1614('0x4')](imSEMA[a0_0x1614('0x13')]([0x0,0x0]),null);}),it(a0_0x1614('0x6'),function(){imSEMA['partialFit']([0x0,0x0],0x2a),assert[a0_0x1614('0x4')](imSEMA[a0_0x1614('0x13')]([0x0,0x0]),0x2a);}),it(a0_0x1614('0x11'),function(){for(let _0x5c4555=0x0;_0x5c4555<0x9;_0x5c4555++){imSEMA[a0_0x1614('0x12')]([0x0,0x0],0x2a);};assert[a0_0x1614('0x4')](imSEMA[a0_0x1614('0x13')]([0x0,0x0]),0x2a);}),it(a0_0x1614('0xe'),function(){imSEMA[a0_0x1614('0x12')]([0x0,0x0],0x28),assert[a0_0x1614('0x4')](imSEMA[a0_0x1614('0x13')]([0x0,0x0]),41.333333333333336);}),it(a0_0x1614('0x1e'),function(){for(let _0x3e5e22=0x0;_0x3e5e22<0x3;_0x3e5e22++){for(let _0x969f28=0x0;_0x969f28<0x18;_0x969f28++){imSEMA[a0_0x1614('0x12')]([0x0,_0x969f28],_0x969f28+_0x3e5e22);}}for(let _0x351990=0x1;_0x351990<0x18;_0x351990++){assert[a0_0x1614('0x4')](imSEMA[a0_0x1614('0x13')]([0x0,_0x351990])[a0_0x1614('0x14')](0x5),_0x351990+0.88889);}});}),describe(a0_0x1614('0x21'),function(){it(a0_0x1614('0x20'),function(){assert[a0_0x1614('0x4')](typeof ilEMA,a0_0x1614('0x8'));}),it(a0_0x1614('0x1d'),function(){assert[a0_0x1614('0x9')](ilEMA['updateStream']([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3}),ilEMA[a0_0x1614('0x3')]([0x2a,0x1],0x1*0x36ee80),ilEMA['updateStream']([0x2a,0x2],0x2*0x36ee80),ilEMA[a0_0x1614('0x3')]([0x2a,0x3],0x3*0x36ee80),ilEMA['updateStream']([0x2a,0x4],0x4*0x36ee80),assert[a0_0x1614('0x9')](ilEMA[a0_0x1614('0x3')]([0x2a,0x5],0x5*0x36ee80),{'ts':0x1b77400,'value':0x2a,'horizon':0x3});}),it(a0_0x1614('0x7'),function(){assert['deepEqual'](ilEMA[a0_0x1614('0x3')]([0x28,0x6],0x6*0x36ee80),{'ts':0x1ee6280,'value':41.333333333333336,'horizon':0x3});});}),describe(a0_0x1614('0xc'),function(){it('ilRecLinReg\x20instantiated',function(){assert[a0_0x1614('0x4')](typeof ilRecLinReg,a0_0x1614('0x8'));}),it('update\x20incremental\x20model\x20-\x20first\x20time',function(){assert[a0_0x1614('0x9')](ilRecLinReg['updateStream']([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':0x0,'horizon':0x3});for(let _0x3e5fba=0x1;_0x3e5fba<0x28;_0x3e5fba++){ilRecLinReg[a0_0x1614('0x3')]([0x2a+_0x3e5fba,_0x3e5fba],_0x3e5fba*0x36ee80);}i=0x28,assert[a0_0x1614('0x9')](ilRecLinReg['updateStream']([0x2a+i,i],i*0x36ee80),{'ts':0x93a0f80,'value':85.0736902918679,'horizon':0x3});});}),describe('incremental\x20learning\x20component\x20-\x20StructuredEMA',function(){it(a0_0x1614('0x10'),function(){assert[a0_0x1614('0x4')](typeof ilSEMA,'object');}),it('update\x20incremental\x20model\x20-\x20first\x20time',function(){assert['deepEqual'](ilSEMA['updateStream']([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3});for(let _0x3a2cf=0x1;_0x3a2cf<0x48;_0x3a2cf++){ilSEMA[a0_0x1614('0x3')]([0x2a+_0x3a2cf,_0x3a2cf%0x18],_0x3a2cf*0x36ee80);}i=0x49,assert[a0_0x1614('0x9')](ilSEMA[a0_0x1614('0x3')]([0x2a+i,i%0x18],i*0x36ee80),{'ts':0x104ece00,'value':67.33333333333334,'horizon':0x3});});});});