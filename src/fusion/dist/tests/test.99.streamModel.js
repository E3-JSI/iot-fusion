const a0_0x360b=['qminer','StructuredEMA','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../models/StructuredEMA','equal','initial\x20prediction','update\x20incremental\x20mode\x20-\x20with\x20value\x2040','constructor','../common/utils/fileManager.js','EMA','incremental\x20learning\x20component\x20-\x20StructuredEMA','incremental\x20model','RecLinReg','update\x20model\x20-\x20with\x20value\x2040','updateStream','update\x20incremental\x20model\x20-\x20first\x20time','ilSEMA\x20instantiated','model','../models/EMA','../models/IncrementalLearning','incremental\x20learning\x20component\x20-\x20EMA','partialFit','toFixed','predict','fakeFusion','incremental\x20learning\x20component\x20-\x20RecLinReg','object','test','return\x20/\x22\x20+\x20this\x20+\x20\x22/','apply','update\x20model\x20-\x209\x20more\x20times','deepEqual','imEMA\x20instantiated'];(function(_0x2314b2,_0x360b1d){const _0x6e0b59=function(_0x6dd493){while(--_0x6dd493){_0x2314b2['push'](_0x2314b2['shift']());}},_0x58b799=function(){const _0x5e1dfb={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3a3716,_0x3fd061,_0x55c62a,_0xc985d0){_0xc985d0=_0xc985d0||{};let _0x39cece=_0x3fd061+'='+_0x55c62a,_0x648002=0x0;for(let _0x25b1d7=0x0,_0x408ac0=_0x3a3716['length'];_0x25b1d7<_0x408ac0;_0x25b1d7++){const _0x23ac0e=_0x3a3716[_0x25b1d7];_0x39cece+=';\x20'+_0x23ac0e;const _0x23e3ab=_0x3a3716[_0x23ac0e];_0x3a3716['push'](_0x23e3ab),_0x408ac0=_0x3a3716['length'],_0x23e3ab!==!![]&&(_0x39cece+='='+_0x23e3ab);}_0xc985d0['cookie']=_0x39cece;},'removeCookie':function(){return'dev';},'getCookie':function(_0x12dca3,_0x312395){_0x12dca3=_0x12dca3||function(_0x32a2d3){return _0x32a2d3;};const _0x19dc40=_0x12dca3(new RegExp('(?:^|;\x20)'+_0x312395['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2748e5=function(_0x595ed0,_0x227968){_0x595ed0(++_0x227968);};return _0x2748e5(_0x6e0b59,_0x360b1d),_0x19dc40?decodeURIComponent(_0x19dc40[0x1]):undefined;}},_0x5a4519=function(){const _0xf9e307=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xf9e307['test'](_0x5e1dfb['removeCookie']['toString']());};_0x5e1dfb['updateCookie']=_0x5a4519;let _0x1fa139='';const _0x4c896b=_0x5e1dfb['updateCookie']();if(!_0x4c896b)_0x5e1dfb['setCookie'](['*'],'counter',0x1);else _0x4c896b?_0x1fa139=_0x5e1dfb['getCookie'](null,'counter'):_0x5e1dfb['removeCookie']();};_0x58b799();}(a0_0x360b,0xf7));const a0_0x6e0b=function(_0x2314b2,_0x360b1d){_0x2314b2=_0x2314b2-0x0;let _0x6e0b59=a0_0x360b[_0x2314b2];return _0x6e0b59;};const a0_0x55c62a=function(){let _0x572aed=!![];return function(_0x26e384,_0x305891){const _0x57a38d=_0x572aed?function(){if(_0x305891){const _0x1400ec=_0x305891[a0_0x6e0b('0xd')](_0x26e384,arguments);return _0x305891=null,_0x1400ec;}}:function(){};return _0x572aed=![],_0x57a38d;};}(),a0_0x3fd061=a0_0x55c62a(this,function(){const _0x6e1b6f=function(){const _0x3285f0=_0x6e1b6f[a0_0x6e0b('0x18')](a0_0x6e0b('0xc'))()[a0_0x6e0b('0x18')](a0_0x6e0b('0x13'));return!_0x3285f0[a0_0x6e0b('0xb')](a0_0x3fd061);};return _0x6e1b6f();});a0_0x3fd061();const IncrementalLearning=require(a0_0x6e0b('0x3')),EMAIncrementalModel=require(a0_0x6e0b('0x2')),StructuredEMAIncrementalModel=require(a0_0x6e0b('0x14')),fileManager=require(a0_0x6e0b('0x19')),qm=require(a0_0x6e0b('0x11')),fs=require('fs');var assert=require('assert');const modelConfigEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x6e0b('0x1a')}}},modelConfigRecLinReg={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x6e0b('0x1d')}}},modelConfigSEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'structuralFactorPosition':0x1,'method':a0_0x6e0b('0x12')}}},fakeFusion={'fusion_id':a0_0x6e0b('0x8')};describe(a0_0x6e0b('0x1c'),function(){let _0xf6a281;before(function(){ilEMA=new IncrementalLearning(modelConfigEMA,fakeFusion),ilRecLinReg=new IncrementalLearning(modelConfigRecLinReg,fakeFusion),ilSEMA=new IncrementalLearning(modelConfigSEMA,fakeFusion),imEMA=new EMAIncrementalModel(modelConfigEMA[a0_0x6e0b('0x1')]['options'],fakeFusion),imSEMA=new StructuredEMAIncrementalModel(modelConfigSEMA[a0_0x6e0b('0x1')]['options'],fakeFusion);}),after(function(){}),describe('EMA\x20model',function(){it(a0_0x6e0b('0x10'),function(){assert[a0_0x6e0b('0x15')](typeof imEMA,'object');}),it(a0_0x6e0b('0x16'),function(){assert[a0_0x6e0b('0x15')](imEMA[a0_0x6e0b('0x7')](),null);}),it('update\x20model\x20-\x20first\x20time',function(){imEMA[a0_0x6e0b('0x5')]([],0x2a),assert['equal'](imEMA[a0_0x6e0b('0x7')](),0x2a);}),it('update\x20model\x20-\x209\x20more\x20times',function(){for(let _0x160a89=0x0;_0x160a89<0x9;_0x160a89++){imEMA[a0_0x6e0b('0x5')]([],0x2a);};assert[a0_0x6e0b('0x15')](imEMA[a0_0x6e0b('0x7')](),0x2a);}),it('update\x20model\x20-\x20with\x20value\x2040',function(){imEMA[a0_0x6e0b('0x5')]([],0x28),assert[a0_0x6e0b('0x15')](imEMA[a0_0x6e0b('0x7')](),41.333333333333336);});}),describe('SEMA\x20model',function(){it('imSEMA\x20instantiated',function(){assert[a0_0x6e0b('0x15')](typeof imSEMA,a0_0x6e0b('0xa'));}),it(a0_0x6e0b('0x16'),function(){assert['equal'](imSEMA['predict']([0x0,0x0]),null);}),it('update\x20model\x20-\x20first\x20time',function(){imSEMA['partialFit']([0x0,0x0],0x2a),assert[a0_0x6e0b('0x15')](imSEMA[a0_0x6e0b('0x7')]([0x0,0x0]),0x2a);}),it(a0_0x6e0b('0xe'),function(){for(let _0x23170b=0x0;_0x23170b<0x9;_0x23170b++){imSEMA[a0_0x6e0b('0x5')]([0x0,0x0],0x2a);};assert['equal'](imSEMA[a0_0x6e0b('0x7')]([0x0,0x0]),0x2a);}),it(a0_0x6e0b('0x1e'),function(){imSEMA['partialFit']([0x0,0x0],0x28),assert[a0_0x6e0b('0x15')](imSEMA[a0_0x6e0b('0x7')]([0x0,0x0]),41.333333333333336);}),it('update\x20many\x20different\x20models',function(){for(let _0x22540f=0x0;_0x22540f<0x3;_0x22540f++){for(let _0x3fb3c6=0x0;_0x3fb3c6<0x18;_0x3fb3c6++){imSEMA[a0_0x6e0b('0x5')]([0x0,_0x3fb3c6],_0x3fb3c6+_0x22540f);}}for(let _0x862749=0x1;_0x862749<0x18;_0x862749++){assert[a0_0x6e0b('0x15')](imSEMA['predict']([0x0,_0x862749])[a0_0x6e0b('0x6')](0x5),_0x862749+0.88889);}});}),describe(a0_0x6e0b('0x4'),function(){it('ilEMA\x20instantiated',function(){assert[a0_0x6e0b('0x15')](typeof ilEMA,'object');}),it('update\x20incremental\x20model\x20-\x20first\x20time',function(){assert[a0_0x6e0b('0xf')](ilEMA['updateStream']([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3}),ilEMA['updateStream']([0x2a,0x1],0x1*0x36ee80),ilEMA[a0_0x6e0b('0x1f')]([0x2a,0x2],0x2*0x36ee80),ilEMA[a0_0x6e0b('0x1f')]([0x2a,0x3],0x3*0x36ee80),ilEMA[a0_0x6e0b('0x1f')]([0x2a,0x4],0x4*0x36ee80),assert['deepEqual'](ilEMA[a0_0x6e0b('0x1f')]([0x2a,0x5],0x5*0x36ee80),{'ts':0x1b77400,'value':0x2a,'horizon':0x3});}),it(a0_0x6e0b('0x17'),function(){assert[a0_0x6e0b('0xf')](ilEMA[a0_0x6e0b('0x1f')]([0x28,0x6],0x6*0x36ee80),{'ts':0x1ee6280,'value':41.333333333333336,'horizon':0x3});});}),describe(a0_0x6e0b('0x9'),function(){it('ilRecLinReg\x20instantiated',function(){assert[a0_0x6e0b('0x15')](typeof ilRecLinReg,a0_0x6e0b('0xa'));}),it('update\x20incremental\x20model\x20-\x20first\x20time',function(){assert[a0_0x6e0b('0xf')](ilRecLinReg['updateStream']([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':0x0,'horizon':0x3});for(let _0x2d25d1=0x1;_0x2d25d1<0x28;_0x2d25d1++){ilRecLinReg['updateStream']([0x2a+_0x2d25d1,_0x2d25d1],_0x2d25d1*0x36ee80);}i=0x28,assert[a0_0x6e0b('0xf')](ilRecLinReg['updateStream']([0x2a+i,i],i*0x36ee80),{'ts':0x93a0f80,'value':85.0736902918679,'horizon':0x3});});}),describe(a0_0x6e0b('0x1b'),function(){it(a0_0x6e0b('0x0'),function(){assert[a0_0x6e0b('0x15')](typeof ilSEMA,a0_0x6e0b('0xa'));}),it(a0_0x6e0b('0x20'),function(){assert[a0_0x6e0b('0xf')](ilSEMA[a0_0x6e0b('0x1f')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3});for(let _0x434a80=0x1;_0x434a80<0x48;_0x434a80++){ilSEMA[a0_0x6e0b('0x1f')]([0x2a+_0x434a80,_0x434a80%0x18],_0x434a80*0x36ee80);}i=0x49,assert[a0_0x6e0b('0xf')](ilSEMA[a0_0x6e0b('0x1f')]([0x2a+i,i%0x18],i*0x36ee80),{'ts':0x104ece00,'value':67.33333333333334,'horizon':0x3});});});});