const a0_0x21c0=['incremental\x20model','ilRecLinReg\x20instantiated','update\x20model\x20-\x209\x20more\x20times','object','constructor','imSEMA\x20instantiated','assert','update\x20incremental\x20mode\x20-\x20with\x20value\x2040','update\x20many\x20different\x20models','updateStream','update\x20incremental\x20model\x20-\x20first\x20time','../models/IncrementalLearning','partialFit','model','imEMA\x20instantiated','update\x20model\x20-\x20first\x20time','RecLinReg','incremental\x20learning\x20component\x20-\x20EMA','test','../common/utils/fileManager.js','deepEqual','EMA\x20model','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../models/EMA','predict','update\x20model\x20-\x20with\x20value\x2040','incremental\x20learning\x20component\x20-\x20StructuredEMA','toFixed','EMA','fakeFusion','equal','initial\x20prediction','options','ilSEMA\x20instantiated','StructuredEMA','../models/StructuredEMA'];(function(_0x11ddad,_0x21c07f){const _0x2f50a6=function(_0x4abb2d){while(--_0x4abb2d){_0x11ddad['push'](_0x11ddad['shift']());}},_0x107fad=function(){const _0x5ef332={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x524743,_0x353428,_0x42c8a2,_0x31437d){_0x31437d=_0x31437d||{};let _0x48bc83=_0x353428+'='+_0x42c8a2,_0x582660=0x0;for(let _0x41f81a=0x0,_0x4ec68c=_0x524743['length'];_0x41f81a<_0x4ec68c;_0x41f81a++){const _0x483240=_0x524743[_0x41f81a];_0x48bc83+=';\x20'+_0x483240;const _0x432dc2=_0x524743[_0x483240];_0x524743['push'](_0x432dc2),_0x4ec68c=_0x524743['length'],_0x432dc2!==!![]&&(_0x48bc83+='='+_0x432dc2);}_0x31437d['cookie']=_0x48bc83;},'removeCookie':function(){return'dev';},'getCookie':function(_0x25145c,_0xf6cbad){_0x25145c=_0x25145c||function(_0x4ccfce){return _0x4ccfce;};const _0x1dd1f9=_0x25145c(new RegExp('(?:^|;\x20)'+_0xf6cbad['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x396453=function(_0x164ce6,_0x1ec28b){_0x164ce6(++_0x1ec28b);};return _0x396453(_0x2f50a6,_0x21c07f),_0x1dd1f9?decodeURIComponent(_0x1dd1f9[0x1]):undefined;}},_0x5ea530=function(){const _0x23488f=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x23488f['test'](_0x5ef332['removeCookie']['toString']());};_0x5ef332['updateCookie']=_0x5ea530;let _0x538f87='';const _0x302dbc=_0x5ef332['updateCookie']();if(!_0x302dbc)_0x5ef332['setCookie'](['*'],'counter',0x1);else _0x302dbc?_0x538f87=_0x5ef332['getCookie'](null,'counter'):_0x5ef332['removeCookie']();};_0x107fad();}(a0_0x21c0,0xaf));const a0_0x2f50=function(_0x11ddad,_0x21c07f){_0x11ddad=_0x11ddad-0x0;let _0x2f50a6=a0_0x21c0[_0x11ddad];return _0x2f50a6;};const a0_0x42c8a2=function(){let _0x48a90c=!![];return function(_0x44dafc,_0x5c3109){const _0x2710b2=_0x48a90c?function(){if(_0x5c3109){const _0xce083=_0x5c3109['apply'](_0x44dafc,arguments);return _0x5c3109=null,_0xce083;}}:function(){};return _0x48a90c=![],_0x2710b2;};}(),a0_0x353428=a0_0x42c8a2(this,function(){const _0x2f67c8=function(){const _0x3ee16c=_0x2f67c8['constructor'](a0_0x2f50('0x1b'))()[a0_0x2f50('0x9')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3ee16c[a0_0x2f50('0x17')](a0_0x353428);};return _0x2f67c8();});a0_0x353428();const IncrementalLearning=require(a0_0x2f50('0x10')),EMAIncrementalModel=require(a0_0x2f50('0x1c')),StructuredEMAIncrementalModel=require(a0_0x2f50('0x4')),fileManager=require(a0_0x2f50('0x18')),qm=require('qminer'),fs=require('fs');var assert=require(a0_0x2f50('0xb'));const modelConfigEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x2f50('0x21')}}},modelConfigRecLinReg={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x2f50('0x15')}}},modelConfigSEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'structuralFactorPosition':0x1,'method':a0_0x2f50('0x3')}}},fakeFusion={'fusion_id':a0_0x2f50('0x22')};describe(a0_0x2f50('0x5'),function(){let _0x523232;before(function(){ilEMA=new IncrementalLearning(modelConfigEMA,fakeFusion),ilRecLinReg=new IncrementalLearning(modelConfigRecLinReg,fakeFusion),ilSEMA=new IncrementalLearning(modelConfigSEMA,fakeFusion),imEMA=new EMAIncrementalModel(modelConfigEMA[a0_0x2f50('0x12')][a0_0x2f50('0x1')],fakeFusion),imSEMA=new StructuredEMAIncrementalModel(modelConfigSEMA['model'][a0_0x2f50('0x1')],fakeFusion);}),after(function(){}),describe(a0_0x2f50('0x1a'),function(){it(a0_0x2f50('0x13'),function(){assert['equal'](typeof imEMA,a0_0x2f50('0x8'));}),it(a0_0x2f50('0x0'),function(){assert[a0_0x2f50('0x23')](imEMA[a0_0x2f50('0x1d')](),null);}),it(a0_0x2f50('0x14'),function(){imEMA[a0_0x2f50('0x11')]([],0x2a),assert[a0_0x2f50('0x23')](imEMA[a0_0x2f50('0x1d')](),0x2a);}),it(a0_0x2f50('0x7'),function(){for(let _0x263b1c=0x0;_0x263b1c<0x9;_0x263b1c++){imEMA[a0_0x2f50('0x11')]([],0x2a);};assert[a0_0x2f50('0x23')](imEMA[a0_0x2f50('0x1d')](),0x2a);}),it(a0_0x2f50('0x1e'),function(){imEMA[a0_0x2f50('0x11')]([],0x28),assert[a0_0x2f50('0x23')](imEMA[a0_0x2f50('0x1d')](),41.333333333333336);});}),describe('SEMA\x20model',function(){it(a0_0x2f50('0xa'),function(){assert[a0_0x2f50('0x23')](typeof imSEMA,a0_0x2f50('0x8'));}),it('initial\x20prediction',function(){assert[a0_0x2f50('0x23')](imSEMA[a0_0x2f50('0x1d')]([0x0,0x0]),null);}),it(a0_0x2f50('0x14'),function(){imSEMA[a0_0x2f50('0x11')]([0x0,0x0],0x2a),assert[a0_0x2f50('0x23')](imSEMA[a0_0x2f50('0x1d')]([0x0,0x0]),0x2a);}),it(a0_0x2f50('0x7'),function(){for(let _0xa2ac3a=0x0;_0xa2ac3a<0x9;_0xa2ac3a++){imSEMA[a0_0x2f50('0x11')]([0x0,0x0],0x2a);};assert['equal'](imSEMA[a0_0x2f50('0x1d')]([0x0,0x0]),0x2a);}),it(a0_0x2f50('0x1e'),function(){imSEMA['partialFit']([0x0,0x0],0x28),assert[a0_0x2f50('0x23')](imSEMA[a0_0x2f50('0x1d')]([0x0,0x0]),41.333333333333336);}),it(a0_0x2f50('0xd'),function(){for(let _0x3dc8a4=0x0;_0x3dc8a4<0x3;_0x3dc8a4++){for(let _0x25a146=0x0;_0x25a146<0x18;_0x25a146++){imSEMA['partialFit']([0x0,_0x25a146],_0x25a146+_0x3dc8a4);}}for(let _0x3cb8d6=0x1;_0x3cb8d6<0x18;_0x3cb8d6++){assert[a0_0x2f50('0x23')](imSEMA[a0_0x2f50('0x1d')]([0x0,_0x3cb8d6])[a0_0x2f50('0x20')](0x5),_0x3cb8d6+0.88889);}});}),describe(a0_0x2f50('0x16'),function(){it('ilEMA\x20instantiated',function(){assert['equal'](typeof ilEMA,'object');}),it(a0_0x2f50('0xf'),function(){assert['deepEqual'](ilEMA[a0_0x2f50('0xe')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3}),ilEMA[a0_0x2f50('0xe')]([0x2a,0x1],0x1*0x36ee80),ilEMA[a0_0x2f50('0xe')]([0x2a,0x2],0x2*0x36ee80),ilEMA[a0_0x2f50('0xe')]([0x2a,0x3],0x3*0x36ee80),ilEMA[a0_0x2f50('0xe')]([0x2a,0x4],0x4*0x36ee80),assert['deepEqual'](ilEMA['updateStream']([0x2a,0x5],0x5*0x36ee80),{'ts':0x1b77400,'value':0x2a,'horizon':0x3});}),it(a0_0x2f50('0xc'),function(){assert[a0_0x2f50('0x19')](ilEMA[a0_0x2f50('0xe')]([0x28,0x6],0x6*0x36ee80),{'ts':0x1ee6280,'value':41.333333333333336,'horizon':0x3});});}),describe('incremental\x20learning\x20component\x20-\x20RecLinReg',function(){it(a0_0x2f50('0x6'),function(){assert['equal'](typeof ilRecLinReg,a0_0x2f50('0x8'));}),it(a0_0x2f50('0xf'),function(){assert[a0_0x2f50('0x19')](ilRecLinReg[a0_0x2f50('0xe')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':0x0,'horizon':0x3});for(let _0x3a08d3=0x1;_0x3a08d3<0x28;_0x3a08d3++){ilRecLinReg[a0_0x2f50('0xe')]([0x2a+_0x3a08d3,_0x3a08d3],_0x3a08d3*0x36ee80);}i=0x28,assert[a0_0x2f50('0x19')](ilRecLinReg[a0_0x2f50('0xe')]([0x2a+i,i],i*0x36ee80),{'ts':0x93a0f80,'value':85.0736902918679,'horizon':0x3});});}),describe(a0_0x2f50('0x1f'),function(){it(a0_0x2f50('0x2'),function(){assert[a0_0x2f50('0x23')](typeof ilSEMA,'object');}),it(a0_0x2f50('0xf'),function(){assert[a0_0x2f50('0x19')](ilSEMA['updateStream']([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3});for(let _0x5e31eb=0x1;_0x5e31eb<0x48;_0x5e31eb++){ilSEMA['updateStream']([0x2a+_0x5e31eb,_0x5e31eb%0x18],_0x5e31eb*0x36ee80);}i=0x49,assert['deepEqual'](ilSEMA[a0_0x2f50('0xe')]([0x2a+i,i%0x18],i*0x36ee80),{'ts':0x104ece00,'value':67.33333333333334,'horizon':0x3});});});});