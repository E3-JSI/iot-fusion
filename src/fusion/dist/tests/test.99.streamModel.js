const a0_0xd15b=['update\x20model\x20-\x209\x20more\x20times','../models/IncrementalLearning','initial\x20prediction','SEMA\x20model','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','StructuredEMA','object','update\x20model\x20-\x20first\x20time','updateStream','incremental\x20learning\x20component\x20-\x20StructuredEMA','apply','../models/StructuredEMA','update\x20incremental\x20model\x20-\x20first\x20time','ilSEMA\x20instantiated','model','ilRecLinReg\x20instantiated','toFixed','incremental\x20learning\x20component\x20-\x20RecLinReg','ilEMA\x20instantiated','constructor','partialFit','incremental\x20model','return\x20/\x22\x20+\x20this\x20+\x20\x22/','update\x20many\x20different\x20models','imEMA\x20instantiated','predict','update\x20model\x20-\x20with\x20value\x2040','../models/EMA','imSEMA\x20instantiated','incremental\x20learning\x20component\x20-\x20EMA','options','deepEqual','assert','equal','qminer','RecLinReg'];(function(_0xac4449,_0xd15bb4){const _0x3d1f35=function(_0x162e7e){while(--_0x162e7e){_0xac4449['push'](_0xac4449['shift']());}},_0x25861b=function(){const _0x1773c8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x30cf00,_0x33c372,_0x501fb2,_0x4afcb1){_0x4afcb1=_0x4afcb1||{};let _0x3eb8cb=_0x33c372+'='+_0x501fb2,_0x5af655=0x0;for(let _0x24c76b=0x0,_0xe16bd2=_0x30cf00['length'];_0x24c76b<_0xe16bd2;_0x24c76b++){const _0x2ec32b=_0x30cf00[_0x24c76b];_0x3eb8cb+=';\x20'+_0x2ec32b;const _0x5cef14=_0x30cf00[_0x2ec32b];_0x30cf00['push'](_0x5cef14),_0xe16bd2=_0x30cf00['length'],_0x5cef14!==!![]&&(_0x3eb8cb+='='+_0x5cef14);}_0x4afcb1['cookie']=_0x3eb8cb;},'removeCookie':function(){return'dev';},'getCookie':function(_0x405a43,_0x188619){_0x405a43=_0x405a43||function(_0x381a91){return _0x381a91;};const _0xf1fd89=_0x405a43(new RegExp('(?:^|;\x20)'+_0x188619['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x56ed28=function(_0x1b1874,_0x4d5158){_0x1b1874(++_0x4d5158);};return _0x56ed28(_0x3d1f35,_0xd15bb4),_0xf1fd89?decodeURIComponent(_0xf1fd89[0x1]):undefined;}},_0x4ac56a=function(){const _0x325ceb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x325ceb['test'](_0x1773c8['removeCookie']['toString']());};_0x1773c8['updateCookie']=_0x4ac56a;let _0x4e8857='';const _0x72e4c=_0x1773c8['updateCookie']();if(!_0x72e4c)_0x1773c8['setCookie'](['*'],'counter',0x1);else _0x72e4c?_0x4e8857=_0x1773c8['getCookie'](null,'counter'):_0x1773c8['removeCookie']();};_0x25861b();}(a0_0xd15b,0x91));const a0_0x3d1f=function(_0xac4449,_0xd15bb4){_0xac4449=_0xac4449-0x0;let _0x3d1f35=a0_0xd15b[_0xac4449];return _0x3d1f35;};const a0_0x501fb2=function(){let _0x3ff023=!![];return function(_0x287f0c,_0x35b4cb){const _0x3a335f=_0x3ff023?function(){if(_0x35b4cb){const _0x1c3813=_0x35b4cb[a0_0x3d1f('0x9')](_0x287f0c,arguments);return _0x35b4cb=null,_0x1c3813;}}:function(){};return _0x3ff023=![],_0x3a335f;};}(),a0_0x33c372=a0_0x501fb2(this,function(){const _0x4d67f3=function(){const _0x26c9dd=_0x4d67f3['constructor'](a0_0x3d1f('0x15'))()[a0_0x3d1f('0x12')](a0_0x3d1f('0x3'));return!_0x26c9dd['test'](a0_0x33c372);};return _0x4d67f3();});a0_0x33c372();const IncrementalLearning=require(a0_0x3d1f('0x0')),EMAIncrementalModel=require(a0_0x3d1f('0x1a')),StructuredEMAIncrementalModel=require(a0_0x3d1f('0xa')),fileManager=require('../common/utils/fileManager.js'),qm=require(a0_0x3d1f('0x21')),fs=require('fs');var assert=require(a0_0x3d1f('0x1f'));const modelConfigEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':'EMA'}}},modelConfigRecLinReg={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x3d1f('0x22')}}},modelConfigSEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'structuralFactorPosition':0x1,'method':a0_0x3d1f('0x4')}}},fakeFusion={'fusion_id':'fakeFusion'};describe(a0_0x3d1f('0x14'),function(){let _0x4dc416;before(function(){ilEMA=new IncrementalLearning(modelConfigEMA,fakeFusion),ilRecLinReg=new IncrementalLearning(modelConfigRecLinReg,fakeFusion),ilSEMA=new IncrementalLearning(modelConfigSEMA,fakeFusion),imEMA=new EMAIncrementalModel(modelConfigEMA[a0_0x3d1f('0xd')][a0_0x3d1f('0x1d')],fakeFusion),imSEMA=new StructuredEMAIncrementalModel(modelConfigSEMA[a0_0x3d1f('0xd')][a0_0x3d1f('0x1d')],fakeFusion);}),after(function(){}),describe('EMA\x20model',function(){it(a0_0x3d1f('0x17'),function(){assert['equal'](typeof imEMA,'object');}),it(a0_0x3d1f('0x1'),function(){assert['equal'](imEMA['predict'](),null);}),it(a0_0x3d1f('0x6'),function(){imEMA['partialFit']([],0x2a),assert['equal'](imEMA['predict'](),0x2a);}),it(a0_0x3d1f('0x23'),function(){for(let _0x42c7b5=0x0;_0x42c7b5<0x9;_0x42c7b5++){imEMA['partialFit']([],0x2a);};assert['equal'](imEMA['predict'](),0x2a);}),it(a0_0x3d1f('0x19'),function(){imEMA[a0_0x3d1f('0x13')]([],0x28),assert[a0_0x3d1f('0x20')](imEMA[a0_0x3d1f('0x18')](),41.333333333333336);});}),describe(a0_0x3d1f('0x2'),function(){it(a0_0x3d1f('0x1b'),function(){assert['equal'](typeof imSEMA,a0_0x3d1f('0x5'));}),it('initial\x20prediction',function(){assert[a0_0x3d1f('0x20')](imSEMA[a0_0x3d1f('0x18')]([0x0,0x0]),null);}),it(a0_0x3d1f('0x6'),function(){imSEMA['partialFit']([0x0,0x0],0x2a),assert['equal'](imSEMA[a0_0x3d1f('0x18')]([0x0,0x0]),0x2a);}),it(a0_0x3d1f('0x23'),function(){for(let _0x53a4ae=0x0;_0x53a4ae<0x9;_0x53a4ae++){imSEMA[a0_0x3d1f('0x13')]([0x0,0x0],0x2a);};assert['equal'](imSEMA['predict']([0x0,0x0]),0x2a);}),it(a0_0x3d1f('0x19'),function(){imSEMA[a0_0x3d1f('0x13')]([0x0,0x0],0x28),assert['equal'](imSEMA[a0_0x3d1f('0x18')]([0x0,0x0]),41.333333333333336);}),it(a0_0x3d1f('0x16'),function(){for(let _0x154de1=0x0;_0x154de1<0x3;_0x154de1++){for(let _0x1d98e8=0x0;_0x1d98e8<0x18;_0x1d98e8++){imSEMA[a0_0x3d1f('0x13')]([0x0,_0x1d98e8],_0x1d98e8+_0x154de1);}}for(let _0x1f1cba=0x1;_0x1f1cba<0x18;_0x1f1cba++){assert[a0_0x3d1f('0x20')](imSEMA['predict']([0x0,_0x1f1cba])[a0_0x3d1f('0xf')](0x5),_0x1f1cba+0.88889);}});}),describe(a0_0x3d1f('0x1c'),function(){it(a0_0x3d1f('0x11'),function(){assert['equal'](typeof ilEMA,'object');}),it(a0_0x3d1f('0xb'),function(){assert[a0_0x3d1f('0x1e')](ilEMA[a0_0x3d1f('0x7')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3}),ilEMA[a0_0x3d1f('0x7')]([0x2a,0x1],0x1*0x36ee80),ilEMA[a0_0x3d1f('0x7')]([0x2a,0x2],0x2*0x36ee80),ilEMA[a0_0x3d1f('0x7')]([0x2a,0x3],0x3*0x36ee80),ilEMA['updateStream']([0x2a,0x4],0x4*0x36ee80),assert['deepEqual'](ilEMA[a0_0x3d1f('0x7')]([0x2a,0x5],0x5*0x36ee80),{'ts':0x1b77400,'value':0x2a,'horizon':0x3});}),it('update\x20incremental\x20mode\x20-\x20with\x20value\x2040',function(){assert[a0_0x3d1f('0x1e')](ilEMA[a0_0x3d1f('0x7')]([0x28,0x6],0x6*0x36ee80),{'ts':0x1ee6280,'value':41.333333333333336,'horizon':0x3});});}),describe(a0_0x3d1f('0x10'),function(){it(a0_0x3d1f('0xe'),function(){assert['equal'](typeof ilRecLinReg,a0_0x3d1f('0x5'));}),it(a0_0x3d1f('0xb'),function(){assert['deepEqual'](ilRecLinReg['updateStream']([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':0x0,'horizon':0x3});for(let _0x26bb99=0x1;_0x26bb99<0x28;_0x26bb99++){ilRecLinReg[a0_0x3d1f('0x7')]([0x2a+_0x26bb99,_0x26bb99],_0x26bb99*0x36ee80);}i=0x28,assert['deepEqual'](ilRecLinReg['updateStream']([0x2a+i,i],i*0x36ee80),{'ts':0x93a0f80,'value':85.0736902918679,'horizon':0x3});});}),describe(a0_0x3d1f('0x8'),function(){it(a0_0x3d1f('0xc'),function(){assert['equal'](typeof ilSEMA,a0_0x3d1f('0x5'));}),it('update\x20incremental\x20model\x20-\x20first\x20time',function(){assert[a0_0x3d1f('0x1e')](ilSEMA[a0_0x3d1f('0x7')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3});for(let _0x2a8ab3=0x1;_0x2a8ab3<0x48;_0x2a8ab3++){ilSEMA[a0_0x3d1f('0x7')]([0x2a+_0x2a8ab3,_0x2a8ab3%0x18],_0x2a8ab3*0x36ee80);}i=0x49,assert[a0_0x3d1f('0x1e')](ilSEMA[a0_0x3d1f('0x7')]([0x2a+i,i%0x18],i*0x36ee80),{'ts':0x104ece00,'value':67.33333333333334,'horizon':0x3});});});});