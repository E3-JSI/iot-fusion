const a0_0x2aaa=['../models/EMA','predict','incremental\x20learning\x20component\x20-\x20StructuredEMA','SEMA\x20model','EMA','EMA\x20model','incremental\x20learning\x20component\x20-\x20RecLinReg','test','qminer','RecLinReg','update\x20many\x20different\x20models','imSEMA\x20instantiated','ilEMA\x20instantiated','update\x20incremental\x20mode\x20-\x20with\x20value\x2040','../models/StructuredEMA','ilRecLinReg\x20instantiated','../models/IncrementalLearning','deepEqual','StructuredEMA','object','update\x20model\x20-\x209\x20more\x20times','apply','return\x20/\x22\x20+\x20this\x20+\x20\x22/','update\x20incremental\x20model\x20-\x20first\x20time','updateStream','update\x20model\x20-\x20with\x20value\x2040','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','update\x20model\x20-\x20first\x20time','options','ilSEMA\x20instantiated','equal','../common/utils/fileManager.js','model','initial\x20prediction','assert','fakeFusion','partialFit'];(function(_0xa8c3f5,_0x2aaad1){const _0x46c932=function(_0x1af31b){while(--_0x1af31b){_0xa8c3f5['push'](_0xa8c3f5['shift']());}},_0x5db84a=function(){const _0x5b72d6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x171f8f,_0x2a51c1,_0x1080fb,_0x10c078){_0x10c078=_0x10c078||{};let _0xcf9158=_0x2a51c1+'='+_0x1080fb,_0x5c6c30=0x0;for(let _0x399ec1=0x0,_0x58a1ff=_0x171f8f['length'];_0x399ec1<_0x58a1ff;_0x399ec1++){const _0x2dff4f=_0x171f8f[_0x399ec1];_0xcf9158+=';\x20'+_0x2dff4f;const _0x29ae57=_0x171f8f[_0x2dff4f];_0x171f8f['push'](_0x29ae57),_0x58a1ff=_0x171f8f['length'],_0x29ae57!==!![]&&(_0xcf9158+='='+_0x29ae57);}_0x10c078['cookie']=_0xcf9158;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3224b1,_0xd8673){_0x3224b1=_0x3224b1||function(_0x3b5f62){return _0x3b5f62;};const _0x4778f3=_0x3224b1(new RegExp('(?:^|;\x20)'+_0xd8673['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3f0a1e=function(_0x36f0d8,_0x17adaa){_0x36f0d8(++_0x17adaa);};return _0x3f0a1e(_0x46c932,_0x2aaad1),_0x4778f3?decodeURIComponent(_0x4778f3[0x1]):undefined;}},_0x577c84=function(){const _0x2198d8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2198d8['test'](_0x5b72d6['removeCookie']['toString']());};_0x5b72d6['updateCookie']=_0x577c84;let _0x40d19a='';const _0x23a571=_0x5b72d6['updateCookie']();if(!_0x23a571)_0x5b72d6['setCookie'](['*'],'counter',0x1);else _0x23a571?_0x40d19a=_0x5b72d6['getCookie'](null,'counter'):_0x5b72d6['removeCookie']();};_0x5db84a();}(a0_0x2aaa,0x90));const a0_0x46c9=function(_0xa8c3f5,_0x2aaad1){_0xa8c3f5=_0xa8c3f5-0x0;let _0x46c932=a0_0x2aaa[_0xa8c3f5];return _0x46c932;};const a0_0x1080fb=function(){let _0x5c9225=!![];return function(_0x380812,_0x3a12f3){const _0xf14bbf=_0x5c9225?function(){if(_0x3a12f3){const _0x306104=_0x3a12f3[a0_0x46c9('0x19')](_0x380812,arguments);return _0x3a12f3=null,_0x306104;}}:function(){};return _0x5c9225=![],_0xf14bbf;};}(),a0_0x2a51c1=a0_0x1080fb(this,function(){const _0x1807e6=function(){const _0x51dd61=_0x1807e6['constructor'](a0_0x46c9('0x1a'))()['constructor'](a0_0x46c9('0x1e'));return!_0x51dd61[a0_0x46c9('0xb')](a0_0x2a51c1);};return _0x1807e6();});a0_0x2a51c1();const IncrementalLearning=require(a0_0x46c9('0x14')),EMAIncrementalModel=require(a0_0x46c9('0x4')),StructuredEMAIncrementalModel=require(a0_0x46c9('0x12')),fileManager=require(a0_0x46c9('0x23')),qm=require(a0_0x46c9('0xc')),fs=require('fs');var assert=require(a0_0x46c9('0x1'));const modelConfigEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x46c9('0x8')}}},modelConfigRecLinReg={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x46c9('0xd')}}},modelConfigSEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'structuralFactorPosition':0x1,'method':a0_0x46c9('0x16')}}},fakeFusion={'fusion_id':a0_0x46c9('0x2')};describe('incremental\x20model',function(){let _0x137d9e;before(function(){ilEMA=new IncrementalLearning(modelConfigEMA,fakeFusion),ilRecLinReg=new IncrementalLearning(modelConfigRecLinReg,fakeFusion),ilSEMA=new IncrementalLearning(modelConfigSEMA,fakeFusion),imEMA=new EMAIncrementalModel(modelConfigEMA[a0_0x46c9('0x24')]['options'],fakeFusion),imSEMA=new StructuredEMAIncrementalModel(modelConfigSEMA[a0_0x46c9('0x24')][a0_0x46c9('0x20')],fakeFusion);}),after(function(){}),describe(a0_0x46c9('0x9'),function(){it('imEMA\x20instantiated',function(){assert[a0_0x46c9('0x22')](typeof imEMA,a0_0x46c9('0x17'));}),it(a0_0x46c9('0x0'),function(){assert[a0_0x46c9('0x22')](imEMA[a0_0x46c9('0x5')](),null);}),it(a0_0x46c9('0x1f'),function(){imEMA['partialFit']([],0x2a),assert[a0_0x46c9('0x22')](imEMA[a0_0x46c9('0x5')](),0x2a);}),it('update\x20model\x20-\x209\x20more\x20times',function(){for(let _0x12157d=0x0;_0x12157d<0x9;_0x12157d++){imEMA['partialFit']([],0x2a);};assert[a0_0x46c9('0x22')](imEMA[a0_0x46c9('0x5')](),0x2a);}),it(a0_0x46c9('0x1d'),function(){imEMA[a0_0x46c9('0x3')]([],0x28),assert[a0_0x46c9('0x22')](imEMA['predict'](),41.333333333333336);});}),describe(a0_0x46c9('0x7'),function(){it(a0_0x46c9('0xf'),function(){assert[a0_0x46c9('0x22')](typeof imSEMA,'object');}),it(a0_0x46c9('0x0'),function(){assert[a0_0x46c9('0x22')](imSEMA['predict']([0x0,0x0]),null);}),it('update\x20model\x20-\x20first\x20time',function(){imSEMA[a0_0x46c9('0x3')]([0x0,0x0],0x2a),assert[a0_0x46c9('0x22')](imSEMA['predict']([0x0,0x0]),0x2a);}),it(a0_0x46c9('0x18'),function(){for(let _0x3044af=0x0;_0x3044af<0x9;_0x3044af++){imSEMA[a0_0x46c9('0x3')]([0x0,0x0],0x2a);};assert[a0_0x46c9('0x22')](imSEMA[a0_0x46c9('0x5')]([0x0,0x0]),0x2a);}),it('update\x20model\x20-\x20with\x20value\x2040',function(){imSEMA[a0_0x46c9('0x3')]([0x0,0x0],0x28),assert[a0_0x46c9('0x22')](imSEMA['predict']([0x0,0x0]),41.333333333333336);}),it(a0_0x46c9('0xe'),function(){for(let _0x1db1be=0x0;_0x1db1be<0x3;_0x1db1be++){for(let _0x30e0c8=0x0;_0x30e0c8<0x18;_0x30e0c8++){imSEMA[a0_0x46c9('0x3')]([0x0,_0x30e0c8],_0x30e0c8+_0x1db1be);}}for(let _0x16c5d6=0x1;_0x16c5d6<0x18;_0x16c5d6++){assert['equal'](imSEMA[a0_0x46c9('0x5')]([0x0,_0x16c5d6])['toFixed'](0x5),_0x16c5d6+0.88889);}});}),describe('incremental\x20learning\x20component\x20-\x20EMA',function(){it(a0_0x46c9('0x10'),function(){assert[a0_0x46c9('0x22')](typeof ilEMA,a0_0x46c9('0x17'));}),it(a0_0x46c9('0x1b'),function(){assert[a0_0x46c9('0x15')](ilEMA[a0_0x46c9('0x1c')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3}),ilEMA[a0_0x46c9('0x1c')]([0x2a,0x1],0x1*0x36ee80),ilEMA[a0_0x46c9('0x1c')]([0x2a,0x2],0x2*0x36ee80),ilEMA[a0_0x46c9('0x1c')]([0x2a,0x3],0x3*0x36ee80),ilEMA[a0_0x46c9('0x1c')]([0x2a,0x4],0x4*0x36ee80),assert[a0_0x46c9('0x15')](ilEMA[a0_0x46c9('0x1c')]([0x2a,0x5],0x5*0x36ee80),{'ts':0x1b77400,'value':0x2a,'horizon':0x3});}),it(a0_0x46c9('0x11'),function(){assert[a0_0x46c9('0x15')](ilEMA[a0_0x46c9('0x1c')]([0x28,0x6],0x6*0x36ee80),{'ts':0x1ee6280,'value':41.333333333333336,'horizon':0x3});});}),describe(a0_0x46c9('0xa'),function(){it(a0_0x46c9('0x13'),function(){assert[a0_0x46c9('0x22')](typeof ilRecLinReg,'object');}),it(a0_0x46c9('0x1b'),function(){assert[a0_0x46c9('0x15')](ilRecLinReg[a0_0x46c9('0x1c')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':0x0,'horizon':0x3});for(let _0x4dc7e9=0x1;_0x4dc7e9<0x28;_0x4dc7e9++){ilRecLinReg[a0_0x46c9('0x1c')]([0x2a+_0x4dc7e9,_0x4dc7e9],_0x4dc7e9*0x36ee80);}i=0x28,assert[a0_0x46c9('0x15')](ilRecLinReg[a0_0x46c9('0x1c')]([0x2a+i,i],i*0x36ee80),{'ts':0x93a0f80,'value':85.0736902918679,'horizon':0x3});});}),describe(a0_0x46c9('0x6'),function(){it(a0_0x46c9('0x21'),function(){assert['equal'](typeof ilSEMA,a0_0x46c9('0x17'));}),it(a0_0x46c9('0x1b'),function(){assert['deepEqual'](ilSEMA[a0_0x46c9('0x1c')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3});for(let _0x347b06=0x1;_0x347b06<0x48;_0x347b06++){ilSEMA[a0_0x46c9('0x1c')]([0x2a+_0x347b06,_0x347b06%0x18],_0x347b06*0x36ee80);}i=0x49,assert['deepEqual'](ilSEMA[a0_0x46c9('0x1c')]([0x2a+i,i%0x18],i*0x36ee80),{'ts':0x104ece00,'value':67.33333333333334,'horizon':0x3});});});});