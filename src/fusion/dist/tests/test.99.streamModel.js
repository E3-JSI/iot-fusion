const a0_0x10f7=['toFixed','../models/EMA','test','qminer','../models/StructuredEMA','EMA\x20model','partialFit','deepEqual','updateStream','update\x20model\x20-\x20first\x20time','StructuredEMA','../common/utils/fileManager.js','RecLinReg','predict','return\x20/\x22\x20+\x20this\x20+\x20\x22/','apply','ilRecLinReg\x20instantiated','ilEMA\x20instantiated','initial\x20prediction','update\x20model\x20-\x209\x20more\x20times','object','update\x20incremental\x20model\x20-\x20first\x20time','update\x20incremental\x20mode\x20-\x20with\x20value\x2040','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','incremental\x20model','../models/IncrementalLearning','update\x20many\x20different\x20models','model','imEMA\x20instantiated','incremental\x20learning\x20component\x20-\x20EMA','options','ilSEMA\x20instantiated','equal','constructor'];(function(_0x434024,_0x10f7a7){const _0x5f204e=function(_0x424d){while(--_0x424d){_0x434024['push'](_0x434024['shift']());}},_0xff765c=function(){const _0x3ee025={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x253405,_0x4af1f8,_0x3c2c36,_0x6d72bc){_0x6d72bc=_0x6d72bc||{};let _0x3ad20c=_0x4af1f8+'='+_0x3c2c36,_0x49b332=0x0;for(let _0x455f3e=0x0,_0x387266=_0x253405['length'];_0x455f3e<_0x387266;_0x455f3e++){const _0x1ed256=_0x253405[_0x455f3e];_0x3ad20c+=';\x20'+_0x1ed256;const _0x1ac5f0=_0x253405[_0x1ed256];_0x253405['push'](_0x1ac5f0),_0x387266=_0x253405['length'],_0x1ac5f0!==!![]&&(_0x3ad20c+='='+_0x1ac5f0);}_0x6d72bc['cookie']=_0x3ad20c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x10075b,_0x2491cc){_0x10075b=_0x10075b||function(_0x1e07ee){return _0x1e07ee;};const _0x2822cf=_0x10075b(new RegExp('(?:^|;\x20)'+_0x2491cc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x53755f=function(_0x55fe4b,_0x4ba1f2){_0x55fe4b(++_0x4ba1f2);};return _0x53755f(_0x5f204e,_0x10f7a7),_0x2822cf?decodeURIComponent(_0x2822cf[0x1]):undefined;}},_0x3c3131=function(){const _0x16a1b2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x16a1b2['test'](_0x3ee025['removeCookie']['toString']());};_0x3ee025['updateCookie']=_0x3c3131;let _0x26d975='';const _0x2e2164=_0x3ee025['updateCookie']();if(!_0x2e2164)_0x3ee025['setCookie'](['*'],'counter',0x1);else _0x2e2164?_0x26d975=_0x3ee025['getCookie'](null,'counter'):_0x3ee025['removeCookie']();};_0xff765c();}(a0_0x10f7,0x17e));const a0_0x5f20=function(_0x434024,_0x10f7a7){_0x434024=_0x434024-0x0;let _0x5f204e=a0_0x10f7[_0x434024];return _0x5f204e;};const a0_0x3c2c36=function(){let _0x48771a=!![];return function(_0x6969e5,_0x30eca2){const _0x2cfbc7=_0x48771a?function(){if(_0x30eca2){const _0x533b99=_0x30eca2[a0_0x5f20('0x7')](_0x6969e5,arguments);return _0x30eca2=null,_0x533b99;}}:function(){};return _0x48771a=![],_0x2cfbc7;};}(),a0_0x4af1f8=a0_0x3c2c36(this,function(){const _0x18926c=function(){const _0x21de72=_0x18926c['constructor'](a0_0x5f20('0x6'))()[a0_0x5f20('0x19')](a0_0x5f20('0xf'));return!_0x21de72[a0_0x5f20('0x1c')](a0_0x4af1f8);};return _0x18926c();});a0_0x4af1f8();const IncrementalLearning=require(a0_0x5f20('0x11')),EMAIncrementalModel=require(a0_0x5f20('0x1b')),StructuredEMAIncrementalModel=require(a0_0x5f20('0x1e')),fileManager=require(a0_0x5f20('0x3')),qm=require(a0_0x5f20('0x1d')),fs=require('fs');var assert=require('assert');const modelConfigEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':'EMA'}}},modelConfigRecLinReg={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'method':a0_0x5f20('0x4')}}},modelConfigSEMA={'fusionTick':0x36ee80,'model':{'horizon':0x3,'label':0x0,'options':{'structuralFactorPosition':0x1,'method':a0_0x5f20('0x2')}}},fakeFusion={'fusion_id':'fakeFusion'};describe(a0_0x5f20('0x10'),function(){let _0x50987a;before(function(){ilEMA=new IncrementalLearning(modelConfigEMA,fakeFusion),ilRecLinReg=new IncrementalLearning(modelConfigRecLinReg,fakeFusion),ilSEMA=new IncrementalLearning(modelConfigSEMA,fakeFusion),imEMA=new EMAIncrementalModel(modelConfigEMA[a0_0x5f20('0x13')][a0_0x5f20('0x16')],fakeFusion),imSEMA=new StructuredEMAIncrementalModel(modelConfigSEMA[a0_0x5f20('0x13')][a0_0x5f20('0x16')],fakeFusion);}),after(function(){}),describe(a0_0x5f20('0x1f'),function(){it(a0_0x5f20('0x14'),function(){assert[a0_0x5f20('0x18')](typeof imEMA,a0_0x5f20('0xc'));}),it(a0_0x5f20('0xa'),function(){assert[a0_0x5f20('0x18')](imEMA[a0_0x5f20('0x5')](),null);}),it(a0_0x5f20('0x1'),function(){imEMA['partialFit']([],0x2a),assert['equal'](imEMA[a0_0x5f20('0x5')](),0x2a);}),it(a0_0x5f20('0xb'),function(){for(let _0xea34f4=0x0;_0xea34f4<0x9;_0xea34f4++){imEMA[a0_0x5f20('0x20')]([],0x2a);};assert[a0_0x5f20('0x18')](imEMA[a0_0x5f20('0x5')](),0x2a);}),it('update\x20model\x20-\x20with\x20value\x2040',function(){imEMA[a0_0x5f20('0x20')]([],0x28),assert[a0_0x5f20('0x18')](imEMA[a0_0x5f20('0x5')](),41.333333333333336);});}),describe('SEMA\x20model',function(){it('imSEMA\x20instantiated',function(){assert[a0_0x5f20('0x18')](typeof imSEMA,a0_0x5f20('0xc'));}),it(a0_0x5f20('0xa'),function(){assert['equal'](imSEMA['predict']([0x0,0x0]),null);}),it(a0_0x5f20('0x1'),function(){imSEMA['partialFit']([0x0,0x0],0x2a),assert['equal'](imSEMA['predict']([0x0,0x0]),0x2a);}),it(a0_0x5f20('0xb'),function(){for(let _0x5769e8=0x0;_0x5769e8<0x9;_0x5769e8++){imSEMA[a0_0x5f20('0x20')]([0x0,0x0],0x2a);};assert[a0_0x5f20('0x18')](imSEMA[a0_0x5f20('0x5')]([0x0,0x0]),0x2a);}),it('update\x20model\x20-\x20with\x20value\x2040',function(){imSEMA[a0_0x5f20('0x20')]([0x0,0x0],0x28),assert[a0_0x5f20('0x18')](imSEMA[a0_0x5f20('0x5')]([0x0,0x0]),41.333333333333336);}),it(a0_0x5f20('0x12'),function(){for(let _0x66add9=0x0;_0x66add9<0x3;_0x66add9++){for(let _0x5de5de=0x0;_0x5de5de<0x18;_0x5de5de++){imSEMA[a0_0x5f20('0x20')]([0x0,_0x5de5de],_0x5de5de+_0x66add9);}}for(let _0x2bd5b0=0x1;_0x2bd5b0<0x18;_0x2bd5b0++){assert[a0_0x5f20('0x18')](imSEMA['predict']([0x0,_0x2bd5b0])[a0_0x5f20('0x1a')](0x5),_0x2bd5b0+0.88889);}});}),describe(a0_0x5f20('0x15'),function(){it(a0_0x5f20('0x9'),function(){assert[a0_0x5f20('0x18')](typeof ilEMA,a0_0x5f20('0xc'));}),it('update\x20incremental\x20model\x20-\x20first\x20time',function(){assert[a0_0x5f20('0x21')](ilEMA[a0_0x5f20('0x0')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3}),ilEMA[a0_0x5f20('0x0')]([0x2a,0x1],0x1*0x36ee80),ilEMA[a0_0x5f20('0x0')]([0x2a,0x2],0x2*0x36ee80),ilEMA[a0_0x5f20('0x0')]([0x2a,0x3],0x3*0x36ee80),ilEMA[a0_0x5f20('0x0')]([0x2a,0x4],0x4*0x36ee80),assert[a0_0x5f20('0x21')](ilEMA[a0_0x5f20('0x0')]([0x2a,0x5],0x5*0x36ee80),{'ts':0x1b77400,'value':0x2a,'horizon':0x3});}),it(a0_0x5f20('0xe'),function(){assert[a0_0x5f20('0x21')](ilEMA[a0_0x5f20('0x0')]([0x28,0x6],0x6*0x36ee80),{'ts':0x1ee6280,'value':41.333333333333336,'horizon':0x3});});}),describe('incremental\x20learning\x20component\x20-\x20RecLinReg',function(){it(a0_0x5f20('0x8'),function(){assert['equal'](typeof ilRecLinReg,a0_0x5f20('0xc'));}),it(a0_0x5f20('0xd'),function(){assert[a0_0x5f20('0x21')](ilRecLinReg[a0_0x5f20('0x0')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':0x0,'horizon':0x3});for(let _0x4ad89d=0x1;_0x4ad89d<0x28;_0x4ad89d++){ilRecLinReg[a0_0x5f20('0x0')]([0x2a+_0x4ad89d,_0x4ad89d],_0x4ad89d*0x36ee80);}i=0x28,assert[a0_0x5f20('0x21')](ilRecLinReg[a0_0x5f20('0x0')]([0x2a+i,i],i*0x36ee80),{'ts':0x93a0f80,'value':85.0736902918679,'horizon':0x3});});}),describe('incremental\x20learning\x20component\x20-\x20StructuredEMA',function(){it(a0_0x5f20('0x17'),function(){assert[a0_0x5f20('0x18')](typeof ilSEMA,a0_0x5f20('0xc'));}),it(a0_0x5f20('0xd'),function(){assert[a0_0x5f20('0x21')](ilSEMA[a0_0x5f20('0x0')]([0x2a,0x0],0x0),{'ts':0xa4cb80,'value':null,'horizon':0x3});for(let _0x1a8992=0x1;_0x1a8992<0x48;_0x1a8992++){ilSEMA[a0_0x5f20('0x0')]([0x2a+_0x1a8992,_0x1a8992%0x18],_0x1a8992*0x36ee80);}i=0x49,assert[a0_0x5f20('0x21')](ilSEMA['updateStream']([0x2a+i,i%0x18],i*0x36ee80),{'ts':0x104ece00,'value':67.33333333333334,'horizon':0x3});});});});