const a0_0x41ec=['../nodes/streamingTrainNode.js','current|winbuf|21600000','{\x22timestamp\x22:1538737202000,\x22current\x22:18,\x22voltage\x22:252.45}','streamingSubstationNode','voltage|min|21600000','current','./db2/','current|ma|86400000','min','name','setSlaveOffset\x20function\x20exists','kafka','../nodes/streamingEnergyNode.js','variance','buffer\x20values','buffer\x20empty','{\x22timestamp\x22:1538737200000,\x22current\x22:16,\x22voltage\x22:232.45}','createAggregates\x20function\x20exists','current|winbuf|3600000','base','windSpeed1','current|max|86400000','voltage|max|21600000','master\x20offset\x20set\x20correctly','broadcastAggregates\x20function\x20exists','function','voltage|ma|604800000','{\x22timestamp\x22:1538737201000,\x22current\x22:13,\x22voltage\x22:242.45}','cloudCover1','aggregates\x20initialized\x20-\x20key\x20names','voltage|variance|86400000','setSlaveOffset','dayBeforeHoliday','voltage|max|86400000','isMaster\x20function','parent','getPartialFeatureVector','parent\x20saved','pressure1','buffer\x20position\x20is\x200','../nodes/streamingStaticNode.js','weather','current|winbuf|86400000','processRecordCb','offsetExists\x20function\x20exists','voltage|ma|3600000','equal','apply','isMaster','data\x20record\x20saved\x20correctly','current|ma|604800000','nodes','voltage|winbuf|3600000','master\x20flag\x20set\x20correctly','getAggregates\x20function\x20exists','current|ma|21600000','{\x22timestamp\x22:1538737202000,\x22current\x22:14,\x22voltage\x22:252.45}','deleteObsoleteRows\x20function\x20exists','../nodes/streamingWeatherNode.js','qminer','checkDataAvailability\x20function\x20exists','{\x22timestamp\x22:1538737213000,\x22current\x22:15,\x22voltage\x22:262.45}','test','rawstore','check\x20if\x20store\x20exists','../common/utils/fileManager.js','fusionNodeI\x20correctly\x20saved','deepEqual','voltage|min|86400000','monthOfYear','datetime','setMasterOffset\x20function\x20exists','getOffsetTimestamp','master','parse','base\x20saved','current|min|21600000','current|max|21600000','getPartialFeatureVector\x20function\x20exists','Time','current|variance|21600000','return\x20/\x22\x20+\x20this\x20+\x20\x22/','dayOfYear','../nodes/streamingSubstationNode.js','current|ma|3600000','static','weekEnd','dayOfWeek','connectToKafka\x20function\x20exists','Substation','assert','current|min|86400000','current|tick','broadcastAggregates','constructor','192.168.85.98:2181','winbuf','offsetExists','voltage|variance|21600000','voltage|winbuf|21600000','keys','power','voltage|ma|86400000','connectToKafka','log','master\x20set\x20correctly','config\x20saved','value','data\x20insertion','deleteObsoleteRows','aggregate','current|variance|86400000','{\x22timestamp\x22:1538737213000,\x22current\x22:19,\x22voltage\x22:262.45}','voltage|ma|21600000','position','processRecord','buffer','getOffsetTimestamp\x20function\x20exists','../nodes/streamingNode.js','voltage','current|ma|000','float','max'];(function(_0x5cef4f,_0x41ec1c){const _0x3bcf04=function(_0x3eef95){while(--_0x3eef95){_0x5cef4f['push'](_0x5cef4f['shift']());}},_0x5152d9=function(){const _0x20f8b8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x924755,_0xba716f,_0x41b726,_0x35aad0){_0x35aad0=_0x35aad0||{};let _0x187e7a=_0xba716f+'='+_0x41b726,_0x535003=0x0;for(let _0x2765be=0x0,_0x3975af=_0x924755['length'];_0x2765be<_0x3975af;_0x2765be++){const _0x50b88e=_0x924755[_0x2765be];_0x187e7a+=';\x20'+_0x50b88e;const _0x3b0b52=_0x924755[_0x50b88e];_0x924755['push'](_0x3b0b52),_0x3975af=_0x924755['length'],_0x3b0b52!==!![]&&(_0x187e7a+='='+_0x3b0b52);}_0x35aad0['cookie']=_0x187e7a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1765e3,_0x173b4f){_0x1765e3=_0x1765e3||function(_0x409aed){return _0x409aed;};const _0x11f1bb=_0x1765e3(new RegExp('(?:^|;\x20)'+_0x173b4f['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x29539e=function(_0x382e7a,_0x2c2214){_0x382e7a(++_0x2c2214);};return _0x29539e(_0x3bcf04,_0x41ec1c),_0x11f1bb?decodeURIComponent(_0x11f1bb[0x1]):undefined;}},_0x384520=function(){const _0x284717=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x284717['test'](_0x20f8b8['removeCookie']['toString']());};_0x20f8b8['updateCookie']=_0x384520;let _0x2ce185='';const _0x3b7c10=_0x20f8b8['updateCookie']();if(!_0x3b7c10)_0x20f8b8['setCookie'](['*'],'counter',0x1);else _0x3b7c10?_0x2ce185=_0x20f8b8['getCookie'](null,'counter'):_0x20f8b8['removeCookie']();};_0x5152d9();}(a0_0x41ec,0x1ea));const a0_0x3bcf=function(_0x5cef4f,_0x41ec1c){_0x5cef4f=_0x5cef4f-0x0;let _0x3bcf04=a0_0x41ec[_0x5cef4f];return _0x3bcf04;};const a0_0x41b726=function(){let _0x24f484=!![];return function(_0x26f9a8,_0x49024b){const _0x51fe39=_0x24f484?function(){if(_0x49024b){const _0x3f1b61=_0x49024b[a0_0x3bcf('0x31')](_0x26f9a8,arguments);return _0x49024b=null,_0x3f1b61;}}:function(){};return _0x24f484=![],_0x51fe39;};}(),a0_0xba716f=a0_0x41b726(this,function(){const _0x26974d=function(){const _0x2a6fc9=_0x26974d['constructor'](a0_0x3bcf('0x53'))()[a0_0x3bcf('0x60')]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2a6fc9[a0_0x3bcf('0x40')](a0_0xba716f);};return _0x26974d();});a0_0xba716f();const streamingNode=require(a0_0x3bcf('0x78')),streamingEnergyNode=require(a0_0x3bcf('0xe')),streamingWeatherNode=require(a0_0x3bcf('0x3c')),streamingStaticNode=require(a0_0x3bcf('0x2a')),streamingTrainNode=require(a0_0x3bcf('0x2')),streamingSubstationNode=require(a0_0x3bcf('0x55')),fileManager=require(a0_0x3bcf('0x43')),qm=require(a0_0x3bcf('0x3d')),fs=require('fs');var assert=require(a0_0x3bcf('0x5c'));let connectionConfig={'zookeeper':a0_0x3bcf('0x61')},aggrConfigs={'Substation':[{'field':'current','tick':[{'type':a0_0x3bcf('0x62'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x3bcf('0x1')},{'type':a0_0x3bcf('0xa')},{'type':a0_0x3bcf('0xf')}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x3bcf('0x1')},{'type':a0_0x3bcf('0xa')},{'type':a0_0x3bcf('0xf')}]},{'type':a0_0x3bcf('0x62'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':a0_0x3bcf('0x79'),'tick':[{'type':'winbuf','winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x3bcf('0x62'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x3bcf('0x1')},{'type':a0_0x3bcf('0xa')},{'type':'variance'}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x3bcf('0x1')},{'type':'min'},{'type':a0_0x3bcf('0xf')}]},{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':'holiday','tick':[{'type':a0_0x3bcf('0x62'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':'N1_24h','connection':{'type':a0_0x3bcf('0xd')},'fusionTick':0x3e8,'nodes':[{'type':a0_0x3bcf('0x5b'),'fusionTick':0x3e8,'nodeid':'N1','aggrConfigId':'Substation','master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x7a')},{'type':a0_0x3bcf('0x6d'),'name':'voltage|ma|000'}]},{'time':-0xe10*0x3e8,'attributes':[{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x56')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x2f')}]},{'time':-0x6*0xe10*0x3e8,'attributes':[{'type':'value','name':a0_0x3bcf('0x39')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x4f')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x4e')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x52')},{'type':'value','name':a0_0x3bcf('0x73')},{'type':'value','name':a0_0x3bcf('0x18')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x6')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x64')}]},{'time':-0x18*0xe10*0x3e8,'attributes':[{'type':'value','name':'current|ma|86400000'},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x17')},{'type':'value','name':a0_0x3bcf('0x5d')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x71')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x68')},{'type':'value','name':'voltage|max|86400000'},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x46')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x20')}]},{'time':-0x7*0x18*0xe10*0x3e8,'attributes':[{'type':a0_0x3bcf('0x6d'),'name':'current|ma|604800000'},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x1c')}]}]},{'type':a0_0x3bcf('0x57'),'nodeid':'S1','aggrConfigId':'static','master':![],'attributes':[{'time':0x18*0x168*0x3e8,'attributes':[{'type':a0_0x3bcf('0x6d'),'name':'timeOfDay'},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x58')},{'type':a0_0x3bcf('0x6d'),'name':'holiday'},{'type':a0_0x3bcf('0x6d'),'name':'dayAfterHoliday'},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x22')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x59')},{'type':'value','name':a0_0x3bcf('0x54')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x47')}]}]},{'type':a0_0x3bcf('0x2b'),'nodeid':'W1','aggrConfigId':'weather','master':![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x3bcf('0x6d'),'name':'temperature1'},{'type':'value','name':'humidity1'},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x28')},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x16')},{'type':a0_0x3bcf('0x6d'),'name':'windBearing1'},{'type':a0_0x3bcf('0x6d'),'name':a0_0x3bcf('0x1e')}]}]}]};function processRecordDummyCb(_0x23f230,_0xfad9b6){return!![];}describe(a0_0x3bcf('0x5'),function(){let _0x5c4857,_0x390c5f;before(function(){fileManager['removeFolder'](a0_0x3bcf('0x8')),fileManager['createFolder'](a0_0x3bcf('0x8')),_0x5c4857=new qm['Base']({'dbPath':'./db2/','mode':'createClean'}),sen=new streamingSubstationNode(_0x5c4857,connectionConfig,fusionConfig[a0_0x3bcf('0x35')][0x0],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x5c4857['close']();}),describe('initialization',function(){it(a0_0x3bcf('0x4d'),function(){assert[a0_0x3bcf('0x30')](_0x5c4857,sen[a0_0x3bcf('0x15')]);}),it(a0_0x3bcf('0x42'),function(){assert[a0_0x3bcf('0x30')](sen[a0_0x3bcf('0x41')][a0_0x3bcf('0xb')],'N1');}),it('check\x20store\x20structure',function(){assert[a0_0x3bcf('0x45')](sen[a0_0x3bcf('0x41')]['fields'],[{'id':0x0,'name':a0_0x3bcf('0x51'),'type':a0_0x3bcf('0x48'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':a0_0x3bcf('0x7'),'type':a0_0x3bcf('0x0'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':a0_0x3bcf('0x79'),'type':a0_0x3bcf('0x0'),'nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':a0_0x3bcf('0x67'),'type':'float','nullable':![],'internal':![],'primary':![]}]);}),it('aggregates\x20initialized\x20-\x20number',function(){assert[a0_0x3bcf('0x30')](Object['keys'](sen[a0_0x3bcf('0x70')])['length'],0x1e);}),it(a0_0x3bcf('0x1f'),function(){assert[a0_0x3bcf('0x45')](Object[a0_0x3bcf('0x66')](sen[a0_0x3bcf('0x70')]),[a0_0x3bcf('0x5e'),a0_0x3bcf('0x14'),a0_0x3bcf('0x56'),a0_0x3bcf('0x3'),a0_0x3bcf('0x39'),a0_0x3bcf('0x4f'),'current|min|21600000',a0_0x3bcf('0x52'),a0_0x3bcf('0x2c'),a0_0x3bcf('0x9'),a0_0x3bcf('0x17'),a0_0x3bcf('0x5d'),a0_0x3bcf('0x71'),'current|winbuf|604800000',a0_0x3bcf('0x34'),'voltage|tick',a0_0x3bcf('0x36'),a0_0x3bcf('0x2f'),a0_0x3bcf('0x65'),a0_0x3bcf('0x73'),a0_0x3bcf('0x18'),a0_0x3bcf('0x6'),a0_0x3bcf('0x64'),'voltage|winbuf|86400000',a0_0x3bcf('0x68'),a0_0x3bcf('0x23'),a0_0x3bcf('0x46'),'voltage|variance|86400000','voltage|winbuf|604800000',a0_0x3bcf('0x1c')]);}),it(a0_0x3bcf('0x6c'),function(){assert[a0_0x3bcf('0x45')](sen['config'],fusionConfig[a0_0x3bcf('0x35')][0x0]);}),it(a0_0x3bcf('0x44'),function(){assert[a0_0x3bcf('0x30')](sen['fusionNodeI'],0x63);}),it('callback\x20function\x20should\x20be\x20set',function(){assert['equal'](typeof sen[a0_0x3bcf('0x2d')],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x27'),function(){assert[a0_0x3bcf('0x30')](sen[a0_0x3bcf('0x25')],null);}),it(a0_0x3bcf('0x11'),function(){assert[a0_0x3bcf('0x45')](sen[a0_0x3bcf('0x76')],[]);}),it(a0_0x3bcf('0x29'),function(){assert[a0_0x3bcf('0x30')](sen['position'],0x0);}),it(a0_0x3bcf('0x37'),function(){assert[a0_0x3bcf('0x30')](sen[a0_0x3bcf('0x4b')],!![]);}),it(a0_0x3bcf('0x24'),function(){assert[a0_0x3bcf('0x30')](sen['isMaster'](),!![]);}),it(a0_0x3bcf('0x5a'),function(){assert['equal'](typeof sen[a0_0x3bcf('0x69')],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x1a'),function(){assert['equal'](typeof sen[a0_0x3bcf('0x5f')],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x13'),function(){assert[a0_0x3bcf('0x30')](typeof sen['createAggregates'],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x2e'),function(){assert[a0_0x3bcf('0x30')](typeof sen[a0_0x3bcf('0x63')],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x3b'),function(){assert[a0_0x3bcf('0x30')](typeof sen[a0_0x3bcf('0x6f')],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x3e'),function(){assert[a0_0x3bcf('0x30')](typeof sen['checkDataAvailability'],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0xc'),function(){assert['equal'](typeof sen[a0_0x3bcf('0x21')],'function');}),it(a0_0x3bcf('0x77'),function(){assert[a0_0x3bcf('0x30')](typeof sen['getOffsetTimestamp'],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x49'),function(){assert[a0_0x3bcf('0x30')](typeof sen[a0_0x3bcf('0x4a')],'function');}),it(a0_0x3bcf('0x38'),function(){assert[a0_0x3bcf('0x30')](typeof sen['getAggregates'],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x50'),function(){assert[a0_0x3bcf('0x30')](typeof sen[a0_0x3bcf('0x26')],a0_0x3bcf('0x1b'));}),it(a0_0x3bcf('0x6b'),function(){assert['equal'](sen[a0_0x3bcf('0x32')](),!![]);}),it(a0_0x3bcf('0x19'),function(){sen['setMasterOffset'](),assert[a0_0x3bcf('0x30')](sen[a0_0x3bcf('0x74')],-0x1);}),it('slave\x20offset\x20set\x20correctly:\x20no\x20data',function(){assert[a0_0x3bcf('0x30')](sen[a0_0x3bcf('0x21')](0x0),![]);});}),describe(a0_0x3bcf('0x6e'),function(){it(a0_0x3bcf('0x33'),function(){sen[a0_0x3bcf('0x75')](JSON[a0_0x3bcf('0x4c')]('{\x22timestamp\x22:1538737200000,\x22current\x22:12,\x22voltage\x22:232.45}')),sen[a0_0x3bcf('0x75')](JSON['parse'](a0_0x3bcf('0x1d'))),sen[a0_0x3bcf('0x75')](JSON[a0_0x3bcf('0x4c')](a0_0x3bcf('0x3a'))),sen[a0_0x3bcf('0x75')](JSON[a0_0x3bcf('0x4c')](a0_0x3bcf('0x3f'))),sen[a0_0x3bcf('0x75')](JSON[a0_0x3bcf('0x4c')](a0_0x3bcf('0x12'))),sen['processRecord'](JSON['parse']('{\x22timestamp\x22:1538737201000,\x22current\x22:17,\x22voltage\x22:242.45}')),sen[a0_0x3bcf('0x75')](JSON[a0_0x3bcf('0x4c')](a0_0x3bcf('0x4'))),sen[a0_0x3bcf('0x75')](JSON['parse'](a0_0x3bcf('0x72'))),console[a0_0x3bcf('0x6a')](a0_0x3bcf('0x10')),console['log'](sen['buffer']);});});});