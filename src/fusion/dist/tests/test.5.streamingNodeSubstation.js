const a0_0x7662=['{\x22timestamp\x22:1538737202000,\x22current\x22:14,\x22voltage\x22:252.45}','192.168.85.98:2181','buffer','position','broadcastAggregates','getOffsetTimestamp\x20function\x20exists','deepEqual','log','../nodes/streamingEnergyNode.js','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','voltage|max|21600000','variance','current|winbuf|604800000','{\x22timestamp\x22:1538737213000,\x22current\x22:19,\x22voltage\x22:262.45}','aggregate','aggregates\x20initialized\x20-\x20number','../nodes/streamingNode.js','keys','length','{\x22timestamp\x22:1538737213000,\x22current\x22:15,\x22voltage\x22:262.45}','streamingSubstationNode','static','parse','config','buffer\x20empty','fusionNodeI\x20correctly\x20saved','config\x20saved','nodes','check\x20if\x20store\x20exists','current|ma|3600000','voltage|winbuf|604800000','current|variance|86400000','base\x20saved','broadcastAggregates\x20function\x20exists','../nodes/streamingSubstationNode.js','createFolder','parent','createClean','removeFolder','voltage|variance|21600000','base','offsetExists\x20function\x20exists','{\x22timestamp\x22:1538737201000,\x22current\x22:13,\x22voltage\x22:242.45}','min','float','Substation','getPartialFeatureVector\x20function\x20exists','pressure1','getAggregates','voltage|tick','connectToKafka\x20function\x20exists','voltage|max|86400000','power','constructor','current|max|86400000','isMaster','setMasterOffset\x20function\x20exists','current|min|86400000','qminer','parent\x20saved','buffer\x20position\x20is\x200','isMaster\x20function','Base','voltage|variance|86400000','apply','{\x22timestamp\x22:1538737200000,\x22current\x22:16,\x22voltage\x22:232.45}','{\x22timestamp\x22:1538737202000,\x22current\x22:18,\x22voltage\x22:252.45}','current','windBearing1','../common/utils/fileManager.js','dayBeforeHoliday','timeOfDay','processRecordCb','Time','return\x20/\x22\x20+\x20this\x20+\x20\x22/','data\x20record\x20saved\x20correctly','buffer\x20values','rawstore','../nodes/streamingWeatherNode.js','deleteObsoleteRows\x20function\x20exists','voltage|ma|000','current|ma|21600000','N1_24h','getAggregates\x20function\x20exists','voltage|min|21600000','createAggregates\x20function\x20exists','voltage|ma|86400000','master\x20flag\x20set\x20correctly','equal','setMasterOffset','datetime','winbuf','voltage','voltage|winbuf|86400000','callback\x20function\x20should\x20be\x20set','master\x20set\x20correctly','fusionNodeI','windSpeed1','weekEnd','name','humidity1','voltage|ma|21600000','current|max|21600000','weather','aggregates\x20initialized\x20-\x20key\x20names','function','current|ma|604800000','setSlaveOffset','voltage|winbuf|21600000','value','max','monthOfYear','current|ma|86400000','dayOfYear','getOffsetTimestamp','temperature1','../nodes/streamingStaticNode.js','data\x20insertion','close','kafka','current|min|21600000','voltage|ma|604800000','dayOfWeek','getPartialFeatureVector','holiday','current|tick','voltage|min|86400000','./db2/','check\x20store\x20structure','processRecord'];(function(_0x6e66fe,_0x7662d8){const _0x4a4b4e=function(_0x3214c0){while(--_0x3214c0){_0x6e66fe['push'](_0x6e66fe['shift']());}},_0x566050=function(){const _0x4487c3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x423643,_0x1dc99d,_0x9466de,_0xc16cef){_0xc16cef=_0xc16cef||{};let _0x226185=_0x1dc99d+'='+_0x9466de,_0x453bc2=0x0;for(let _0xf014bf=0x0,_0x43da0b=_0x423643['length'];_0xf014bf<_0x43da0b;_0xf014bf++){const _0xf30329=_0x423643[_0xf014bf];_0x226185+=';\x20'+_0xf30329;const _0x5c061a=_0x423643[_0xf30329];_0x423643['push'](_0x5c061a),_0x43da0b=_0x423643['length'],_0x5c061a!==!![]&&(_0x226185+='='+_0x5c061a);}_0xc16cef['cookie']=_0x226185;},'removeCookie':function(){return'dev';},'getCookie':function(_0x8fe4b1,_0x71f1fa){_0x8fe4b1=_0x8fe4b1||function(_0x503463){return _0x503463;};const _0x28e2cd=_0x8fe4b1(new RegExp('(?:^|;\x20)'+_0x71f1fa['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x512180=function(_0x10fef6,_0x3a8777){_0x10fef6(++_0x3a8777);};return _0x512180(_0x4a4b4e,_0x7662d8),_0x28e2cd?decodeURIComponent(_0x28e2cd[0x1]):undefined;}},_0x24379a=function(){const _0x40edf1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x40edf1['test'](_0x4487c3['removeCookie']['toString']());};_0x4487c3['updateCookie']=_0x24379a;let _0x3f1c2a='';const _0xb4f1fd=_0x4487c3['updateCookie']();if(!_0xb4f1fd)_0x4487c3['setCookie'](['*'],'counter',0x1);else _0xb4f1fd?_0x3f1c2a=_0x4487c3['getCookie'](null,'counter'):_0x4487c3['removeCookie']();};_0x566050();}(a0_0x7662,0x80));const a0_0x4a4b=function(_0x6e66fe,_0x7662d8){_0x6e66fe=_0x6e66fe-0x0;let _0x4a4b4e=a0_0x7662[_0x6e66fe];return _0x4a4b4e;};const a0_0x9466de=function(){let _0x31b6c3=!![];return function(_0x4e4c2f,_0x43af0c){const _0x5a0e89=_0x31b6c3?function(){if(_0x43af0c){const _0x84eaa6=_0x43af0c[a0_0x4a4b('0x42')](_0x4e4c2f,arguments);return _0x43af0c=null,_0x84eaa6;}}:function(){};return _0x31b6c3=![],_0x5a0e89;};}(),a0_0x1dc99d=a0_0x9466de(this,function(){const _0x36e065=function(){const _0xf40ff0=_0x36e065[a0_0x4a4b('0x37')](a0_0x4a4b('0x4c'))()[a0_0x4a4b('0x37')](a0_0x4a4b('0xb'));return!_0xf40ff0['test'](a0_0x1dc99d);};return _0x36e065();});a0_0x1dc99d();const streamingNode=require(a0_0x4a4b('0x12')),streamingEnergyNode=require(a0_0x4a4b('0xa')),streamingWeatherNode=require(a0_0x4a4b('0x50')),streamingStaticNode=require(a0_0x4a4b('0x76')),streamingTrainNode=require('../nodes/streamingTrainNode.js'),streamingSubstationNode=require(a0_0x4a4b('0x24')),fileManager=require(a0_0x4a4b('0x47')),qm=require(a0_0x4a4b('0x3c')),fs=require('fs');var assert=require('assert');let connectionConfig={'zookeeper':a0_0x4a4b('0x3')},aggrConfigs={'Substation':[{'field':a0_0x4a4b('0x45'),'tick':[{'type':a0_0x4a4b('0x5d'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x4a4b('0x5d'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x4a4b('0x70')},{'type':a0_0x4a4b('0x2d')},{'type':a0_0x4a4b('0xd')}]},{'type':a0_0x4a4b('0x5d'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'max'},{'type':'min'},{'type':'variance'}]},{'type':a0_0x4a4b('0x5d'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':'voltage','tick':[{'type':a0_0x4a4b('0x5d'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x4a4b('0x5d'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'max'},{'type':a0_0x4a4b('0x2d')},{'type':a0_0x4a4b('0xd')}]},{'type':a0_0x4a4b('0x5d'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x4a4b('0x70')},{'type':'min'},{'type':a0_0x4a4b('0xd')}]},{'type':a0_0x4a4b('0x5d'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':a0_0x4a4b('0x7e'),'tick':[{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':a0_0x4a4b('0x54'),'connection':{'type':a0_0x4a4b('0x79')},'fusionTick':0x3e8,'nodes':[{'type':a0_0x4a4b('0x2f'),'fusionTick':0x3e8,'nodeid':'N1','aggrConfigId':a0_0x4a4b('0x2f'),'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':'current|ma|000'},{'type':'value','name':a0_0x4a4b('0x52')}]},{'time':-0xe10*0x3e8,'attributes':[{'type':a0_0x4a4b('0x6f'),'name':'current|ma|3600000'},{'type':a0_0x4a4b('0x6f'),'name':'voltage|ma|3600000'}]},{'time':-0x6*0xe10*0x3e8,'attributes':[{'type':'value','name':a0_0x4a4b('0x53')},{'type':'value','name':a0_0x4a4b('0x68')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x7a')},{'type':a0_0x4a4b('0x6f'),'name':'current|variance|21600000'},{'type':'value','name':'voltage|ma|21600000'},{'type':a0_0x4a4b('0x6f'),'name':'voltage|max|21600000'},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x56')},{'type':'value','name':a0_0x4a4b('0x29')}]},{'time':-0x18*0xe10*0x3e8,'attributes':[{'type':a0_0x4a4b('0x6f'),'name':'current|ma|86400000'},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x38')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x3b')},{'type':a0_0x4a4b('0x6f'),'name':'current|variance|86400000'},{'type':a0_0x4a4b('0x6f'),'name':'voltage|ma|86400000'},{'type':a0_0x4a4b('0x6f'),'name':'voltage|max|86400000'},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x80')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x41')}]},{'time':-0x7*0x18*0xe10*0x3e8,'attributes':[{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x6c')},{'type':a0_0x4a4b('0x6f'),'name':'voltage|ma|604800000'}]}]},{'type':a0_0x4a4b('0x17'),'nodeid':'S1','aggrConfigId':a0_0x4a4b('0x17'),'master':![],'attributes':[{'time':0x18*0x168*0x3e8,'attributes':[{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x49')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x64')},{'type':a0_0x4a4b('0x6f'),'name':'holiday'},{'type':a0_0x4a4b('0x6f'),'name':'dayAfterHoliday'},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x48')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x7c')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x73')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x71')}]}]},{'type':a0_0x4a4b('0x69'),'nodeid':'W1','aggrConfigId':a0_0x4a4b('0x69'),'master':![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x75')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x66')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x31')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x63')},{'type':a0_0x4a4b('0x6f'),'name':a0_0x4a4b('0x46')},{'type':a0_0x4a4b('0x6f'),'name':'cloudCover1'}]}]}]};function processRecordDummyCb(_0x758185,_0x19cf36){return!![];}describe(a0_0x4a4b('0x16'),function(){let _0x594098,_0x1d9433;before(function(){fileManager[a0_0x4a4b('0x28')](a0_0x4a4b('0x81')),fileManager[a0_0x4a4b('0x25')](a0_0x4a4b('0x81')),_0x594098=new qm[(a0_0x4a4b('0x40'))]({'dbPath':'./db2/','mode':a0_0x4a4b('0x27')}),sen=new streamingSubstationNode(_0x594098,connectionConfig,fusionConfig[a0_0x4a4b('0x1d')][0x0],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x594098[a0_0x4a4b('0x78')]();}),describe('initialization',function(){it(a0_0x4a4b('0x22'),function(){assert[a0_0x4a4b('0x5a')](_0x594098,sen[a0_0x4a4b('0x2a')]);}),it(a0_0x4a4b('0x1e'),function(){assert['equal'](sen[a0_0x4a4b('0x4f')][a0_0x4a4b('0x65')],'N1');}),it(a0_0x4a4b('0x0'),function(){assert[a0_0x4a4b('0x8')](sen[a0_0x4a4b('0x4f')]['fields'],[{'id':0x0,'name':a0_0x4a4b('0x4b'),'type':a0_0x4a4b('0x5c'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':a0_0x4a4b('0x45'),'type':a0_0x4a4b('0x2e'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':a0_0x4a4b('0x5e'),'type':a0_0x4a4b('0x2e'),'nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':a0_0x4a4b('0x36'),'type':'float','nullable':![],'internal':![],'primary':![]}]);}),it(a0_0x4a4b('0x11'),function(){assert[a0_0x4a4b('0x5a')](Object['keys'](sen['aggregate'])[a0_0x4a4b('0x14')],0x1e);}),it(a0_0x4a4b('0x6a'),function(){assert[a0_0x4a4b('0x8')](Object[a0_0x4a4b('0x13')](sen[a0_0x4a4b('0x10')]),[a0_0x4a4b('0x7f'),'current|winbuf|3600000',a0_0x4a4b('0x1f'),'current|winbuf|21600000',a0_0x4a4b('0x53'),a0_0x4a4b('0x68'),a0_0x4a4b('0x7a'),'current|variance|21600000','current|winbuf|86400000',a0_0x4a4b('0x72'),a0_0x4a4b('0x38'),a0_0x4a4b('0x3b'),a0_0x4a4b('0x21'),a0_0x4a4b('0xe'),'current|ma|604800000',a0_0x4a4b('0x33'),'voltage|winbuf|3600000','voltage|ma|3600000',a0_0x4a4b('0x6e'),a0_0x4a4b('0x67'),a0_0x4a4b('0xc'),a0_0x4a4b('0x56'),a0_0x4a4b('0x29'),a0_0x4a4b('0x5f'),a0_0x4a4b('0x58'),a0_0x4a4b('0x35'),a0_0x4a4b('0x80'),a0_0x4a4b('0x41'),a0_0x4a4b('0x20'),a0_0x4a4b('0x7b')]);}),it(a0_0x4a4b('0x1c'),function(){assert[a0_0x4a4b('0x8')](sen[a0_0x4a4b('0x19')],fusionConfig[a0_0x4a4b('0x1d')][0x0]);}),it(a0_0x4a4b('0x1b'),function(){assert['equal'](sen[a0_0x4a4b('0x62')],0x63);}),it(a0_0x4a4b('0x60'),function(){assert[a0_0x4a4b('0x5a')](typeof sen[a0_0x4a4b('0x4a')],'function');}),it(a0_0x4a4b('0x3d'),function(){assert[a0_0x4a4b('0x5a')](sen[a0_0x4a4b('0x26')],null);}),it(a0_0x4a4b('0x1a'),function(){assert[a0_0x4a4b('0x8')](sen['buffer'],[]);}),it(a0_0x4a4b('0x3e'),function(){assert[a0_0x4a4b('0x5a')](sen[a0_0x4a4b('0x5')],0x0);}),it(a0_0x4a4b('0x59'),function(){assert['equal'](sen['master'],!![]);}),it(a0_0x4a4b('0x3f'),function(){assert['equal'](sen['isMaster'](),!![]);}),it(a0_0x4a4b('0x34'),function(){assert['equal'](typeof sen['connectToKafka'],a0_0x4a4b('0x6b'));}),it(a0_0x4a4b('0x23'),function(){assert['equal'](typeof sen[a0_0x4a4b('0x6')],a0_0x4a4b('0x6b'));}),it(a0_0x4a4b('0x57'),function(){assert['equal'](typeof sen['createAggregates'],'function');}),it(a0_0x4a4b('0x2b'),function(){assert[a0_0x4a4b('0x5a')](typeof sen['offsetExists'],a0_0x4a4b('0x6b'));}),it(a0_0x4a4b('0x51'),function(){assert[a0_0x4a4b('0x5a')](typeof sen['deleteObsoleteRows'],a0_0x4a4b('0x6b'));}),it('checkDataAvailability\x20function\x20exists',function(){assert['equal'](typeof sen['checkDataAvailability'],a0_0x4a4b('0x6b'));}),it('setSlaveOffset\x20function\x20exists',function(){assert[a0_0x4a4b('0x5a')](typeof sen[a0_0x4a4b('0x6d')],a0_0x4a4b('0x6b'));}),it(a0_0x4a4b('0x7'),function(){assert[a0_0x4a4b('0x5a')](typeof sen[a0_0x4a4b('0x74')],'function');}),it(a0_0x4a4b('0x3a'),function(){assert[a0_0x4a4b('0x5a')](typeof sen[a0_0x4a4b('0x74')],a0_0x4a4b('0x6b'));}),it(a0_0x4a4b('0x55'),function(){assert['equal'](typeof sen[a0_0x4a4b('0x32')],'function');}),it(a0_0x4a4b('0x30'),function(){assert['equal'](typeof sen[a0_0x4a4b('0x7d')],a0_0x4a4b('0x6b'));}),it(a0_0x4a4b('0x61'),function(){assert[a0_0x4a4b('0x5a')](sen[a0_0x4a4b('0x39')](),!![]);}),it('master\x20offset\x20set\x20correctly',function(){sen[a0_0x4a4b('0x5b')](),assert[a0_0x4a4b('0x5a')](sen[a0_0x4a4b('0x5')],-0x1);}),it('slave\x20offset\x20set\x20correctly:\x20no\x20data',function(){assert[a0_0x4a4b('0x5a')](sen[a0_0x4a4b('0x6d')](0x0),![]);});}),describe(a0_0x4a4b('0x77'),function(){it(a0_0x4a4b('0x4d'),function(){sen[a0_0x4a4b('0x1')](JSON[a0_0x4a4b('0x18')]('{\x22timestamp\x22:1538737200000,\x22current\x22:12,\x22voltage\x22:232.45}')),sen['processRecord'](JSON[a0_0x4a4b('0x18')](a0_0x4a4b('0x2c'))),sen[a0_0x4a4b('0x1')](JSON['parse'](a0_0x4a4b('0x2'))),sen[a0_0x4a4b('0x1')](JSON[a0_0x4a4b('0x18')](a0_0x4a4b('0x15'))),sen[a0_0x4a4b('0x1')](JSON[a0_0x4a4b('0x18')](a0_0x4a4b('0x43'))),sen[a0_0x4a4b('0x1')](JSON[a0_0x4a4b('0x18')]('{\x22timestamp\x22:1538737201000,\x22current\x22:17,\x22voltage\x22:242.45}')),sen[a0_0x4a4b('0x1')](JSON[a0_0x4a4b('0x18')](a0_0x4a4b('0x44'))),sen[a0_0x4a4b('0x1')](JSON['parse'](a0_0x4a4b('0xf'))),console[a0_0x4a4b('0x9')](a0_0x4a4b('0x4e')),console[a0_0x4a4b('0x9')](sen[a0_0x4a4b('0x4')]);});});});