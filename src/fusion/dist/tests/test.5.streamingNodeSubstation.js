const a0_0x5623=['../nodes/streamingSubstationNode.js','broadcastAggregates\x20function\x20exists','../nodes/streamingTrainNode.js','{\x22timestamp\x22:1538737201000,\x22current\x22:17,\x22voltage\x22:242.45}','aggregates\x20initialized\x20-\x20key\x20names','nodes','callback\x20function\x20should\x20be\x20set','data\x20record\x20saved\x20correctly','{\x22timestamp\x22:1538737200000,\x22current\x22:16,\x22voltage\x22:232.45}','voltage|ma|86400000','deepEqual','function','dayOfWeek','connectToKafka','current|min|86400000','voltage|tick','createFolder','dayAfterHoliday','buffer','current|ma|21600000','voltage|winbuf|86400000','../common/utils/fileManager.js','current|winbuf|21600000','current|max|86400000','keys','connectToKafka\x20function\x20exists','parse','windSpeed1','current|winbuf|3600000','dayOfYear','current|variance|86400000','../nodes/streamingNode.js','current|max|21600000','setMasterOffset','setMasterOffset\x20function\x20exists','monthOfYear','humidity1','master\x20offset\x20set\x20correctly','../nodes/streamingWeatherNode.js','variance','buffer\x20position\x20is\x200','isMaster\x20function','check\x20if\x20store\x20exists','isMaster','static','{\x22timestamp\x22:1538737201000,\x22current\x22:13,\x22voltage\x22:242.45}','qminer','equal','aggregate','data\x20insertion','master\x20set\x20correctly','setSlaveOffset\x20function\x20exists','value','current|variance|21600000','Base','aggregates\x20initialized\x20-\x20number','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','setSlaveOffset','current','config\x20saved','voltage|min|21600000','deleteObsoleteRows','current|ma|86400000','fusionNodeI','kafka','getAggregates','check\x20store\x20structure','holiday','broadcastAggregates','test','master\x20flag\x20set\x20correctly','config','slave\x20offset\x20set\x20correctly:\x20no\x20data','position','streamingSubstationNode','voltage|ma|21600000','createAggregates','close','current|min|21600000','voltage|variance|86400000','current|winbuf|86400000','parent','getOffsetTimestamp','voltage|ma|604800000','power','getPartialFeatureVector\x20function\x20exists','length','current|tick','master','datetime','voltage|ma|3600000','buffer\x20values','getAggregates\x20function\x20exists','{\x22timestamp\x22:1538737200000,\x22current\x22:12,\x22voltage\x22:232.45}','apply','removeFolder','{\x22timestamp\x22:1538737213000,\x22current\x22:19,\x22voltage\x22:262.45}','cloudCover1','weekEnd','buffer\x20empty','getOffsetTimestamp\x20function\x20exists','fields','current|ma|604800000','pressure1','voltage|min|86400000','weather','dayBeforeHoliday','log','min','Time','voltage|variance|21600000','rawstore','{\x22timestamp\x22:1538737202000,\x22current\x22:14,\x22voltage\x22:252.45}','current|ma|3600000','assert','initialization','current|ma|000','winbuf','voltage|max|86400000','N1_24h','processRecordCb','parent\x20saved','Substation','voltage|winbuf|21600000','timeOfDay','voltage|winbuf|604800000','processRecord','max','voltage|max|21600000','constructor','./db2/','../nodes/streamingEnergyNode.js'];(function(_0x1e368c,_0x5623a0){const _0x31c317=function(_0x2f9404){while(--_0x2f9404){_0x1e368c['push'](_0x1e368c['shift']());}},_0x2ac06e=function(){const _0x5ba525={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xa4c9bb,_0x486b0f,_0x490048,_0x33df72){_0x33df72=_0x33df72||{};let _0x60abca=_0x486b0f+'='+_0x490048,_0x39b450=0x0;for(let _0x518aee=0x0,_0xa4c4f9=_0xa4c9bb['length'];_0x518aee<_0xa4c4f9;_0x518aee++){const _0x2fb3db=_0xa4c9bb[_0x518aee];_0x60abca+=';\x20'+_0x2fb3db;const _0x3518a8=_0xa4c9bb[_0x2fb3db];_0xa4c9bb['push'](_0x3518a8),_0xa4c4f9=_0xa4c9bb['length'],_0x3518a8!==!![]&&(_0x60abca+='='+_0x3518a8);}_0x33df72['cookie']=_0x60abca;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4f10a8,_0x402fcb){_0x4f10a8=_0x4f10a8||function(_0xc71a61){return _0xc71a61;};const _0x42964a=_0x4f10a8(new RegExp('(?:^|;\x20)'+_0x402fcb['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x5e4686=function(_0x3410c0,_0x44bf51){_0x3410c0(++_0x44bf51);};return _0x5e4686(_0x31c317,_0x5623a0),_0x42964a?decodeURIComponent(_0x42964a[0x1]):undefined;}},_0xdd1a57=function(){const _0xe7c65c=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xe7c65c['test'](_0x5ba525['removeCookie']['toString']());};_0x5ba525['updateCookie']=_0xdd1a57;let _0x5a31b1='';const _0x462404=_0x5ba525['updateCookie']();if(!_0x462404)_0x5ba525['setCookie'](['*'],'counter',0x1);else _0x462404?_0x5a31b1=_0x5ba525['getCookie'](null,'counter'):_0x5ba525['removeCookie']();};_0x2ac06e();}(a0_0x5623,0xe3));const a0_0x31c3=function(_0x1e368c,_0x5623a0){_0x1e368c=_0x1e368c-0x0;let _0x31c317=a0_0x5623[_0x1e368c];return _0x31c317;};const a0_0x490048=function(){let _0x3ab597=!![];return function(_0x541f4d,_0x3961be){const _0x39999d=_0x3ab597?function(){if(_0x3961be){const _0x5ce361=_0x3961be[a0_0x31c3('0x83')](_0x541f4d,arguments);return _0x3961be=null,_0x5ce361;}}:function(){};return _0x3ab597=![],_0x39999d;};}(),a0_0x486b0f=a0_0x490048(this,function(){const _0x3e461c=function(){const _0x27cc5e=_0x3e461c[a0_0x31c3('0x22')]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[a0_0x31c3('0x22')](a0_0x31c3('0x5d'));return!_0x27cc5e[a0_0x31c3('0x6a')](a0_0x486b0f);};return _0x3e461c();});a0_0x486b0f();const streamingNode=require(a0_0x31c3('0x44')),streamingEnergyNode=require(a0_0x31c3('0x24')),streamingWeatherNode=require(a0_0x31c3('0x4b')),streamingStaticNode=require('../nodes/streamingStaticNode.js'),streamingTrainNode=require(a0_0x31c3('0x27')),streamingSubstationNode=require(a0_0x31c3('0x25')),fileManager=require(a0_0x31c3('0x3a')),qm=require(a0_0x31c3('0x53')),fs=require('fs');var assert=require(a0_0x31c3('0x13'));let connectionConfig={'zookeeper':'192.168.85.98:2181'},aggrConfigs={'Substation':[{'field':a0_0x31c3('0x5f'),'tick':[{'type':'winbuf','winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x31c3('0x16'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x31c3('0x20')},{'type':a0_0x31c3('0xd')},{'type':'variance'}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x31c3('0x20')},{'type':a0_0x31c3('0xd')},{'type':'variance'}]},{'type':a0_0x31c3('0x16'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':'voltage','tick':[{'type':a0_0x31c3('0x16'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x31c3('0x16'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x31c3('0x20')},{'type':a0_0x31c3('0xd')},{'type':a0_0x31c3('0x4c')}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'max'},{'type':a0_0x31c3('0xd')},{'type':a0_0x31c3('0x4c')}]},{'type':a0_0x31c3('0x16'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':'holiday','tick':[{'type':a0_0x31c3('0x16'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':a0_0x31c3('0x18'),'connection':{'type':a0_0x31c3('0x65')},'fusionTick':0x3e8,'nodes':[{'type':a0_0x31c3('0x1b'),'fusionTick':0x3e8,'nodeid':'N1','aggrConfigId':a0_0x31c3('0x1b'),'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x15')},{'type':a0_0x31c3('0x59'),'name':'voltage|ma|000'}]},{'time':-0xe10*0x3e8,'attributes':[{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x12')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x7f')}]},{'time':-0x6*0xe10*0x3e8,'attributes':[{'type':'value','name':a0_0x31c3('0x38')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x45')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x73')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x5a')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x70')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x21')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x61')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0xf')}]},{'time':-0x18*0xe10*0x3e8,'attributes':[{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x63')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x3c')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x33')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x43')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x2e')},{'type':'value','name':a0_0x31c3('0x17')},{'type':'value','name':a0_0x31c3('0x9')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x74')}]},{'time':-0x7*0x18*0xe10*0x3e8,'attributes':[{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x7')},{'type':'value','name':a0_0x31c3('0x78')}]}]},{'type':'static','nodeid':'S1','aggrConfigId':a0_0x31c3('0x51'),'master':![],'attributes':[{'time':0x18*0x168*0x3e8,'attributes':[{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x1d')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x3')},{'type':'value','name':a0_0x31c3('0x68')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x36')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0xb')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x31')},{'type':'value','name':a0_0x31c3('0x42')},{'type':'value','name':a0_0x31c3('0x48')}]}]},{'type':a0_0x31c3('0xa'),'nodeid':'W1','aggrConfigId':'weather','master':![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x31c3('0x59'),'name':'temperature1'},{'type':'value','name':a0_0x31c3('0x49')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x8')},{'type':a0_0x31c3('0x59'),'name':a0_0x31c3('0x40')},{'type':a0_0x31c3('0x59'),'name':'windBearing1'},{'type':'value','name':a0_0x31c3('0x2')}]}]}]};function processRecordDummyCb(_0x4ed93d,_0x1122ae){return!![];}describe(a0_0x31c3('0x6f'),function(){let _0x4ff923,_0xe2eac1;before(function(){fileManager[a0_0x31c3('0x0')](a0_0x31c3('0x23')),fileManager[a0_0x31c3('0x35')]('./db2/'),_0x4ff923=new qm[(a0_0x31c3('0x5b'))]({'dbPath':'./db2/','mode':'createClean'}),sen=new streamingSubstationNode(_0x4ff923,connectionConfig,fusionConfig[a0_0x31c3('0x2a')][0x0],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x4ff923[a0_0x31c3('0x72')]();}),describe(a0_0x31c3('0x14'),function(){it('base\x20saved',function(){assert[a0_0x31c3('0x54')](_0x4ff923,sen['base']);}),it(a0_0x31c3('0x4f'),function(){assert[a0_0x31c3('0x54')](sen[a0_0x31c3('0x10')]['name'],'N1');}),it(a0_0x31c3('0x67'),function(){assert[a0_0x31c3('0x2f')](sen[a0_0x31c3('0x10')][a0_0x31c3('0x6')],[{'id':0x0,'name':a0_0x31c3('0xe'),'type':a0_0x31c3('0x7e'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':a0_0x31c3('0x5f'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':'voltage','type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':a0_0x31c3('0x79'),'type':'float','nullable':![],'internal':![],'primary':![]}]);}),it(a0_0x31c3('0x5c'),function(){assert[a0_0x31c3('0x54')](Object[a0_0x31c3('0x3d')](sen[a0_0x31c3('0x55')])[a0_0x31c3('0x7b')],0x1e);}),it(a0_0x31c3('0x29'),function(){assert[a0_0x31c3('0x2f')](Object[a0_0x31c3('0x3d')](sen[a0_0x31c3('0x55')]),[a0_0x31c3('0x7c'),a0_0x31c3('0x41'),a0_0x31c3('0x12'),a0_0x31c3('0x3b'),a0_0x31c3('0x38'),a0_0x31c3('0x45'),'current|min|21600000',a0_0x31c3('0x5a'),a0_0x31c3('0x75'),a0_0x31c3('0x63'),'current|max|86400000','current|min|86400000',a0_0x31c3('0x43'),'current|winbuf|604800000',a0_0x31c3('0x7'),a0_0x31c3('0x34'),'voltage|winbuf|3600000',a0_0x31c3('0x7f'),a0_0x31c3('0x1c'),'voltage|ma|21600000',a0_0x31c3('0x21'),a0_0x31c3('0x61'),a0_0x31c3('0xf'),a0_0x31c3('0x39'),a0_0x31c3('0x2e'),a0_0x31c3('0x17'),'voltage|min|86400000',a0_0x31c3('0x74'),a0_0x31c3('0x1e'),a0_0x31c3('0x78')]);}),it(a0_0x31c3('0x60'),function(){assert[a0_0x31c3('0x2f')](sen[a0_0x31c3('0x6c')],fusionConfig['nodes'][0x0]);}),it('fusionNodeI\x20correctly\x20saved',function(){assert['equal'](sen[a0_0x31c3('0x64')],0x63);}),it(a0_0x31c3('0x2b'),function(){assert[a0_0x31c3('0x54')](typeof sen[a0_0x31c3('0x19')],'function');}),it(a0_0x31c3('0x1a'),function(){assert['equal'](sen[a0_0x31c3('0x76')],null);}),it(a0_0x31c3('0x4'),function(){assert[a0_0x31c3('0x2f')](sen[a0_0x31c3('0x37')],[]);}),it(a0_0x31c3('0x4d'),function(){assert[a0_0x31c3('0x54')](sen[a0_0x31c3('0x6e')],0x0);}),it(a0_0x31c3('0x6b'),function(){assert[a0_0x31c3('0x54')](sen[a0_0x31c3('0x7d')],!![]);}),it(a0_0x31c3('0x4e'),function(){assert['equal'](sen['isMaster'](),!![]);}),it(a0_0x31c3('0x3e'),function(){assert['equal'](typeof sen[a0_0x31c3('0x32')],a0_0x31c3('0x30'));}),it(a0_0x31c3('0x26'),function(){assert['equal'](typeof sen[a0_0x31c3('0x69')],a0_0x31c3('0x30'));}),it('createAggregates\x20function\x20exists',function(){assert[a0_0x31c3('0x54')](typeof sen[a0_0x31c3('0x71')],a0_0x31c3('0x30'));}),it('offsetExists\x20function\x20exists',function(){assert['equal'](typeof sen['offsetExists'],'function');}),it('deleteObsoleteRows\x20function\x20exists',function(){assert[a0_0x31c3('0x54')](typeof sen[a0_0x31c3('0x62')],'function');}),it('checkDataAvailability\x20function\x20exists',function(){assert[a0_0x31c3('0x54')](typeof sen['checkDataAvailability'],a0_0x31c3('0x30'));}),it(a0_0x31c3('0x58'),function(){assert[a0_0x31c3('0x54')](typeof sen[a0_0x31c3('0x5e')],a0_0x31c3('0x30'));}),it(a0_0x31c3('0x5'),function(){assert['equal'](typeof sen[a0_0x31c3('0x77')],'function');}),it(a0_0x31c3('0x47'),function(){assert['equal'](typeof sen[a0_0x31c3('0x77')],a0_0x31c3('0x30'));}),it(a0_0x31c3('0x81'),function(){assert['equal'](typeof sen[a0_0x31c3('0x66')],a0_0x31c3('0x30'));}),it(a0_0x31c3('0x7a'),function(){assert['equal'](typeof sen['getPartialFeatureVector'],a0_0x31c3('0x30'));}),it(a0_0x31c3('0x57'),function(){assert[a0_0x31c3('0x54')](sen[a0_0x31c3('0x50')](),!![]);}),it(a0_0x31c3('0x4a'),function(){sen[a0_0x31c3('0x46')](),assert[a0_0x31c3('0x54')](sen[a0_0x31c3('0x6e')],-0x1);}),it(a0_0x31c3('0x6d'),function(){assert['equal'](sen[a0_0x31c3('0x5e')](0x0),![]);});}),describe(a0_0x31c3('0x56'),function(){it(a0_0x31c3('0x2c'),function(){sen['processRecord'](JSON[a0_0x31c3('0x3f')](a0_0x31c3('0x82'))),sen[a0_0x31c3('0x1f')](JSON['parse'](a0_0x31c3('0x52'))),sen['processRecord'](JSON[a0_0x31c3('0x3f')](a0_0x31c3('0x11'))),sen['processRecord'](JSON[a0_0x31c3('0x3f')]('{\x22timestamp\x22:1538737213000,\x22current\x22:15,\x22voltage\x22:262.45}')),sen[a0_0x31c3('0x1f')](JSON[a0_0x31c3('0x3f')](a0_0x31c3('0x2d'))),sen[a0_0x31c3('0x1f')](JSON['parse'](a0_0x31c3('0x28'))),sen['processRecord'](JSON[a0_0x31c3('0x3f')]('{\x22timestamp\x22:1538737202000,\x22current\x22:18,\x22voltage\x22:252.45}')),sen[a0_0x31c3('0x1f')](JSON[a0_0x31c3('0x3f')](a0_0x31c3('0x1'))),console[a0_0x31c3('0xc')](a0_0x31c3('0x80')),console[a0_0x31c3('0xc')](sen['buffer']);});});});