const a0_0x1096=['voltage|ma|604800000','kafka','fields','windSpeed1','fusionNodeI\x20correctly\x20saved','current|min|21600000','current|variance|86400000','createClean','voltage|winbuf|86400000','length','voltage|winbuf|21600000','../common/utils/fileManager.js','{\x22timestamp\x22:1538737201000,\x22current\x22:17,\x22voltage\x22:242.45}','dayBeforeHoliday','current|winbuf|21600000','checkDataAvailability','getPartialFeatureVector','parse','voltage|min|86400000','value','{\x22timestamp\x22:1538737202000,\x22current\x22:14,\x22voltage\x22:252.45}','current|winbuf|3600000','current','../nodes/streamingStaticNode.js','../nodes/streamingTrainNode.js','./db2/','log','data\x20record\x20saved\x20correctly','192.168.85.98:2181','weekEnd','dayOfWeek','buffer\x20values','pressure1','aggregates\x20initialized\x20-\x20key\x20names','max','createAggregates','current|ma|21600000','initialization','voltage|ma|3600000','getOffsetTimestamp\x20function\x20exists','isMaster','{\x22timestamp\x22:1538737200000,\x22current\x22:12,\x22voltage\x22:232.45}','master','cloudCover1','setMasterOffset\x20function\x20exists','{\x22timestamp\x22:1538737201000,\x22current\x22:13,\x22voltage\x22:242.45}','keys','{\x22timestamp\x22:1538737213000,\x22current\x22:15,\x22voltage\x22:262.45}','humidity1','removeFolder','isMaster\x20function','voltage|ma|21600000','data\x20insertion','winbuf','holiday','voltage|max|86400000','processRecord','variance','buffer','current|winbuf|86400000','current|variance|21600000','voltage|winbuf|604800000','test','{\x22timestamp\x22:1538737200000,\x22current\x22:16,\x22voltage\x22:232.45}','check\x20if\x20store\x20exists','weather','datetime','float','master\x20offset\x20set\x20correctly','voltage|variance|21600000','deepEqual','base','voltage|tick','master\x20set\x20correctly','assert','offsetExists\x20function\x20exists','Substation','config\x20saved','current|ma|86400000','parent','current|tick','deleteObsoleteRows','setSlaveOffset','aggregates\x20initialized\x20-\x20number','fusionNodeI','voltage|ma|86400000','windBearing1','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','voltage|max|21600000','broadcastAggregates','buffer\x20position\x20is\x200','setMasterOffset','current|max|86400000','getOffsetTimestamp','connectToKafka\x20function\x20exists','position','static','power','slave\x20offset\x20set\x20correctly:\x20no\x20data','setSlaveOffset\x20function\x20exists','streamingSubstationNode','callback\x20function\x20should\x20be\x20set','voltage','qminer','N1_24h','apply','aggregate','config','buffer\x20empty','equal','function','current|ma|3600000','voltage|variance|86400000','getAggregates\x20function\x20exists','min','../nodes/streamingNode.js','monthOfYear','connectToKafka','current|ma|604800000','name','current|min|86400000'];(function(_0x698740,_0x10969f){const _0x424e18=function(_0x25909e){while(--_0x25909e){_0x698740['push'](_0x698740['shift']());}},_0x585fc1=function(){const _0x440c87={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x169965,_0x50e354,_0x4eb631,_0x2c6e11){_0x2c6e11=_0x2c6e11||{};let _0x938716=_0x50e354+'='+_0x4eb631,_0x5d421e=0x0;for(let _0x4ba359=0x0,_0x580e89=_0x169965['length'];_0x4ba359<_0x580e89;_0x4ba359++){const _0x424bd1=_0x169965[_0x4ba359];_0x938716+=';\x20'+_0x424bd1;const _0x8fb64=_0x169965[_0x424bd1];_0x169965['push'](_0x8fb64),_0x580e89=_0x169965['length'],_0x8fb64!==!![]&&(_0x938716+='='+_0x8fb64);}_0x2c6e11['cookie']=_0x938716;},'removeCookie':function(){return'dev';},'getCookie':function(_0x13771a,_0x4a0cf3){_0x13771a=_0x13771a||function(_0x34eda4){return _0x34eda4;};const _0x53bec3=_0x13771a(new RegExp('(?:^|;\x20)'+_0x4a0cf3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x2cd5a5=function(_0x5a56ed,_0x1a4109){_0x5a56ed(++_0x1a4109);};return _0x2cd5a5(_0x424e18,_0x10969f),_0x53bec3?decodeURIComponent(_0x53bec3[0x1]):undefined;}},_0x58e0be=function(){const _0x370451=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x370451['test'](_0x440c87['removeCookie']['toString']());};_0x440c87['updateCookie']=_0x58e0be;let _0x76bf79='';const _0x488342=_0x440c87['updateCookie']();if(!_0x488342)_0x440c87['setCookie'](['*'],'counter',0x1);else _0x488342?_0x76bf79=_0x440c87['getCookie'](null,'counter'):_0x440c87['removeCookie']();};_0x585fc1();}(a0_0x1096,0x7f));const a0_0x424e=function(_0x698740,_0x10969f){_0x698740=_0x698740-0x0;let _0x424e18=a0_0x1096[_0x698740];return _0x424e18;};const a0_0x4eb631=function(){let _0x17438d=!![];return function(_0x4e6f3a,_0xb228e3){const _0x25de88=_0x17438d?function(){if(_0xb228e3){const _0x4455f8=_0xb228e3[a0_0x424e('0x63')](_0x4e6f3a,arguments);return _0xb228e3=null,_0x4455f8;}}:function(){};return _0x17438d=![],_0x25de88;};}(),a0_0x50e354=a0_0x4eb631(this,function(){const _0x57ac73=function(){const _0x1798ef=_0x57ac73['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](a0_0x424e('0x51'));return!_0x1798ef[a0_0x424e('0x38')](a0_0x50e354);};return _0x57ac73();});a0_0x50e354();const streamingNode=require(a0_0x424e('0x6d')),streamingEnergyNode=require('../nodes/streamingEnergyNode.js'),streamingWeatherNode=require('../nodes/streamingWeatherNode.js'),streamingStaticNode=require(a0_0x424e('0x11')),streamingTrainNode=require(a0_0x424e('0x12')),streamingSubstationNode=require('../nodes/streamingSubstationNode.js'),fileManager=require(a0_0x424e('0x5')),qm=require(a0_0x424e('0x61')),fs=require('fs');var assert=require(a0_0x424e('0x44'));let connectionConfig={'zookeeper':a0_0x424e('0x16')},aggrConfigs={'Substation':[{'field':a0_0x424e('0x10'),'tick':[{'type':a0_0x424e('0x2f'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x424e('0x2f'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x424e('0x1c')},{'type':a0_0x424e('0x6c')},{'type':a0_0x424e('0x33')}]},{'type':a0_0x424e('0x2f'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x424e('0x1c')},{'type':a0_0x424e('0x6c')},{'type':a0_0x424e('0x33')}]},{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':a0_0x424e('0x60'),'tick':[{'type':a0_0x424e('0x2f'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x424e('0x2f'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'max'},{'type':'min'},{'type':a0_0x424e('0x33')}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x424e('0x1c')},{'type':a0_0x424e('0x6c')},{'type':a0_0x424e('0x33')}]},{'type':a0_0x424e('0x2f'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':a0_0x424e('0x30'),'tick':[{'type':a0_0x424e('0x2f'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':a0_0x424e('0x62'),'connection':{'type':a0_0x424e('0x74')},'fusionTick':0x3e8,'nodes':[{'type':a0_0x424e('0x46'),'fusionTick':0x3e8,'nodeid':'N1','aggrConfigId':'Substation','master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x424e('0xd'),'name':'current|ma|000'},{'type':a0_0x424e('0xd'),'name':'voltage|ma|000'}]},{'time':-0xe10*0x3e8,'attributes':[{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x69')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x20')}]},{'time':-0x6*0xe10*0x3e8,'attributes':[{'type':a0_0x424e('0xd'),'name':'current|ma|21600000'},{'type':a0_0x424e('0xd'),'name':'current|max|21600000'},{'type':'value','name':a0_0x424e('0x78')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x36')},{'type':a0_0x424e('0xd'),'name':'voltage|ma|21600000'},{'type':'value','name':a0_0x424e('0x52')},{'type':a0_0x424e('0xd'),'name':'voltage|min|21600000'},{'type':a0_0x424e('0xd'),'name':'voltage|variance|21600000'}]},{'time':-0x18*0xe10*0x3e8,'attributes':[{'type':'value','name':a0_0x424e('0x48')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x56')},{'type':a0_0x424e('0xd'),'name':'current|min|86400000'},{'type':'value','name':a0_0x424e('0x0')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x4f')},{'type':a0_0x424e('0xd'),'name':'voltage|max|86400000'},{'type':a0_0x424e('0xd'),'name':'voltage|min|86400000'},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x6a')}]},{'time':-0x7*0x18*0xe10*0x3e8,'attributes':[{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x70')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x73')}]}]},{'type':a0_0x424e('0x5a'),'nodeid':'S1','aggrConfigId':a0_0x424e('0x5a'),'master':![],'attributes':[{'time':0x18*0x168*0x3e8,'attributes':[{'type':a0_0x424e('0xd'),'name':'timeOfDay'},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x17')},{'type':'value','name':'holiday'},{'type':a0_0x424e('0xd'),'name':'dayAfterHoliday'},{'type':'value','name':a0_0x424e('0x7')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x18')},{'type':a0_0x424e('0xd'),'name':'dayOfYear'},{'type':'value','name':a0_0x424e('0x6e')}]}]},{'type':a0_0x424e('0x3b'),'nodeid':'W1','aggrConfigId':a0_0x424e('0x3b'),'master':![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':'temperature1'},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x2a')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x1a')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x76')},{'type':'value','name':a0_0x424e('0x50')},{'type':a0_0x424e('0xd'),'name':a0_0x424e('0x25')}]}]}]};function processRecordDummyCb(_0x16a567,_0x30885d){return!![];}describe(a0_0x424e('0x5e'),function(){let _0x1680c9,_0x41b372;before(function(){fileManager[a0_0x424e('0x2b')](a0_0x424e('0x13')),fileManager['createFolder'](a0_0x424e('0x13')),_0x1680c9=new qm['Base']({'dbPath':'./db2/','mode':a0_0x424e('0x1')}),sen=new streamingSubstationNode(_0x1680c9,connectionConfig,fusionConfig['nodes'][0x0],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x1680c9['close']();}),describe(a0_0x424e('0x1f'),function(){it('base\x20saved',function(){assert[a0_0x424e('0x67')](_0x1680c9,sen[a0_0x424e('0x41')]);}),it(a0_0x424e('0x3a'),function(){assert['equal'](sen['rawstore'][a0_0x424e('0x71')],'N1');}),it('check\x20store\x20structure',function(){assert[a0_0x424e('0x40')](sen['rawstore'][a0_0x424e('0x75')],[{'id':0x0,'name':'Time','type':a0_0x424e('0x3c'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':a0_0x424e('0x10'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':a0_0x424e('0x60'),'type':a0_0x424e('0x3d'),'nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':a0_0x424e('0x5b'),'type':'float','nullable':![],'internal':![],'primary':![]}]);}),it(a0_0x424e('0x4d'),function(){assert[a0_0x424e('0x67')](Object[a0_0x424e('0x28')](sen[a0_0x424e('0x64')])[a0_0x424e('0x3')],0x1e);}),it(a0_0x424e('0x1b'),function(){assert[a0_0x424e('0x40')](Object[a0_0x424e('0x28')](sen['aggregate']),[a0_0x424e('0x4a'),a0_0x424e('0xf'),a0_0x424e('0x69'),a0_0x424e('0x8'),a0_0x424e('0x1e'),'current|max|21600000',a0_0x424e('0x78'),a0_0x424e('0x36'),a0_0x424e('0x35'),a0_0x424e('0x48'),a0_0x424e('0x56'),a0_0x424e('0x72'),a0_0x424e('0x0'),'current|winbuf|604800000',a0_0x424e('0x70'),a0_0x424e('0x42'),'voltage|winbuf|3600000',a0_0x424e('0x20'),a0_0x424e('0x4'),a0_0x424e('0x2d'),a0_0x424e('0x52'),'voltage|min|21600000',a0_0x424e('0x3f'),a0_0x424e('0x2'),'voltage|ma|86400000',a0_0x424e('0x31'),a0_0x424e('0xc'),a0_0x424e('0x6a'),a0_0x424e('0x37'),a0_0x424e('0x73')]);}),it(a0_0x424e('0x47'),function(){assert[a0_0x424e('0x40')](sen[a0_0x424e('0x65')],fusionConfig['nodes'][0x0]);}),it(a0_0x424e('0x77'),function(){assert[a0_0x424e('0x67')](sen[a0_0x424e('0x4e')],0x63);}),it(a0_0x424e('0x5f'),function(){assert[a0_0x424e('0x67')](typeof sen['processRecordCb'],'function');}),it('parent\x20saved',function(){assert[a0_0x424e('0x67')](sen[a0_0x424e('0x49')],null);}),it(a0_0x424e('0x66'),function(){assert[a0_0x424e('0x40')](sen[a0_0x424e('0x34')],[]);}),it(a0_0x424e('0x54'),function(){assert[a0_0x424e('0x67')](sen[a0_0x424e('0x59')],0x0);}),it('master\x20flag\x20set\x20correctly',function(){assert['equal'](sen[a0_0x424e('0x24')],!![]);}),it(a0_0x424e('0x2c'),function(){assert[a0_0x424e('0x67')](sen['isMaster'](),!![]);}),it(a0_0x424e('0x58'),function(){assert[a0_0x424e('0x67')](typeof sen[a0_0x424e('0x6f')],a0_0x424e('0x68'));}),it('broadcastAggregates\x20function\x20exists',function(){assert[a0_0x424e('0x67')](typeof sen[a0_0x424e('0x53')],'function');}),it('createAggregates\x20function\x20exists',function(){assert['equal'](typeof sen[a0_0x424e('0x1d')],'function');}),it(a0_0x424e('0x45'),function(){assert['equal'](typeof sen['offsetExists'],a0_0x424e('0x68'));}),it('deleteObsoleteRows\x20function\x20exists',function(){assert['equal'](typeof sen[a0_0x424e('0x4b')],a0_0x424e('0x68'));}),it('checkDataAvailability\x20function\x20exists',function(){assert[a0_0x424e('0x67')](typeof sen[a0_0x424e('0x9')],a0_0x424e('0x68'));}),it(a0_0x424e('0x5d'),function(){assert[a0_0x424e('0x67')](typeof sen['setSlaveOffset'],a0_0x424e('0x68'));}),it(a0_0x424e('0x21'),function(){assert[a0_0x424e('0x67')](typeof sen[a0_0x424e('0x57')],a0_0x424e('0x68'));}),it(a0_0x424e('0x26'),function(){assert[a0_0x424e('0x67')](typeof sen['getOffsetTimestamp'],a0_0x424e('0x68'));}),it(a0_0x424e('0x6b'),function(){assert[a0_0x424e('0x67')](typeof sen['getAggregates'],a0_0x424e('0x68'));}),it('getPartialFeatureVector\x20function\x20exists',function(){assert['equal'](typeof sen[a0_0x424e('0xa')],a0_0x424e('0x68'));}),it(a0_0x424e('0x43'),function(){assert['equal'](sen[a0_0x424e('0x22')](),!![]);}),it(a0_0x424e('0x3e'),function(){sen[a0_0x424e('0x55')](),assert[a0_0x424e('0x67')](sen['position'],-0x1);}),it(a0_0x424e('0x5c'),function(){assert[a0_0x424e('0x67')](sen[a0_0x424e('0x4c')](0x0),![]);});}),describe(a0_0x424e('0x2e'),function(){it(a0_0x424e('0x15'),function(){sen[a0_0x424e('0x32')](JSON[a0_0x424e('0xb')](a0_0x424e('0x23'))),sen[a0_0x424e('0x32')](JSON['parse'](a0_0x424e('0x27'))),sen[a0_0x424e('0x32')](JSON['parse'](a0_0x424e('0xe'))),sen['processRecord'](JSON['parse'](a0_0x424e('0x29'))),sen[a0_0x424e('0x32')](JSON[a0_0x424e('0xb')](a0_0x424e('0x39'))),sen[a0_0x424e('0x32')](JSON[a0_0x424e('0xb')](a0_0x424e('0x6'))),sen[a0_0x424e('0x32')](JSON[a0_0x424e('0xb')]('{\x22timestamp\x22:1538737202000,\x22current\x22:18,\x22voltage\x22:252.45}')),sen[a0_0x424e('0x32')](JSON[a0_0x424e('0xb')]('{\x22timestamp\x22:1538737213000,\x22current\x22:19,\x22voltage\x22:262.45}')),console[a0_0x424e('0x14')](a0_0x424e('0x19')),console[a0_0x424e('0x14')](sen[a0_0x424e('0x34')]);});});});