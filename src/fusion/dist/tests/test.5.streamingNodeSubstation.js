const a0_0x111f=['aggregates\x20initialized\x20-\x20key\x20names','{\x22timestamp\x22:1538737213000,\x22current\x22:15,\x22voltage\x22:262.45}','getAggregates','voltage|tick','dayBeforeHoliday','assert','function','buffer\x20values','deleteObsoleteRows','getOffsetTimestamp\x20function\x20exists','return\x20/\x22\x20+\x20this\x20+\x20\x22/','monthOfYear','../nodes/streamingWeatherNode.js','min','deleteObsoleteRows\x20function\x20exists','Time','Substation','callback\x20function\x20should\x20be\x20set','current|max|21600000','current|max|86400000','{\x22timestamp\x22:1538737202000,\x22current\x22:18,\x22voltage\x22:252.45}','voltage|winbuf|86400000','value','kafka','aggregate','offsetExists\x20function\x20exists','master','./db2/','base\x20saved','setMasterOffset\x20function\x20exists','base','{\x22timestamp\x22:1538737201000,\x22current\x22:13,\x22voltage\x22:242.45}','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','nodes','config','power','voltage|variance|21600000','current|ma|604800000','winbuf','N1_24h','parent\x20saved','cloudCover1','fusionNodeI\x20correctly\x20saved','checkDataAvailability\x20function\x20exists','current|winbuf|3600000','getPartialFeatureVector\x20function\x20exists','name','datetime','static','current|ma|21600000','getOffsetTimestamp','{\x22timestamp\x22:1538737200000,\x22current\x22:12,\x22voltage\x22:232.45}','deepEqual','broadcastAggregates\x20function\x20exists','current|min|86400000','holiday','voltage|max|21600000','Base','apply','getPartialFeatureVector','voltage|min|21600000','current|winbuf|86400000','current|ma|3600000','master\x20set\x20correctly','master\x20flag\x20set\x20correctly','../nodes/streamingTrainNode.js','data\x20record\x20saved\x20correctly','current','keys','current|variance|21600000','createAggregates\x20function\x20exists','voltage|ma|3600000','streamingSubstationNode','float','fields','buffer\x20position\x20is\x200','constructor','variance','master\x20offset\x20set\x20correctly','buffer\x20empty','windBearing1','temperature1','aggregates\x20initialized\x20-\x20number','voltage|winbuf|3600000','setSlaveOffset\x20function\x20exists','close','voltage|variance|86400000','voltage|min|86400000','isMaster','position','equal','slave\x20offset\x20set\x20correctly:\x20no\x20data','offsetExists','dayOfYear','check\x20if\x20store\x20exists','voltage','../nodes/streamingSubstationNode.js','weekEnd','voltage|ma|86400000','createClean','dayOfWeek','rawstore','connectToKafka','{\x22timestamp\x22:1538737202000,\x22current\x22:14,\x22voltage\x22:252.45}','voltage|ma|21600000','weather','voltage|ma|604800000','createAggregates','max','current|ma|86400000','../nodes/streamingStaticNode.js','../common/utils/fileManager.js','processRecord','voltage|winbuf|604800000','setMasterOffset','../nodes/streamingEnergyNode.js','windSpeed1','setSlaveOffset','current|min|21600000','broadcastAggregates','parse','192.168.85.98:2181','{\x22timestamp\x22:1538737213000,\x22current\x22:19,\x22voltage\x22:262.45}','voltage|max|86400000','log','pressure1','data\x20insertion'];(function(_0xdb9001,_0x111f01){const _0x40ac28=function(_0x2c117a){while(--_0x2c117a){_0xdb9001['push'](_0xdb9001['shift']());}},_0x240492=function(){const _0x518f4d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x522674,_0x3d38cd,_0x4dbe6c,_0x31d667){_0x31d667=_0x31d667||{};let _0x12f302=_0x3d38cd+'='+_0x4dbe6c,_0x178dc4=0x0;for(let _0x12e90c=0x0,_0x16f9e8=_0x522674['length'];_0x12e90c<_0x16f9e8;_0x12e90c++){const _0x10d5ec=_0x522674[_0x12e90c];_0x12f302+=';\x20'+_0x10d5ec;const _0x52c948=_0x522674[_0x10d5ec];_0x522674['push'](_0x52c948),_0x16f9e8=_0x522674['length'],_0x52c948!==!![]&&(_0x12f302+='='+_0x52c948);}_0x31d667['cookie']=_0x12f302;},'removeCookie':function(){return'dev';},'getCookie':function(_0x542115,_0x23d1af){_0x542115=_0x542115||function(_0x2a7601){return _0x2a7601;};const _0xa8cff2=_0x542115(new RegExp('(?:^|;\x20)'+_0x23d1af['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x29be26=function(_0x2d9aa5,_0x2f8419){_0x2d9aa5(++_0x2f8419);};return _0x29be26(_0x40ac28,_0x111f01),_0xa8cff2?decodeURIComponent(_0xa8cff2[0x1]):undefined;}},_0xe0917f=function(){const _0x5167e4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5167e4['test'](_0x518f4d['removeCookie']['toString']());};_0x518f4d['updateCookie']=_0xe0917f;let _0x35483d='';const _0x3c6720=_0x518f4d['updateCookie']();if(!_0x3c6720)_0x518f4d['setCookie'](['*'],'counter',0x1);else _0x3c6720?_0x35483d=_0x518f4d['getCookie'](null,'counter'):_0x518f4d['removeCookie']();};_0x240492();}(a0_0x111f,0x9d));const a0_0x40ac=function(_0xdb9001,_0x111f01){_0xdb9001=_0xdb9001-0x0;let _0x40ac28=a0_0x111f[_0xdb9001];return _0x40ac28;};const a0_0x4dbe6c=function(){let _0x489eef=!![];return function(_0x2f8395,_0x375ac6){const _0x3f69ba=_0x489eef?function(){if(_0x375ac6){const _0x4fb646=_0x375ac6[a0_0x40ac('0x1c')](_0x2f8395,arguments);return _0x375ac6=null,_0x4fb646;}}:function(){};return _0x489eef=![],_0x3f69ba;};}(),a0_0x3d38cd=a0_0x4dbe6c(this,function(){const _0x38127f=function(){const _0x52f6d3=_0x38127f[a0_0x40ac('0x2e')](a0_0x40ac('0x6b'))()[a0_0x40ac('0x2e')](a0_0x40ac('0x2'));return!_0x52f6d3['test'](a0_0x3d38cd);};return _0x38127f();});a0_0x3d38cd();const streamingNode=require('../nodes/streamingNode.js'),streamingEnergyNode=require(a0_0x40ac('0x55')),streamingWeatherNode=require(a0_0x40ac('0x6d')),streamingStaticNode=require(a0_0x40ac('0x50')),streamingTrainNode=require(a0_0x40ac('0x23')),streamingSubstationNode=require(a0_0x40ac('0x42')),fileManager=require(a0_0x40ac('0x51')),qm=require('qminer'),fs=require('fs');var assert=require(a0_0x40ac('0x66'));let connectionConfig={'zookeeper':a0_0x40ac('0x5b')},aggrConfigs={'Substation':[{'field':a0_0x40ac('0x25'),'tick':[{'type':a0_0x40ac('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x40ac('0x4e')},{'type':'min'},{'type':a0_0x40ac('0x2f')}]},{'type':a0_0x40ac('0x8'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x40ac('0x4e')},{'type':'min'},{'type':a0_0x40ac('0x2f')}]},{'type':a0_0x40ac('0x8'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':a0_0x40ac('0x41'),'tick':[{'type':a0_0x40ac('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x40ac('0x4e')},{'type':a0_0x40ac('0x6e')},{'type':a0_0x40ac('0x2f')}]},{'type':a0_0x40ac('0x8'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'max'},{'type':a0_0x40ac('0x6e')},{'type':a0_0x40ac('0x2f')}]},{'type':a0_0x40ac('0x8'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}],'weather':[],'static':[{'field':'holiday','tick':[{'type':a0_0x40ac('0x8'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':a0_0x40ac('0x9'),'connection':{'type':a0_0x40ac('0x78')},'fusionTick':0x3e8,'nodes':[{'type':a0_0x40ac('0x71'),'fusionTick':0x3e8,'nodeid':'N1','aggrConfigId':'Substation','master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x40ac('0x77'),'name':'current|ma|000'},{'type':a0_0x40ac('0x77'),'name':'voltage|ma|000'}]},{'time':-0xe10*0x3e8,'attributes':[{'type':a0_0x40ac('0x77'),'name':'current|ma|3600000'},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x29')}]},{'time':-0x6*0xe10*0x3e8,'attributes':[{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x13')},{'type':'value','name':'current|max|21600000'},{'type':'value','name':a0_0x40ac('0x58')},{'type':a0_0x40ac('0x77'),'name':'current|variance|21600000'},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x4a')},{'type':'value','name':a0_0x40ac('0x1a')},{'type':'value','name':a0_0x40ac('0x1e')},{'type':'value','name':a0_0x40ac('0x6')}]},{'time':-0x18*0xe10*0x3e8,'attributes':[{'type':a0_0x40ac('0x77'),'name':'current|ma|86400000'},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x74')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x18')},{'type':'value','name':'current|variance|86400000'},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x44')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x5d')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x39')},{'type':a0_0x40ac('0x77'),'name':'voltage|variance|86400000'}]},{'time':-0x7*0x18*0xe10*0x3e8,'attributes':[{'type':'value','name':a0_0x40ac('0x7')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x4c')}]}]},{'type':a0_0x40ac('0x12'),'nodeid':'S1','aggrConfigId':'static','master':![],'attributes':[{'time':0x18*0x168*0x3e8,'attributes':[{'type':a0_0x40ac('0x77'),'name':'timeOfDay'},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x43')},{'type':'value','name':a0_0x40ac('0x19')},{'type':a0_0x40ac('0x77'),'name':'dayAfterHoliday'},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x65')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x46')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x3f')},{'type':'value','name':a0_0x40ac('0x6c')}]}]},{'type':a0_0x40ac('0x4b'),'nodeid':'W1','aggrConfigId':a0_0x40ac('0x4b'),'master':![],'attributes':[{'time':0x0,'attributes':[{'type':'value','name':a0_0x40ac('0x33')},{'type':a0_0x40ac('0x77'),'name':'humidity1'},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x5f')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x56')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0x32')},{'type':a0_0x40ac('0x77'),'name':a0_0x40ac('0xb')}]}]}]};function processRecordDummyCb(_0x1e94a8,_0xe04b59){return!![];}describe(a0_0x40ac('0x2a'),function(){let _0x42f491,_0x1ed849;before(function(){fileManager['removeFolder'](a0_0x40ac('0x7c')),fileManager['createFolder'](a0_0x40ac('0x7c')),_0x42f491=new qm[(a0_0x40ac('0x1b'))]({'dbPath':a0_0x40ac('0x7c'),'mode':a0_0x40ac('0x45')}),sen=new streamingSubstationNode(_0x42f491,connectionConfig,fusionConfig[a0_0x40ac('0x3')][0x0],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x42f491[a0_0x40ac('0x37')]();}),describe('initialization',function(){it(a0_0x40ac('0x7d'),function(){assert[a0_0x40ac('0x3c')](_0x42f491,sen[a0_0x40ac('0x0')]);}),it(a0_0x40ac('0x40'),function(){assert[a0_0x40ac('0x3c')](sen[a0_0x40ac('0x47')][a0_0x40ac('0x10')],'N1');}),it('check\x20store\x20structure',function(){assert[a0_0x40ac('0x16')](sen[a0_0x40ac('0x47')][a0_0x40ac('0x2c')],[{'id':0x0,'name':a0_0x40ac('0x70'),'type':a0_0x40ac('0x11'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':a0_0x40ac('0x25'),'type':a0_0x40ac('0x2b'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':a0_0x40ac('0x41'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':a0_0x40ac('0x5'),'type':a0_0x40ac('0x2b'),'nullable':![],'internal':![],'primary':![]}]);}),it(a0_0x40ac('0x34'),function(){assert[a0_0x40ac('0x3c')](Object['keys'](sen[a0_0x40ac('0x79')])['length'],0x1e);}),it(a0_0x40ac('0x61'),function(){assert[a0_0x40ac('0x16')](Object[a0_0x40ac('0x26')](sen['aggregate']),['current|tick',a0_0x40ac('0xe'),a0_0x40ac('0x20'),'current|winbuf|21600000',a0_0x40ac('0x13'),a0_0x40ac('0x73'),a0_0x40ac('0x58'),a0_0x40ac('0x27'),a0_0x40ac('0x1f'),a0_0x40ac('0x4f'),a0_0x40ac('0x74'),a0_0x40ac('0x18'),'current|variance|86400000','current|winbuf|604800000',a0_0x40ac('0x7'),a0_0x40ac('0x64'),a0_0x40ac('0x35'),a0_0x40ac('0x29'),'voltage|winbuf|21600000',a0_0x40ac('0x4a'),'voltage|max|21600000',a0_0x40ac('0x1e'),a0_0x40ac('0x6'),a0_0x40ac('0x76'),'voltage|ma|86400000','voltage|max|86400000','voltage|min|86400000',a0_0x40ac('0x38'),a0_0x40ac('0x53'),a0_0x40ac('0x4c')]);}),it('config\x20saved',function(){assert['deepEqual'](sen[a0_0x40ac('0x4')],fusionConfig['nodes'][0x0]);}),it(a0_0x40ac('0xc'),function(){assert[a0_0x40ac('0x3c')](sen['fusionNodeI'],0x63);}),it(a0_0x40ac('0x72'),function(){assert['equal'](typeof sen['processRecordCb'],a0_0x40ac('0x67'));}),it(a0_0x40ac('0xa'),function(){assert['equal'](sen['parent'],null);}),it(a0_0x40ac('0x31'),function(){assert['deepEqual'](sen['buffer'],[]);}),it(a0_0x40ac('0x2d'),function(){assert[a0_0x40ac('0x3c')](sen['position'],0x0);}),it(a0_0x40ac('0x22'),function(){assert[a0_0x40ac('0x3c')](sen[a0_0x40ac('0x7b')],!![]);}),it('isMaster\x20function',function(){assert[a0_0x40ac('0x3c')](sen[a0_0x40ac('0x3a')](),!![]);}),it('connectToKafka\x20function\x20exists',function(){assert['equal'](typeof sen[a0_0x40ac('0x48')],a0_0x40ac('0x67'));}),it(a0_0x40ac('0x17'),function(){assert[a0_0x40ac('0x3c')](typeof sen[a0_0x40ac('0x59')],a0_0x40ac('0x67'));}),it(a0_0x40ac('0x28'),function(){assert['equal'](typeof sen[a0_0x40ac('0x4d')],a0_0x40ac('0x67'));}),it(a0_0x40ac('0x7a'),function(){assert[a0_0x40ac('0x3c')](typeof sen[a0_0x40ac('0x3e')],'function');}),it(a0_0x40ac('0x6f'),function(){assert[a0_0x40ac('0x3c')](typeof sen[a0_0x40ac('0x69')],'function');}),it(a0_0x40ac('0xd'),function(){assert[a0_0x40ac('0x3c')](typeof sen['checkDataAvailability'],'function');}),it(a0_0x40ac('0x36'),function(){assert[a0_0x40ac('0x3c')](typeof sen[a0_0x40ac('0x57')],a0_0x40ac('0x67'));}),it(a0_0x40ac('0x6a'),function(){assert['equal'](typeof sen[a0_0x40ac('0x14')],'function');}),it(a0_0x40ac('0x7e'),function(){assert[a0_0x40ac('0x3c')](typeof sen[a0_0x40ac('0x14')],a0_0x40ac('0x67'));}),it('getAggregates\x20function\x20exists',function(){assert[a0_0x40ac('0x3c')](typeof sen[a0_0x40ac('0x63')],'function');}),it(a0_0x40ac('0xf'),function(){assert[a0_0x40ac('0x3c')](typeof sen[a0_0x40ac('0x1d')],'function');}),it(a0_0x40ac('0x21'),function(){assert['equal'](sen[a0_0x40ac('0x3a')](),!![]);}),it(a0_0x40ac('0x30'),function(){sen[a0_0x40ac('0x54')](),assert['equal'](sen[a0_0x40ac('0x3b')],-0x1);}),it(a0_0x40ac('0x3d'),function(){assert[a0_0x40ac('0x3c')](sen[a0_0x40ac('0x57')](0x0),![]);});}),describe(a0_0x40ac('0x60'),function(){it(a0_0x40ac('0x24'),function(){sen[a0_0x40ac('0x52')](JSON['parse'](a0_0x40ac('0x15'))),sen[a0_0x40ac('0x52')](JSON[a0_0x40ac('0x5a')](a0_0x40ac('0x1'))),sen[a0_0x40ac('0x52')](JSON[a0_0x40ac('0x5a')](a0_0x40ac('0x49'))),sen[a0_0x40ac('0x52')](JSON['parse'](a0_0x40ac('0x62'))),sen[a0_0x40ac('0x52')](JSON['parse']('{\x22timestamp\x22:1538737200000,\x22current\x22:16,\x22voltage\x22:232.45}')),sen[a0_0x40ac('0x52')](JSON[a0_0x40ac('0x5a')]('{\x22timestamp\x22:1538737201000,\x22current\x22:17,\x22voltage\x22:242.45}')),sen[a0_0x40ac('0x52')](JSON['parse'](a0_0x40ac('0x75'))),sen[a0_0x40ac('0x52')](JSON[a0_0x40ac('0x5a')](a0_0x40ac('0x5c'))),console[a0_0x40ac('0x5e')](a0_0x40ac('0x68')),console[a0_0x40ac('0x5e')](sen['buffer']);});});});