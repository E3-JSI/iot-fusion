const a0_0xb4ab=['initialization','fusionNodeI','timevalue','value','static\x20values\x20retrieved\x20correctly','checkDataAvailability\x20function\x20exists','close','base','config\x20saved','../nodes/staticCalculatedNode.js','removeFolder','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','{\x22time\x22:\x201451610000,\x22value\x22:\x2020.0}','min','apply','test','constructor','processRecordCb','buildFeatureVector','getPartialFeatureVector\x20function\x20exists','variance','value|ma|86400000','calculated\x20values\x20retrieved\x20correctly','fusion\x20with\x20static\x20vector','hourOfDay','calculated','none','getPartialFeatureVector','value|max|86400000','monthOfYear','dayAfterHoliday','nodes','setSlaveOffset\x20function\x20exists','holiday','weekEnd|ma|604800000','equal','dayBeforeHoliday','slave\x20offset\x20set\x20correctly:\x20no\x20data\x20needed','dayOfMonth','deepEqual','stream\x20fusion','max','isMaster','setMasterOffset','parse','./db4/','callback\x20function\x20should\x20be\x20set','setSlaveOffset','dayOfWeek','staticValue','isMaster\x20function','weekEnd|variance|604800000','../common/utils/fileManager.js','dayOfYear','function','calculateValue','{\x22time\x22:\x201451606400,\x22value\x22:\x2010.0}','parent\x20saved','2020-08-19','winbuf','parent','createFolder','value|variance|86400000','checkDataAvailability','../streamFusion.js','fusionNodeI\x20correctly\x20saved','base\x20saved','weekEnd','2020-08-21','staticCalculatedNode','staticCalculated','check\x20feature\x20vector','holidays','qminer','config','return\x20/\x22\x20+\x20this\x20+\x20\x22/','192.168.85.98:2181'];(function(_0x878324,_0xb4ab57){const _0x165ab3=function(_0x7c6ba){while(--_0x7c6ba){_0x878324['push'](_0x878324['shift']());}},_0x2644b1=function(){const _0x5a9538={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2484fd,_0x3235e3,_0x50f727,_0xb607a6){_0xb607a6=_0xb607a6||{};let _0x100a52=_0x3235e3+'='+_0x50f727,_0x21e4a2=0x0;for(let _0x3d2d28=0x0,_0x28940a=_0x2484fd['length'];_0x3d2d28<_0x28940a;_0x3d2d28++){const _0x44710a=_0x2484fd[_0x3d2d28];_0x100a52+=';\x20'+_0x44710a;const _0x43384e=_0x2484fd[_0x44710a];_0x2484fd['push'](_0x43384e),_0x28940a=_0x2484fd['length'],_0x43384e!==!![]&&(_0x100a52+='='+_0x43384e);}_0xb607a6['cookie']=_0x100a52;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1f3b34,_0x3adccf){_0x1f3b34=_0x1f3b34||function(_0x518cbe){return _0x518cbe;};const _0xccf23f=_0x1f3b34(new RegExp('(?:^|;\x20)'+_0x3adccf['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x3c2783=function(_0x23c493,_0x4a2561){_0x23c493(++_0x4a2561);};return _0x3c2783(_0x165ab3,_0xb4ab57),_0xccf23f?decodeURIComponent(_0xccf23f[0x1]):undefined;}},_0x27d516=function(){const _0x5e0cf5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5e0cf5['test'](_0x5a9538['removeCookie']['toString']());};_0x5a9538['updateCookie']=_0x27d516;let _0x464be8='';const _0x502522=_0x5a9538['updateCookie']();if(!_0x502522)_0x5a9538['setCookie'](['*'],'counter',0x1);else _0x502522?_0x464be8=_0x5a9538['getCookie'](null,'counter'):_0x5a9538['removeCookie']();};_0x2644b1();}(a0_0xb4ab,0x87));const a0_0x165a=function(_0x878324,_0xb4ab57){_0x878324=_0x878324-0x0;let _0x165ab3=a0_0xb4ab[_0x878324];return _0x165ab3;};const a0_0x50f727=function(){let _0x5f27d7=!![];return function(_0x2bb675,_0xdf96fb){const _0x569a10=_0x5f27d7?function(){if(_0xdf96fb){const _0x2c5929=_0xdf96fb[a0_0x165a('0x21')](_0x2bb675,arguments);return _0xdf96fb=null,_0x2c5929;}}:function(){};return _0x5f27d7=![],_0x569a10;};}(),a0_0x3235e3=a0_0x50f727(this,function(){const _0x74f992=function(){const _0x4fbf2b=_0x74f992[a0_0x165a('0x23')](a0_0x165a('0x11'))()[a0_0x165a('0x23')](a0_0x165a('0x1e'));return!_0x4fbf2b[a0_0x165a('0x22')](a0_0x3235e3);};return _0x74f992();});a0_0x3235e3();const staticCalculationNode=require(a0_0x165a('0x1c')),StreamFusion=require(a0_0x165a('0x6')),fileManager=require(a0_0x165a('0x47')),qm=require(a0_0x165a('0xf')),fs=require('fs');var assert=require('assert');let connectionConfig={'zookeeper':a0_0x165a('0x12')},aggrConfigs={'timevalue':[{'field':'value','tick':[{'type':'winbuf','winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':a0_0x165a('0x1'),'winsize':0xc*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x165a('0x20')},{'type':'max'},{'type':a0_0x165a('0x27')}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x165a('0x20')},{'type':a0_0x165a('0x3c')},{'type':'variance'}]},{'type':'winbuf','winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':a0_0x165a('0xc'),'connection':{'type':a0_0x165a('0x2d')},'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x165a('0x15'),'nodeid':a0_0x165a('0x15'),'aggrConfigId':a0_0x165a('0x15'),'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x16')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x28')},{'type':a0_0x165a('0x16'),'name':'value|min|86400000'},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x2f')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x4')}]}]},{'type':a0_0x165a('0x2c'),'nodeid':'calculated','aggrConfigId':'calculated','nodeFrequency':0x36ee80,'fusionTick':0x36ee80,'master':![],'holidays':[a0_0x165a('0xa'),a0_0x165a('0x0')],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x2b')},{'type':a0_0x165a('0x16'),'name':'dayOfWeek'},{'type':a0_0x165a('0x16'),'name':'dayAfterHoliday'},{'type':a0_0x165a('0x16'),'name':'dayBeforeHoliday'},{'type':'value','name':a0_0x165a('0x48')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x39')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x34')},{'type':'value','name':a0_0x165a('0x30')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x9')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x35')},{'type':'value','name':'dayOfYear|min|604800000'},{'type':'value','name':'dayOfYear|max|604800000'},{'type':'value','name':a0_0x165a('0x46')}]},{'time':-0x18,'attributes':[{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x31')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x37')},{'type':a0_0x165a('0x16'),'name':'dayOfYear'},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x39')},{'type':a0_0x165a('0x16'),'name':a0_0x165a('0x34')},{'type':'timeDiff','name':'hourOfDay','interval':0x5}]}]}]};function processRecordDummyCb(_0x1c7784,_0x56f6bf){return!![];}describe(a0_0x165a('0xb'),function(){let _0x521cc1,_0x51f603;before(function(){fileManager[a0_0x165a('0x1d')](a0_0x165a('0x40')),fileManager[a0_0x165a('0x3')](a0_0x165a('0x40')),_0x521cc1=new qm['Base']({'dbPath':a0_0x165a('0x40'),'mode':'createClean'}),scn=new staticCalculationNode(_0x521cc1,connectionConfig,fusionConfig[a0_0x165a('0x32')][0x1],aggrConfigs,processRecordDummyCb,0x63,null),fusion=new StreamFusion(connectionConfig,fusionConfig,aggrConfigs);}),after(function(){_0x521cc1[a0_0x165a('0x19')]();}),describe(a0_0x165a('0x13'),function(){it(a0_0x165a('0x8'),function(){assert[a0_0x165a('0x36')](_0x521cc1,scn[a0_0x165a('0x1a')]);}),it(a0_0x165a('0x1b'),function(){assert[a0_0x165a('0x3a')](scn[a0_0x165a('0x10')],fusionConfig[a0_0x165a('0x32')][0x1]);}),it(a0_0x165a('0x7'),function(){assert[a0_0x165a('0x36')](scn[a0_0x165a('0x14')],0x63);}),it(a0_0x165a('0x41'),function(){assert['equal'](typeof scn[a0_0x165a('0x24')],a0_0x165a('0x49'));}),it(a0_0x165a('0x4c'),function(){assert[a0_0x165a('0x36')](scn[a0_0x165a('0x2')],null);}),it(a0_0x165a('0x45'),function(){assert[a0_0x165a('0x36')](scn[a0_0x165a('0x3d')](),![]);}),it(a0_0x165a('0x18'),function(){assert[a0_0x165a('0x36')](typeof scn[a0_0x165a('0x5')],a0_0x165a('0x49'));}),it(a0_0x165a('0x33'),function(){assert[a0_0x165a('0x36')](typeof scn[a0_0x165a('0x42')],'function');}),it(a0_0x165a('0x26'),function(){assert[a0_0x165a('0x36')](typeof scn[a0_0x165a('0x2e')],a0_0x165a('0x49'));}),it('master\x20set\x20correctly',function(){assert[a0_0x165a('0x36')](scn[a0_0x165a('0x3d')](),![]);}),it(a0_0x165a('0x38'),function(){assert[a0_0x165a('0x36')](scn[a0_0x165a('0x42')](0x0),!![]);}),it(a0_0x165a('0xe'),function(){assert['deepEqual'](scn[a0_0x165a('0xe')],[a0_0x165a('0xa'),a0_0x165a('0x0')]);});}),describe('data\x20retrieval',function(){it(a0_0x165a('0x17'),function(){const _0x3a1744=0x1740c8f0439;assert[a0_0x165a('0x36')](scn[a0_0x165a('0x44')](_0x3a1744,a0_0x165a('0x2b')),0x11),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x44')](_0x3a1744,a0_0x165a('0x43')),0x4),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x44')](_0x3a1744,'dayOfMonth'),0x14),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x44')](_0x3a1744,'monthOfYear'),0x8),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x44')](_0x3a1744,a0_0x165a('0x9')),0x0),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x44')](_0x3a1744,a0_0x165a('0x31')),0x1),assert['equal'](scn[a0_0x165a('0x44')](_0x3a1744,'holiday'),0x0),assert['equal'](scn[a0_0x165a('0x44')](_0x3a1744,a0_0x165a('0x37')),0x1);}),it(a0_0x165a('0x29'),function(){const _0x4efd84=0x1740c8f0439+0x18*0x3c*0x3c*0x3e8;assert[a0_0x165a('0x36')](scn['calculateValue'](_0x4efd84,a0_0x165a('0x2b')),0x11),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x4a')](_0x4efd84,a0_0x165a('0x43')),0x5),assert['equal'](scn['calculateValue'](_0x4efd84,a0_0x165a('0x39')),0x15),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x4a')](_0x4efd84,a0_0x165a('0x30')),0x8),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x4a')](_0x4efd84,a0_0x165a('0x9')),0x0),assert['equal'](scn[a0_0x165a('0x4a')](_0x4efd84,a0_0x165a('0x31')),0x0),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x4a')](_0x4efd84,'holiday'),0x1),assert[a0_0x165a('0x36')](scn[a0_0x165a('0x4a')](_0x4efd84,a0_0x165a('0x37')),0x0);}),it(a0_0x165a('0xd'),function(){const _0x34ae3a=0x1740c8f0439;scn[a0_0x165a('0x42')](_0x34ae3a),assert[a0_0x165a('0x3a')](scn['getPartialFeatureVector'](),[0x11,0x4,0x1,0x1,0xe9,0x14,0x0,0x8,0x0,0x2/0x7,0xe2,0xe9,0.2040816326530619,0x0,0x0,0xe8,0x13,0x1,0x5]);});}),describe(a0_0x165a('0x3b'),function(){it(a0_0x165a('0x2a'),function(){fusion[a0_0x165a('0x32')][0x0]['processRecord'](JSON[a0_0x165a('0x3f')](a0_0x165a('0x4b'))),fusion[a0_0x165a('0x32')][0x0]['processRecord'](JSON[a0_0x165a('0x3f')](a0_0x165a('0x1f'))),fusion['nodes'][0x0][a0_0x165a('0x3e')](),fusion[a0_0x165a('0x32')][0x1][a0_0x165a('0x42')](0x0),assert[a0_0x165a('0x3a')](fusion[a0_0x165a('0x25')](),[0x14,0xf,0xa,0x14,0x32,0x1,0x4,0x0,0x0,0x1,0x1,0x0,0x1,0x0,0.2857142857142857,0x1,0x16d,0.2040816326530618,0x0,0x0,0x16d,0x1f,0x0,-0x13]);});});});