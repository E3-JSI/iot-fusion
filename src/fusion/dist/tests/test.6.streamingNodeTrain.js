var _0x490d=['check\x20store\x20structure','deepEqual','fields','Time','datetime','long','float','lat','acc','pow','aggregates\x20initialized\x20-\x20number','aggregate','aggregates\x20initialized\x20-\x20key\x20names','keys','icat|tick','icat|winbuf|5000','icat|ma|5000','icat|winbuf|10000','icat|winbuf|30000','icat|winbuf|60000','icat|ma|600000','icat|winbuf|1800000','icat|winbuf|3600000','icat|ma|3600000','ucat|tick','ucat|winbuf|5000','ucat|winbuf|30000','ucat|winbuf|60000','ucat|min|60000','ucat|winbuf|600000','ucat|ma|1800000','ucat|winbuf|3600000','ucat|ma|3600000','itcu1|tick','itcu1|winbuf|5000','itcu1|winbuf|10000','itcu1|min|10000','itcu1|winbuf|30000','itcu1|winbuf|60000','itcu1|max|60000','itcu1|winbuf|600000','itcu1|winbuf|1800000','itcu1|ma|1800000','itcu2|tick','itcu2|winbuf|5000','itcu2|max|10000','itcu2|ma|600000','itcu2|ma|1800000','itcu2|winbuf|3600000','icsv|tick','icsv|winbuf|10000','icsv|min|10000','icsv|winbuf|30000','icsv|winbuf|60000','icsv|max|60000','icsv|variance|60000','icsv|winbuf|1800000','icsv|ma|1800000','icsv|winbuf|3600000','icsv|ma|3600000','speed|tick','speed|winbuf|5000','speed|winbuf|10000','speed|ma|10000','speed|variance|10000','speed|winbuf|30000','speed|winbuf|60000','speed|ma|600000','speed|winbuf|1800000','speed|ma|1800000','speed|winbuf|3600000','speed|ma|3600000','config\x20saved','fusionNodeI\x20correctly\x20saved','fusionNodeI','callback\x20function\x20should\x20be\x20set','function','parent\x20saved','parent','buffer\x20position\x20is\x200','master','isMaster\x20function','isMaster','connectToKafka','broadcastAggregates\x20function\x20exists','createAggregates\x20function\x20exists','createAggregates','offsetExists\x20function\x20exists','offsetExists','deleteObsoleteRows','checkDataAvailability\x20function\x20exists','checkDataAvailability','setSlaveOffset\x20function\x20exists','getOffsetTimestamp\x20function\x20exists','getOffsetTimestamp','setMasterOffset\x20function\x20exists','getAggregates\x20function\x20exists','getAggregates','getPartialFeatureVector\x20function\x20exists','getPartialFeatureVector','master\x20set\x20correctly','master\x20offset\x20set\x20correctly','setMasterOffset','position','setSlaveOffset','data\x20insertion','data\x20record\x20saved\x20correctly','processRecord','parse','{\x22time\x22:\x222015-07-30T03:13:06Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:0.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','{\x22time\x22:\x222015-07-30T03:13:07Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:5.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','buffer','length','taext','taint','{\x22time\x22:\x222015-07-30T03:13:08Z\x22}','stream\x20aggregates\x20calculated\x20correctly\x20for\x20#2\x20insertion','9\x20more\x20data\x20insertions','2015-07-30T03:13:','{\x22time\x22:',',\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:5,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','missing\x20values\x20test','{\x22time\x22:\x222015-07-30T03:13:20Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:10,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','{\x22time\x22:\x222015-07-30T03:13:22Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:20,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','../nodes/streamingNode.js','../nodes/streamingEnergyNode.js','../nodes/streamingStaticNode.js','../nodes/streamingTrainNode.js','../common/utils/fileManager.js','qminer','192.168.85.98:2181','icat','winbuf','min','max','variance','ucat','itcu2','icsv','speed','train','RecLinReg','predictions_train','mqtt','value','itcu1','longitude','ucat|ma|5000','itcu1|ma|5000','itcu2|ma|5000','icsv|ma|5000','speed|ma|5000','icat|ma|10000','icat|max|10000','icat|min|10000','icat|variance|10000','ucat|ma|10000','ucat|max|10000','ucat|min|10000','itcu1|ma|10000','itcu1|max|10000','itcu1|variance|10000','itcu2|ma|10000','itcu2|min|10000','itcu2|variance|10000','ucat|variance|10000','speed|max|10000','icat|ma|30000','ucat|ma|30000','itcu1|ma|30000','itcu2|ma|30000','icsv|ma|30000','speed|ma|30000','icat|max|60000','icat|min|60000','icat|variance|60000','ucat|ma|60000','ucat|max|60000','ucat|variance|60000','itcu1|ma|60000','itcu1|min|60000','itcu1|variance|60000','itcu2|ma|60000','itcu2|max|60000','itcu2|min|60000','itcu2|variance|60000','speed|max|60000','speed|min|60000','speed|variance|60000','icat|ma|60000','speed|ma|60000','icat|ma|180000','ucat|ma|180000','itcu1|ma|180000','itcu2|ma|180000','icsv|ma|180000','speed|ma|180000','ucat|ma|360000','itcu1|ma|360000','itcu2|ma|360000','icsv|ma|360000','speed|ma|360000','createFolder','./db2/','createClean','nodes','close','base\x20saved','equal','base','check\x20if\x20store\x20exists','rawstore','name'];(function(_0x4f84c9,_0x2d13e6){var _0x1e112f=function(_0x2ae67d){while(--_0x2ae67d){_0x4f84c9['push'](_0x4f84c9['shift']());}};var _0xb849f9=function(){var _0x5abf08={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1bebf6,_0x2b1784,_0x93a242,_0x10966a){_0x10966a=_0x10966a||{};var _0x42ffee=_0x2b1784+'='+_0x93a242;var _0x18a5d6=0x0;for(var _0x18a5d6=0x0,_0x29357f=_0x1bebf6['length'];_0x18a5d6<_0x29357f;_0x18a5d6++){var _0x46aee0=_0x1bebf6[_0x18a5d6];_0x42ffee+=';\x20'+_0x46aee0;var _0x5c45dd=_0x1bebf6[_0x46aee0];_0x1bebf6['push'](_0x5c45dd);_0x29357f=_0x1bebf6['length'];if(_0x5c45dd!==!![]){_0x42ffee+='='+_0x5c45dd;}}_0x10966a['cookie']=_0x42ffee;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1bdcfc,_0x1995f8){_0x1bdcfc=_0x1bdcfc||function(_0x22bc86){return _0x22bc86;};var _0x4cf605=_0x1bdcfc(new RegExp('(?:^|;\x20)'+_0x1995f8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x131e9e=function(_0x41aff6,_0x351254){_0x41aff6(++_0x351254);};_0x131e9e(_0x1e112f,_0x2d13e6);return _0x4cf605?decodeURIComponent(_0x4cf605[0x1]):undefined;}};var _0x16432a=function(){var _0x5dfb22=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5dfb22['test'](_0x5abf08['removeCookie']['toString']());};_0x5abf08['updateCookie']=_0x16432a;var _0x491fb9='';var _0x378df5=_0x5abf08['updateCookie']();if(!_0x378df5){_0x5abf08['setCookie'](['*'],'counter',0x1);}else if(_0x378df5){_0x491fb9=_0x5abf08['getCookie'](null,'counter');}else{_0x5abf08['removeCookie']();}};_0xb849f9();}(_0x490d,0x7c));var _0xceec=function(_0x472e84,_0x471c2b){_0x472e84=_0x472e84-0x0;var _0x402557=_0x490d[_0x472e84];return _0x402557;};var _0x3c35a6=function(){var _0x2e6b3f=!![];return function(_0x17b152,_0x3ded98){var _0x192d62=_0x2e6b3f?function(){if(_0x3ded98){var _0x325674=_0x3ded98['apply'](_0x17b152,arguments);_0x3ded98=null;return _0x325674;}}:function(){};_0x2e6b3f=![];return _0x192d62;};}();var _0x2df41d=_0x3c35a6(this,function(){var _0x463c9e=function(){return'\x64\x65\x76';},_0x1bbba3=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x37b2f4=function(){var _0x4b0da6=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x4b0da6['\x74\x65\x73\x74'](_0x463c9e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2064b1=function(){var _0x39ad27=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x39ad27['\x74\x65\x73\x74'](_0x1bbba3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3bb0e7=function(_0x4972a4){var _0xcb3126=~-0x1>>0x1+0xff%0x0;if(_0x4972a4['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0xcb3126)){_0x4097cb(_0x4972a4);}};var _0x4097cb=function(_0x184457){var _0x3b0acc=~-0x4>>0x1+0xff%0x0;if(_0x184457['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3b0acc){_0x3bb0e7(_0x184457);}};if(!_0x37b2f4()){if(!_0x2064b1()){_0x3bb0e7('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x3bb0e7('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x3bb0e7('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2df41d();const streamingNode=require(_0xceec('0x0'));const streamingEnergyNode=require(_0xceec('0x1'));const streamingWeatherNode=require('../nodes/streamingWeatherNode.js');const streamingStaticNode=require(_0xceec('0x2'));const streamingTrainNode=require(_0xceec('0x3'));const fileManager=require(_0xceec('0x4'));const qm=require(_0xceec('0x5'));const fs=require('fs');var assert=require('assert');let connectionConfig={'zookeeper':_0xceec('0x6')};let aggrConfigs={'train':[{'field':_0xceec('0x7'),'tick':[{'type':_0xceec('0x8'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':_0xceec('0xb')}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':'max'},{'type':'variance'}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':_0xceec('0xc'),'tick':[{'type':_0xceec('0x8'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':'variance'}]},{'type':'winbuf','winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':'variance'}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':'itcu1','tick':[{'type':_0xceec('0x8'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':'max'},{'type':_0xceec('0xb')}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':_0xceec('0xa')},{'type':_0xceec('0xb')}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':_0xceec('0xd'),'tick':[{'type':_0xceec('0x8'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':_0xceec('0xb')}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':_0xceec('0xb')}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':_0xceec('0xe'),'tick':[{'type':_0xceec('0x8'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':_0xceec('0xa')},{'type':_0xceec('0xb')}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':_0xceec('0xb')}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':_0xceec('0xf'),'tick':[{'type':_0xceec('0x8'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':'variance'}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':_0xceec('0x9')},{'type':_0xceec('0xa')},{'type':'variance'}]},{'type':_0xceec('0x8'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0xceec('0x8'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]};let fusionConfig={'fusionModel':_0xceec('0x10'),'model':{'horizon':0xa,'label':0x0,'dim':null,'options':{},'method':_0xceec('0x11'),'topic':_0xceec('0x12')},'connection':{'type':_0xceec('0x13')},'fusionTick':0x3e8,'nodes':[{'type':_0xceec('0x10'),'nodeid':_0xceec('0x10'),'aggrConfigId':_0xceec('0x10'),'master':!![],'attributes':[{'time':0x0,'attributes':[{'type':_0xceec('0x14'),'name':_0xceec('0x7')},{'type':_0xceec('0x14'),'name':_0xceec('0xc')},{'type':_0xceec('0x14'),'name':_0xceec('0x15')},{'type':'value','name':_0xceec('0xd')},{'type':_0xceec('0x14'),'name':_0xceec('0xe')},{'type':_0xceec('0x14'),'name':_0xceec('0xf')},{'type':'value','name':'latitude'},{'type':_0xceec('0x14'),'name':_0xceec('0x16')}]},{'time':-0x5*0x3e8,'attributes':[{'type':_0xceec('0x14'),'name':'icat|ma|5000'},{'type':'value','name':_0xceec('0x17')},{'type':_0xceec('0x14'),'name':_0xceec('0x18')},{'type':_0xceec('0x14'),'name':_0xceec('0x19')},{'type':'value','name':_0xceec('0x1a')},{'type':'value','name':_0xceec('0x1b')}]},{'time':-0xa*0x3e8,'attributes':[{'type':'value','name':_0xceec('0x1c')},{'type':_0xceec('0x14'),'name':_0xceec('0x1d')},{'type':_0xceec('0x14'),'name':_0xceec('0x1e')},{'type':_0xceec('0x14'),'name':_0xceec('0x1f')},{'type':_0xceec('0x14'),'name':_0xceec('0x20')},{'type':_0xceec('0x14'),'name':_0xceec('0x21')},{'type':_0xceec('0x14'),'name':_0xceec('0x22')},{'type':_0xceec('0x14'),'name':'ucat|variance|10000'},{'type':_0xceec('0x14'),'name':_0xceec('0x23')},{'type':'value','name':_0xceec('0x24')},{'type':_0xceec('0x14'),'name':'itcu1|min|10000'},{'type':'value','name':_0xceec('0x25')},{'type':_0xceec('0x14'),'name':_0xceec('0x26')},{'type':_0xceec('0x14'),'name':'itcu2|max|10000'},{'type':_0xceec('0x14'),'name':_0xceec('0x27')},{'type':'value','name':_0xceec('0x28')},{'type':_0xceec('0x14'),'name':_0xceec('0x20')},{'type':'value','name':_0xceec('0x21')},{'type':_0xceec('0x14'),'name':_0xceec('0x22')},{'type':'value','name':_0xceec('0x29')},{'type':_0xceec('0x14'),'name':'speed|ma|10000'},{'type':'value','name':_0xceec('0x2a')},{'type':'value','name':'speed|min|10000'},{'type':'value','name':'speed|variance|10000'}]},{'time':-0x1e*0x3e8,'attributes':[{'type':_0xceec('0x14'),'name':_0xceec('0x2b')},{'type':_0xceec('0x14'),'name':_0xceec('0x2c')},{'type':_0xceec('0x14'),'name':_0xceec('0x2d')},{'type':_0xceec('0x14'),'name':_0xceec('0x2e')},{'type':_0xceec('0x14'),'name':_0xceec('0x2f')},{'type':_0xceec('0x14'),'name':_0xceec('0x30')}]},{'time':-0x3c*0x3e8,'attributes':[{'type':'value','name':'icat|ma|60000'},{'type':'value','name':_0xceec('0x31')},{'type':_0xceec('0x14'),'name':_0xceec('0x32')},{'type':_0xceec('0x14'),'name':_0xceec('0x33')},{'type':_0xceec('0x14'),'name':_0xceec('0x34')},{'type':_0xceec('0x14'),'name':_0xceec('0x35')},{'type':_0xceec('0x14'),'name':'ucat|min|60000'},{'type':_0xceec('0x14'),'name':_0xceec('0x36')},{'type':_0xceec('0x14'),'name':_0xceec('0x37')},{'type':_0xceec('0x14'),'name':'itcu1|max|60000'},{'type':_0xceec('0x14'),'name':_0xceec('0x38')},{'type':'value','name':_0xceec('0x39')},{'type':'value','name':_0xceec('0x3a')},{'type':_0xceec('0x14'),'name':_0xceec('0x3b')},{'type':_0xceec('0x14'),'name':_0xceec('0x3c')},{'type':_0xceec('0x14'),'name':_0xceec('0x3d')},{'type':_0xceec('0x14'),'name':_0xceec('0x34')},{'type':_0xceec('0x14'),'name':_0xceec('0x35')},{'type':_0xceec('0x14'),'name':'ucat|min|60000'},{'type':_0xceec('0x14'),'name':_0xceec('0x36')},{'type':_0xceec('0x14'),'name':'speed|ma|60000'},{'type':_0xceec('0x14'),'name':_0xceec('0x3e')},{'type':'value','name':_0xceec('0x3f')},{'type':'value','name':_0xceec('0x40')}]},{'time':-0xa*0x3c*0x3e8,'attributes':[{'type':_0xceec('0x14'),'name':_0xceec('0x41')},{'type':'value','name':'ucat|ma|60000'},{'type':_0xceec('0x14'),'name':'itcu1|ma|60000'},{'type':_0xceec('0x14'),'name':'itcu2|ma|60000'},{'type':_0xceec('0x14'),'name':'icsv|ma|60000'},{'type':_0xceec('0x14'),'name':_0xceec('0x42')}]},{'time':-0x1e*0x3c*0x3e8,'attributes':[{'type':_0xceec('0x14'),'name':_0xceec('0x43')},{'type':'value','name':_0xceec('0x44')},{'type':_0xceec('0x14'),'name':_0xceec('0x45')},{'type':_0xceec('0x14'),'name':_0xceec('0x46')},{'type':_0xceec('0x14'),'name':_0xceec('0x47')},{'type':'value','name':_0xceec('0x48')}]},{'time':-0x3c*0x3c*0x3e8,'attributes':[{'type':_0xceec('0x14'),'name':'icat|ma|3600000'},{'type':_0xceec('0x14'),'name':_0xceec('0x49')},{'type':_0xceec('0x14'),'name':_0xceec('0x4a')},{'type':'value','name':_0xceec('0x4b')},{'type':_0xceec('0x14'),'name':_0xceec('0x4c')},{'type':_0xceec('0x14'),'name':_0xceec('0x4d')}]}]}]};function processRecordDummyCb(_0x49fbc3,_0x179373){return!![];}describe('streamingTrainNode',function(){let _0x307441;let _0x2c04af;before(function(){fileManager['removeFolder']('./db2/');fileManager[_0xceec('0x4e')](_0xceec('0x4f'));_0x307441=new qm['Base']({'dbPath':_0xceec('0x4f'),'mode':_0xceec('0x50')});stn=new streamingTrainNode(_0x307441,connectionConfig,fusionConfig[_0xceec('0x51')][0x0],aggrConfigs,processRecordDummyCb,0x63,null);});after(function(){_0x307441[_0xceec('0x52')]();});describe('initialization',function(){it(_0xceec('0x53'),function(){assert[_0xceec('0x54')](_0x307441,stn[_0xceec('0x55')]);});it(_0xceec('0x56'),function(){assert[_0xceec('0x54')](stn[_0xceec('0x57')][_0xceec('0x58')],'train');});it(_0xceec('0x59'),function(){assert[_0xceec('0x5a')](stn[_0xceec('0x57')][_0xceec('0x5b')],[{'id':0x0,'name':_0xceec('0x5c'),'type':_0xceec('0x5d'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':_0xceec('0x5e'),'type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':_0xceec('0x60'),'type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':_0xceec('0xe'),'type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x4,'name':_0xceec('0x7'),'type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x5,'name':_0xceec('0x15'),'type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x6,'name':'itcu2','type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x7,'name':'speed','type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x8,'name':'taext','type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0x9,'name':'taint','type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0xa,'name':'ucat','type':'float','nullable':![],'internal':![],'primary':![]},{'id':0xb,'name':_0xceec('0x61'),'type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]},{'id':0xc,'name':_0xceec('0x62'),'type':_0xceec('0x5f'),'nullable':![],'internal':![],'primary':![]}]);});it(_0xceec('0x63'),function(){assert[_0xceec('0x54')](Object['keys'](stn[_0xceec('0x64')])['length'],0x7e);});it(_0xceec('0x65'),function(){assert['deepEqual'](Object[_0xceec('0x66')](stn[_0xceec('0x64')]),[_0xceec('0x67'),_0xceec('0x68'),_0xceec('0x69'),_0xceec('0x6a'),_0xceec('0x1c'),_0xceec('0x1e'),_0xceec('0x1d'),_0xceec('0x1f'),_0xceec('0x6b'),_0xceec('0x2b'),_0xceec('0x6c'),_0xceec('0x41'),_0xceec('0x32'),_0xceec('0x31'),_0xceec('0x33'),'icat|winbuf|600000',_0xceec('0x6d'),_0xceec('0x6e'),'icat|ma|1800000',_0xceec('0x6f'),_0xceec('0x70'),_0xceec('0x71'),_0xceec('0x72'),_0xceec('0x17'),'ucat|winbuf|10000','ucat|ma|10000',_0xceec('0x22'),_0xceec('0x21'),_0xceec('0x29'),_0xceec('0x73'),_0xceec('0x2c'),_0xceec('0x74'),_0xceec('0x34'),_0xceec('0x75'),_0xceec('0x35'),_0xceec('0x36'),_0xceec('0x76'),'ucat|ma|600000','ucat|winbuf|1800000',_0xceec('0x77'),_0xceec('0x78'),_0xceec('0x79'),_0xceec('0x7a'),_0xceec('0x7b'),_0xceec('0x18'),_0xceec('0x7c'),_0xceec('0x23'),_0xceec('0x7d'),_0xceec('0x24'),_0xceec('0x25'),_0xceec('0x7e'),'itcu1|ma|30000',_0xceec('0x7f'),_0xceec('0x37'),_0xceec('0x38'),_0xceec('0x80'),'itcu1|variance|60000',_0xceec('0x81'),'itcu1|ma|600000',_0xceec('0x82'),_0xceec('0x83'),'itcu1|winbuf|3600000','itcu1|ma|3600000',_0xceec('0x84'),_0xceec('0x85'),_0xceec('0x19'),'itcu2|winbuf|10000',_0xceec('0x26'),'itcu2|min|10000',_0xceec('0x86'),'itcu2|variance|10000','itcu2|winbuf|30000',_0xceec('0x2e'),'itcu2|winbuf|60000',_0xceec('0x3a'),'itcu2|min|60000',_0xceec('0x3b'),_0xceec('0x3d'),'itcu2|winbuf|600000',_0xceec('0x87'),'itcu2|winbuf|1800000',_0xceec('0x88'),_0xceec('0x89'),'itcu2|ma|3600000',_0xceec('0x8a'),'icsv|winbuf|5000','icsv|ma|5000',_0xceec('0x8b'),'icsv|ma|10000',_0xceec('0x8c'),'icsv|max|10000','icsv|variance|10000',_0xceec('0x8d'),_0xceec('0x2f'),_0xceec('0x8e'),'icsv|ma|60000','icsv|min|60000',_0xceec('0x8f'),_0xceec('0x90'),'icsv|winbuf|600000','icsv|ma|600000',_0xceec('0x91'),_0xceec('0x92'),_0xceec('0x93'),_0xceec('0x94'),_0xceec('0x95'),_0xceec('0x96'),_0xceec('0x1b'),_0xceec('0x97'),_0xceec('0x98'),'speed|min|10000',_0xceec('0x2a'),_0xceec('0x99'),_0xceec('0x9a'),'speed|ma|30000',_0xceec('0x9b'),_0xceec('0x42'),_0xceec('0x3f'),_0xceec('0x3e'),_0xceec('0x40'),'speed|winbuf|600000',_0xceec('0x9c'),_0xceec('0x9d'),_0xceec('0x9e'),_0xceec('0x9f'),_0xceec('0xa0')]);});it(_0xceec('0xa1'),function(){assert[_0xceec('0x5a')](stn['config'],fusionConfig[_0xceec('0x51')][0x0]);});it(_0xceec('0xa2'),function(){assert[_0xceec('0x54')](stn[_0xceec('0xa3')],0x63);});it(_0xceec('0xa4'),function(){assert[_0xceec('0x54')](typeof stn['processRecordCb'],_0xceec('0xa5'));});it(_0xceec('0xa6'),function(){assert[_0xceec('0x54')](stn[_0xceec('0xa7')],null);});it('buffer\x20empty',function(){assert[_0xceec('0x5a')](stn['buffer'],[]);});it(_0xceec('0xa8'),function(){assert[_0xceec('0x54')](stn['position'],0x0);});it('master\x20flag\x20set\x20correctly',function(){assert[_0xceec('0x54')](stn[_0xceec('0xa9')],!![]);});it(_0xceec('0xaa'),function(){assert['equal'](stn[_0xceec('0xab')](),!![]);});it('connectToKafka\x20function\x20exists',function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xac')],_0xceec('0xa5'));});it(_0xceec('0xad'),function(){assert[_0xceec('0x54')](typeof stn['broadcastAggregates'],'function');});it(_0xceec('0xae'),function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xaf')],_0xceec('0xa5'));});it(_0xceec('0xb0'),function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xb1')],_0xceec('0xa5'));});it('deleteObsoleteRows\x20function\x20exists',function(){assert['equal'](typeof stn[_0xceec('0xb2')],_0xceec('0xa5'));});it(_0xceec('0xb3'),function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xb4')],_0xceec('0xa5'));});it(_0xceec('0xb5'),function(){assert[_0xceec('0x54')](typeof stn['setSlaveOffset'],'function');});it(_0xceec('0xb6'),function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xb7')],_0xceec('0xa5'));});it(_0xceec('0xb8'),function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xb7')],'function');});it(_0xceec('0xb9'),function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xba')],'function');});it(_0xceec('0xbb'),function(){assert[_0xceec('0x54')](typeof stn[_0xceec('0xbc')],_0xceec('0xa5'));});it(_0xceec('0xbd'),function(){assert[_0xceec('0x54')](stn[_0xceec('0xab')](),!![]);});it(_0xceec('0xbe'),function(){stn[_0xceec('0xbf')]();assert['equal'](stn[_0xceec('0xc0')],-0x1);});it('slave\x20offset\x20set\x20correctly:\x20no\x20data',function(){assert[_0xceec('0x54')](stn[_0xceec('0xc1')](0x0),![]);});});describe(_0xceec('0xc2'),function(){it(_0xceec('0xc3'),function(){stn[_0xceec('0xc4')](JSON[_0xceec('0xc5')](_0xceec('0xc6')));stn['processRecord'](JSON[_0xceec('0xc5')](_0xceec('0xc7')));assert[_0xceec('0x54')](stn[_0xceec('0xc8')][_0xceec('0xc9')],0x2);assert['equal'](stn[_0xceec('0xc8')][0x0][_0xceec('0x5e')],4.00544077);assert['equal'](stn['buffer'][0x0][_0xceec('0x60')],49.22326688);assert[_0xceec('0x54')](stn['buffer'][0x0][_0xceec('0x7')],0x2);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x0][_0xceec('0xe')],0.0853333333333);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x0]['itcu1'],-0.113968333333);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x0][_0xceec('0xd')],-0.0772666666667);assert['equal'](stn[_0xceec('0xc8')][0x0][_0xceec('0xf')],0.1);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x0][_0xceec('0xca')],12.1);assert[_0xceec('0x54')](stn['buffer'][0x0][_0xceec('0xcb')],11.3);assert[_0xceec('0x54')](stn['buffer'][0x0][_0xceec('0xc')],0xe6);assert['equal'](stn[_0xceec('0xc8')][0x0][_0xceec('0x62')],0x1cc);});it('Empty\x20values\x20in\x20message\x20set\x20to\x200',function(){stn[_0xceec('0xc4')](JSON['parse'](_0xceec('0xcc')));assert['equal'](stn[_0xceec('0xc8')][_0xceec('0xc9')],0x3);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x2][_0xceec('0x5e')],0x0);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x2][_0xceec('0x60')],0x0);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x2][_0xceec('0x7')],0x0);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x2][_0xceec('0xe')],0x0);assert['equal'](stn[_0xceec('0xc8')][0x2][_0xceec('0x15')],0x0);assert['equal'](stn[_0xceec('0xc8')][0x2][_0xceec('0xd')],0x0);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x2][_0xceec('0xf')],0x0);assert['equal'](stn[_0xceec('0xc8')][0x2]['taext'],0x0);assert[_0xceec('0x54')](stn[_0xceec('0xc8')][0x2][_0xceec('0xcb')],0x0);assert[_0xceec('0x54')](stn['buffer'][0x2][_0xceec('0xc')],0x0);assert['equal'](stn[_0xceec('0xc8')][0x2][_0xceec('0x62')],0x0);});it(_0xceec('0xcd'),function(){assert['deepEqual'](stn[_0xceec('0xc8')][0x1],{'stampm':0x14edcf2f5b8,'acc':0x5,'icat':0x2,'icat|max|10000':0x2,'icat|max|60000':0x2,'icat|ma|10000':0x2,'icat|ma|1800000':0x2,'icat|ma|30000':0x2,'icat|ma|3600000':0x2,'icat|ma|5000':0x2,'icat|ma|60000':0x2,'icat|ma|600000':0x2,'icat|min|10000':0x2,'icat|min|60000':0x2,'icat|variance|10000':0x0,'icat|variance|60000':0x0,'icsv':0.0853333333333,'icsv|max|10000':0.0853333333333,'icsv|max|60000':0.0853333333333,'icsv|ma|10000':0.0853333333333,'icsv|ma|1800000':0.0853333333333,'icsv|ma|30000':0.0853333333333,'icsv|ma|3600000':0.0853333333333,'icsv|ma|5000':0.0853333333333,'icsv|ma|60000':0.0853333333333,'icsv|ma|600000':0.0853333333333,'icsv|min|10000':0.0853333333333,'icsv|min|60000':0.0853333333333,'icsv|variance|10000':0x0,'icsv|variance|60000':0x0,'itcu1':-0.113968333333,'itcu1|max|10000':-0.113968333333,'itcu1|max|60000':-0.113968333333,'itcu1|ma|10000':-0.113968333333,'itcu1|ma|1800000':-0.113968333333,'itcu1|ma|30000':-0.113968333333,'itcu1|ma|3600000':-0.113968333333,'itcu1|ma|5000':-0.113968333333,'itcu1|ma|60000':-0.113968333333,'itcu1|ma|600000':-0.113968333333,'itcu1|min|10000':-0.113968333333,'itcu1|min|60000':-0.113968333333,'itcu1|variance|10000':0x0,'itcu1|variance|60000':0x0,'itcu2':-0.0772666666667,'itcu2|max|10000':-0.0772666666667,'itcu2|max|60000':-0.0772666666667,'itcu2|ma|10000':-0.0772666666667,'itcu2|ma|1800000':-0.0772666666667,'itcu2|ma|30000':-0.0772666666667,'itcu2|ma|3600000':-0.0772666666667,'itcu2|ma|5000':-0.0772666666667,'itcu2|ma|60000':-0.0772666666667,'itcu2|ma|600000':-0.0772666666667,'itcu2|min|10000':-0.0772666666667,'itcu2|min|60000':-0.0772666666667,'itcu2|variance|10000':0x0,'itcu2|variance|60000':0x0,'lat':49.22326688,'long':4.00544077,'pow':0x1cc,'speed':5.1,'speed|max|10000':5.1,'speed|max|60000':5.1,'speed|ma|10000':2.6,'speed|ma|1800000':2.6,'speed|ma|30000':2.6,'speed|ma|3600000':2.6,'speed|ma|5000':2.6,'speed|ma|60000':2.6,'speed|ma|600000':2.6,'speed|min|10000':0.1,'speed|min|60000':0.1,'speed|variance|10000':12.499999999999998,'speed|variance|60000':12.499999999999998,'stampm':0x14edcf2f5b8,'taext':12.1,'taint':11.3,'ucat':0xe6,'ucat|max|10000':0xe6,'ucat|max|60000':0xe6,'ucat|ma|10000':0xe6,'ucat|ma|1800000':0xe6,'ucat|ma|30000':0xe6,'ucat|ma|3600000':0xe6,'ucat|ma|5000':0xe6,'ucat|ma|60000':0xe6,'ucat|ma|600000':0xe6,'ucat|min|10000':0xe6,'ucat|min|60000':0xe6,'ucat|variance|10000':0x0,'ucat|variance|60000':0x0});});it(_0xceec('0xce'),function(){for(let _0x127ede=0x1;_0x127ede<=0x9;_0x127ede++){let _0x52f3f2=_0xceec('0xcf')+0x1+_0x127ede+'Z';_0x52f3f2='\x22'+_0x52f3f2+'\x22';stn[_0xceec('0xc4')](JSON[_0xceec('0xc5')](_0xceec('0xd0')+_0x52f3f2+_0xceec('0xd1')));}assert[_0xceec('0x54')](stn[_0xceec('0xc8')][_0xceec('0xc9')],0xc);});it('duplicate\x20insertions\x20test',function(){stn[_0xceec('0xc4')](JSON['parse']('{\x22time\x22:\x222015-07-30T03:13:06Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:10.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}'));stn['processRecord'](JSON['parse']('{\x22time\x22:\x222015-07-30T03:13:06Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:10.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}'));stn[_0xceec('0xc4')](JSON[_0xceec('0xc5')](_0xceec('0xc6')));assert[_0xceec('0x54')](stn[_0xceec('0xc8')]['length'],0xc);});it(_0xceec('0xd2'),function(){stn[_0xceec('0xc4')](JSON[_0xceec('0xc5')](_0xceec('0xd3')));stn[_0xceec('0xc4')](JSON[_0xceec('0xc5')](_0xceec('0xd4')));assert[_0xceec('0x54')](stn['buffer'][_0xceec('0xc9')],0xe);});});});