var _0x2cf9=['itcu2|variance|10000','speed|ma|10000','speed|max|10000','speed|variance|10000','ucat|ma|30000','itcu1|ma|30000','itcu2|ma|30000','icsv|ma|30000','speed|ma|30000','icat|ma|60000','icat|max|60000','icat|min|60000','icat|variance|60000','ucat|ma|60000','itcu1|ma|60000','itcu1|max|60000','itcu1|min|60000','itcu1|variance|60000','itcu2|max|60000','itcu2|min|60000','itcu2|variance|60000','ucat|max|60000','ucat|min|60000','ucat|variance|60000','speed|ma|60000','speed|max|60000','speed|variance|60000','icat|ma|180000','ucat|ma|180000','itcu2|ma|180000','icsv|ma|180000','speed|ma|180000','icat|ma|3600000','ucat|ma|360000','itcu1|ma|360000','itcu2|ma|360000','icsv|ma|360000','speed|ma|360000','streamingTrainNode','removeFolder','./db2/','createFolder','createClean','nodes','close','initialization','base\x20saved','base','check\x20if\x20store\x20exists','equal','name','check\x20store\x20structure','fields','Time','float','icat','taext','taint','acc','pow','aggregates\x20initialized\x20-\x20number','keys','aggregate','length','deepEqual','icat|ma|5000','icat|winbuf|10000','icat|winbuf|30000','icat|ma|30000','icat|winbuf|60000','icat|winbuf|600000','icat|ma|600000','icat|ma|1800000','icat|winbuf|3600000','ucat|tick','ucat|winbuf|5000','ucat|winbuf|10000','ucat|max|10000','ucat|winbuf|30000','ucat|winbuf|60000','ucat|winbuf|600000','ucat|ma|600000','ucat|winbuf|1800000','ucat|ma|1800000','ucat|winbuf|3600000','ucat|ma|3600000','itcu1|tick','itcu1|winbuf|5000','itcu1|ma|5000','itcu1|winbuf|10000','itcu1|min|10000','itcu1|variance|10000','itcu1|winbuf|30000','itcu1|ma|600000','itcu1|ma|1800000','itcu1|ma|3600000','itcu2|winbuf|5000','itcu2|winbuf|10000','itcu2|winbuf|30000','itcu2|winbuf|60000','itcu2|winbuf|600000','itcu2|ma|600000','itcu2|winbuf|1800000','itcu2|ma|1800000','itcu2|winbuf|3600000','itcu2|ma|3600000','icsv|tick','icsv|winbuf|5000','icsv|ma|10000','icsv|max|10000','icsv|variance|10000','icsv|winbuf|30000','icsv|winbuf|60000','icsv|ma|60000','icsv|min|60000','icsv|max|60000','icsv|variance|60000','icsv|winbuf|600000','icsv|ma|600000','icsv|winbuf|1800000','icsv|ma|1800000','icsv|winbuf|3600000','icsv|ma|3600000','speed|min|10000','speed|winbuf|30000','speed|winbuf|60000','speed|min|60000','speed|winbuf|600000','speed|ma|600000','speed|winbuf|1800000','speed|winbuf|3600000','speed|ma|3600000','config\x20saved','config','fusionNodeI\x20correctly\x20saved','fusionNodeI','processRecordCb','function','parent\x20saved','parent','buffer\x20empty','buffer\x20position\x20is\x200','position','master\x20flag\x20set\x20correctly','master','connectToKafka','broadcastAggregates\x20function\x20exists','broadcastAggregates','createAggregates\x20function\x20exists','createAggregates','offsetExists\x20function\x20exists','offsetExists','deleteObsoleteRows\x20function\x20exists','deleteObsoleteRows','checkDataAvailability\x20function\x20exists','checkDataAvailability','setSlaveOffset\x20function\x20exists','getOffsetTimestamp\x20function\x20exists','getOffsetTimestamp','getAggregates\x20function\x20exists','getAggregates','getPartialFeatureVector\x20function\x20exists','master\x20set\x20correctly','isMaster','setSlaveOffset','data\x20record\x20saved\x20correctly','processRecord','parse','{\x22time\x22:\x222015-07-30T03:13:07Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:5.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','buffer','lat','long','9\x20more\x20data\x20insertions','{\x22time\x22:',',\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:5,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','duplicate\x20insertions\x20test','{\x22time\x22:\x222015-07-30T03:13:06Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:10.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','{\x22time\x22:\x222015-07-30T03:13:06Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:0.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}','missing\x20values\x20test','../nodes/streamingTrainNode.js','../../common/utils/fileManager.js','qminer','192.168.85.98:2181','winbuf','min','max','variance','itcu2','speed','train','RecLinReg','predictions_train','value','ucat','itcu1','icsv','latitude','ucat|ma|5000','itcu2|ma|5000','icsv|ma|5000','icat|ma|10000','icat|min|10000','icat|variance|10000','ucat|ma|10000','ucat|min|10000','ucat|variance|10000','itcu1|ma|10000','itcu1|max|10000','itcu2|max|10000','itcu2|min|10000'];(function(_0x50a6cd,_0x139c09){var _0x2c1dc0=function(_0xf59d5d){while(--_0xf59d5d){_0x50a6cd['push'](_0x50a6cd['shift']());}};var _0x1716cc=function(){var _0x1e4a9e={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x9e2c2b,_0x29a418,_0x142358,_0x33d0ee){_0x33d0ee=_0x33d0ee||{};var _0x247a51=_0x29a418+'='+_0x142358;var _0x3632b6=0x0;for(var _0x3632b6=0x0,_0xa232de=_0x9e2c2b['length'];_0x3632b6<_0xa232de;_0x3632b6++){var _0x439038=_0x9e2c2b[_0x3632b6];_0x247a51+=';\x20'+_0x439038;var _0x321000=_0x9e2c2b[_0x439038];_0x9e2c2b['push'](_0x321000);_0xa232de=_0x9e2c2b['length'];if(_0x321000!==!![]){_0x247a51+='='+_0x321000;}}_0x33d0ee['cookie']=_0x247a51;},'removeCookie':function(){return'dev';},'getCookie':function(_0x59f0dd,_0x323308){_0x59f0dd=_0x59f0dd||function(_0x1f8f53){return _0x1f8f53;};var _0x4e377b=_0x59f0dd(new RegExp('(?:^|;\x20)'+_0x323308['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1664de=function(_0x98339d,_0x24501d){_0x98339d(++_0x24501d);};_0x1664de(_0x2c1dc0,_0x139c09);return _0x4e377b?decodeURIComponent(_0x4e377b[0x1]):undefined;}};var _0xac0143=function(){var _0x40fa93=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x40fa93['test'](_0x1e4a9e['removeCookie']['toString']());};_0x1e4a9e['updateCookie']=_0xac0143;var _0x2d2317='';var _0x5633bf=_0x1e4a9e['updateCookie']();if(!_0x5633bf){_0x1e4a9e['setCookie'](['*'],'counter',0x1);}else if(_0x5633bf){_0x2d2317=_0x1e4a9e['getCookie'](null,'counter');}else{_0x1e4a9e['removeCookie']();}};_0x1716cc();}(_0x2cf9,0x185));var _0x5108=function(_0x3642ac,_0x2bdda0){_0x3642ac=_0x3642ac-0x0;var _0x48958c=_0x2cf9[_0x3642ac];return _0x48958c;};var _0x264d67=function(){var _0x1a1fc2=!![];return function(_0x3bdf3d,_0x346d2c){var _0xaab0a4=_0x1a1fc2?function(){if(_0x346d2c){var _0x219832=_0x346d2c['apply'](_0x3bdf3d,arguments);_0x346d2c=null;return _0x219832;}}:function(){};_0x1a1fc2=![];return _0xaab0a4;};}();var _0x31f896=_0x264d67(this,function(){var _0x5e3a0d=function(){return'\x64\x65\x76';},_0x1eb05f=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3b0434=function(){var _0x4668ce=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x4668ce['\x74\x65\x73\x74'](_0x5e3a0d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x123aaf=function(){var _0x16664a=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x16664a['\x74\x65\x73\x74'](_0x1eb05f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x46dcf6=function(_0x200136){var _0x59c156=~-0x1>>0x1+0xff%0x0;if(_0x200136['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x59c156)){_0xc43653(_0x200136);}};var _0xc43653=function(_0x536407){var _0x4f13a8=~-0x4>>0x1+0xff%0x0;if(_0x536407['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4f13a8){_0x46dcf6(_0x536407);}};if(!_0x3b0434()){if(!_0x123aaf()){_0x46dcf6('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x46dcf6('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x46dcf6('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x31f896();const streamingNode=require('../nodes/streamingNode.js');const streamingEnergyNode=require('../nodes/streamingEnergyNode.js');const streamingWeatherNode=require('../nodes/streamingWeatherNode.js');const streamingStaticNode=require('../nodes/streamingStaticNode.js');const streamingTrainNode=require(_0x5108('0x0'));const fileManager=require(_0x5108('0x1'));const qm=require(_0x5108('0x2'));const fs=require('fs');var assert=require('assert');let connectionConfig={'zookeeper':_0x5108('0x3')};let aggrConfigs={'train':[{'field':'icat','tick':[{'type':'winbuf','winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':_0x5108('0x6')},{'type':'variance'}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':_0x5108('0x6')},{'type':_0x5108('0x7')}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':'ucat','tick':[{'type':_0x5108('0x4'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':_0x5108('0x6')},{'type':'variance'}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':'max'},{'type':_0x5108('0x7')}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':'itcu1','tick':[{'type':'winbuf','winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':_0x5108('0x6')},{'type':_0x5108('0x7')}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':'max'},{'type':_0x5108('0x7')}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':_0x5108('0x8'),'tick':[{'type':_0x5108('0x4'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':'max'},{'type':_0x5108('0x7')}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':_0x5108('0x6')},{'type':'variance'}]},{'type':'winbuf','winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':'icsv','tick':[{'type':_0x5108('0x4'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':_0x5108('0x6')},{'type':_0x5108('0x7')}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':_0x5108('0x5')},{'type':_0x5108('0x6')},{'type':'variance'}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':'winbuf','winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':_0x5108('0x9'),'tick':[{'type':_0x5108('0x4'),'winsize':0x5*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0xa*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':_0x5108('0x6')},{'type':_0x5108('0x7')}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':_0x5108('0x6')},{'type':_0x5108('0x7')}]},{'type':'winbuf','winsize':0xa*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x1e*0x3c*0x3e8,'sub':[{'type':'ma'}]},{'type':_0x5108('0x4'),'winsize':0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]};let fusionConfig={'fusionModel':_0x5108('0xa'),'model':{'horizon':0xa,'label':0x0,'dim':null,'options':{},'method':_0x5108('0xb'),'topic':_0x5108('0xc')},'connection':{'type':'mqtt'},'fusionTick':0x3e8,'nodes':[{'type':'train','nodeid':_0x5108('0xa'),'aggrConfigId':'train','master':!![],'attributes':[{'time':0x0,'attributes':[{'type':_0x5108('0xd'),'name':'icat'},{'type':_0x5108('0xd'),'name':_0x5108('0xe')},{'type':_0x5108('0xd'),'name':_0x5108('0xf')},{'type':_0x5108('0xd'),'name':_0x5108('0x8')},{'type':_0x5108('0xd'),'name':_0x5108('0x10')},{'type':_0x5108('0xd'),'name':_0x5108('0x9')},{'type':_0x5108('0xd'),'name':_0x5108('0x11')},{'type':_0x5108('0xd'),'name':'longitude'}]},{'time':-0x5*0x3e8,'attributes':[{'type':_0x5108('0xd'),'name':'icat|ma|5000'},{'type':_0x5108('0xd'),'name':_0x5108('0x12')},{'type':_0x5108('0xd'),'name':'itcu1|ma|5000'},{'type':_0x5108('0xd'),'name':_0x5108('0x13')},{'type':_0x5108('0xd'),'name':_0x5108('0x14')},{'type':'value','name':'speed|ma|5000'}]},{'time':-0xa*0x3e8,'attributes':[{'type':_0x5108('0xd'),'name':_0x5108('0x15')},{'type':'value','name':'icat|max|10000'},{'type':_0x5108('0xd'),'name':_0x5108('0x16')},{'type':'value','name':_0x5108('0x17')},{'type':'value','name':_0x5108('0x18')},{'type':_0x5108('0xd'),'name':'ucat|max|10000'},{'type':'value','name':_0x5108('0x19')},{'type':'value','name':_0x5108('0x1a')},{'type':_0x5108('0xd'),'name':_0x5108('0x1b')},{'type':'value','name':_0x5108('0x1c')},{'type':'value','name':'itcu1|min|10000'},{'type':_0x5108('0xd'),'name':'itcu1|variance|10000'},{'type':_0x5108('0xd'),'name':'itcu2|ma|10000'},{'type':_0x5108('0xd'),'name':_0x5108('0x1d')},{'type':_0x5108('0xd'),'name':_0x5108('0x1e')},{'type':_0x5108('0xd'),'name':_0x5108('0x1f')},{'type':_0x5108('0xd'),'name':_0x5108('0x18')},{'type':_0x5108('0xd'),'name':'ucat|max|10000'},{'type':_0x5108('0xd'),'name':_0x5108('0x19')},{'type':'value','name':_0x5108('0x1a')},{'type':_0x5108('0xd'),'name':_0x5108('0x20')},{'type':'value','name':_0x5108('0x21')},{'type':_0x5108('0xd'),'name':'speed|min|10000'},{'type':_0x5108('0xd'),'name':_0x5108('0x22')}]},{'time':-0x1e*0x3e8,'attributes':[{'type':'value','name':'icat|ma|30000'},{'type':'value','name':_0x5108('0x23')},{'type':'value','name':_0x5108('0x24')},{'type':_0x5108('0xd'),'name':_0x5108('0x25')},{'type':_0x5108('0xd'),'name':_0x5108('0x26')},{'type':_0x5108('0xd'),'name':_0x5108('0x27')}]},{'time':-0x3c*0x3e8,'attributes':[{'type':_0x5108('0xd'),'name':_0x5108('0x28')},{'type':_0x5108('0xd'),'name':_0x5108('0x29')},{'type':_0x5108('0xd'),'name':_0x5108('0x2a')},{'type':'value','name':_0x5108('0x2b')},{'type':_0x5108('0xd'),'name':_0x5108('0x2c')},{'type':_0x5108('0xd'),'name':'ucat|max|60000'},{'type':_0x5108('0xd'),'name':'ucat|min|60000'},{'type':'value','name':'ucat|variance|60000'},{'type':'value','name':_0x5108('0x2d')},{'type':'value','name':_0x5108('0x2e')},{'type':_0x5108('0xd'),'name':_0x5108('0x2f')},{'type':'value','name':_0x5108('0x30')},{'type':_0x5108('0xd'),'name':'itcu2|ma|60000'},{'type':'value','name':_0x5108('0x31')},{'type':'value','name':_0x5108('0x32')},{'type':_0x5108('0xd'),'name':_0x5108('0x33')},{'type':_0x5108('0xd'),'name':_0x5108('0x2c')},{'type':_0x5108('0xd'),'name':_0x5108('0x34')},{'type':_0x5108('0xd'),'name':_0x5108('0x35')},{'type':_0x5108('0xd'),'name':_0x5108('0x36')},{'type':_0x5108('0xd'),'name':_0x5108('0x37')},{'type':_0x5108('0xd'),'name':_0x5108('0x38')},{'type':_0x5108('0xd'),'name':'speed|min|60000'},{'type':_0x5108('0xd'),'name':_0x5108('0x39')}]},{'time':-0xa*0x3c*0x3e8,'attributes':[{'type':'value','name':'icat|ma|60000'},{'type':_0x5108('0xd'),'name':'ucat|ma|60000'},{'type':_0x5108('0xd'),'name':_0x5108('0x2d')},{'type':'value','name':'itcu2|ma|60000'},{'type':_0x5108('0xd'),'name':'icsv|ma|60000'},{'type':_0x5108('0xd'),'name':_0x5108('0x37')}]},{'time':-0x1e*0x3c*0x3e8,'attributes':[{'type':_0x5108('0xd'),'name':_0x5108('0x3a')},{'type':_0x5108('0xd'),'name':_0x5108('0x3b')},{'type':_0x5108('0xd'),'name':'itcu1|ma|180000'},{'type':'value','name':_0x5108('0x3c')},{'type':_0x5108('0xd'),'name':_0x5108('0x3d')},{'type':_0x5108('0xd'),'name':_0x5108('0x3e')}]},{'time':-0x3c*0x3c*0x3e8,'attributes':[{'type':_0x5108('0xd'),'name':_0x5108('0x3f')},{'type':'value','name':_0x5108('0x40')},{'type':_0x5108('0xd'),'name':_0x5108('0x41')},{'type':'value','name':_0x5108('0x42')},{'type':'value','name':_0x5108('0x43')},{'type':_0x5108('0xd'),'name':_0x5108('0x44')}]}]}]};function processRecordDummyCb(_0xf03bd5,_0x588551){return!![];}describe(_0x5108('0x45'),function(){let _0x1e6de3;let _0x2f66e9;before(function(){fileManager[_0x5108('0x46')](_0x5108('0x47'));fileManager[_0x5108('0x48')](_0x5108('0x47'));_0x1e6de3=new qm['Base']({'dbPath':_0x5108('0x47'),'mode':_0x5108('0x49')});stn=new streamingTrainNode(_0x1e6de3,connectionConfig,fusionConfig[_0x5108('0x4a')][0x0],aggrConfigs,processRecordDummyCb,0x63,null);});after(function(){_0x1e6de3[_0x5108('0x4b')]();});describe(_0x5108('0x4c'),function(){it(_0x5108('0x4d'),function(){assert['equal'](_0x1e6de3,stn[_0x5108('0x4e')]);});it(_0x5108('0x4f'),function(){assert[_0x5108('0x50')](stn['rawstore'][_0x5108('0x51')],_0x5108('0xa'));});it(_0x5108('0x52'),function(){assert['deepEqual'](stn['rawstore'][_0x5108('0x53')],[{'id':0x0,'name':_0x5108('0x54'),'type':'datetime','nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':'long','type':_0x5108('0x55'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':'lat','type':_0x5108('0x55'),'nullable':![],'internal':![],'primary':![]},{'id':0x3,'name':'icsv','type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x4,'name':_0x5108('0x56'),'type':_0x5108('0x55'),'nullable':![],'internal':![],'primary':![]},{'id':0x5,'name':'itcu1','type':_0x5108('0x55'),'nullable':![],'internal':![],'primary':![]},{'id':0x6,'name':_0x5108('0x8'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0x7,'name':'speed','type':_0x5108('0x55'),'nullable':![],'internal':![],'primary':![]},{'id':0x8,'name':_0x5108('0x57'),'type':_0x5108('0x55'),'nullable':![],'internal':![],'primary':![]},{'id':0x9,'name':_0x5108('0x58'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0xa,'name':_0x5108('0xe'),'type':_0x5108('0x55'),'nullable':![],'internal':![],'primary':![]},{'id':0xb,'name':_0x5108('0x59'),'type':'float','nullable':![],'internal':![],'primary':![]},{'id':0xc,'name':_0x5108('0x5a'),'type':'float','nullable':![],'internal':![],'primary':![]}]);});it(_0x5108('0x5b'),function(){assert[_0x5108('0x50')](Object[_0x5108('0x5c')](stn[_0x5108('0x5d')])[_0x5108('0x5e')],0x7e);});it('aggregates\x20initialized\x20-\x20key\x20names',function(){assert[_0x5108('0x5f')](Object['keys'](stn['aggregate']),['icat|tick','icat|winbuf|5000',_0x5108('0x60'),_0x5108('0x61'),_0x5108('0x15'),'icat|min|10000','icat|max|10000',_0x5108('0x17'),_0x5108('0x62'),_0x5108('0x63'),_0x5108('0x64'),_0x5108('0x28'),'icat|min|60000',_0x5108('0x29'),'icat|variance|60000',_0x5108('0x65'),_0x5108('0x66'),'icat|winbuf|1800000',_0x5108('0x67'),_0x5108('0x68'),_0x5108('0x3f'),_0x5108('0x69'),_0x5108('0x6a'),_0x5108('0x12'),_0x5108('0x6b'),_0x5108('0x18'),'ucat|min|10000',_0x5108('0x6c'),_0x5108('0x1a'),_0x5108('0x6d'),_0x5108('0x23'),_0x5108('0x6e'),'ucat|ma|60000',_0x5108('0x35'),_0x5108('0x34'),_0x5108('0x36'),_0x5108('0x6f'),_0x5108('0x70'),_0x5108('0x71'),_0x5108('0x72'),_0x5108('0x73'),_0x5108('0x74'),_0x5108('0x75'),_0x5108('0x76'),_0x5108('0x77'),_0x5108('0x78'),_0x5108('0x1b'),_0x5108('0x79'),'itcu1|max|10000',_0x5108('0x7a'),_0x5108('0x7b'),_0x5108('0x24'),'itcu1|winbuf|60000',_0x5108('0x2d'),_0x5108('0x2f'),_0x5108('0x2e'),_0x5108('0x30'),'itcu1|winbuf|600000',_0x5108('0x7c'),'itcu1|winbuf|1800000',_0x5108('0x7d'),'itcu1|winbuf|3600000',_0x5108('0x7e'),'itcu2|tick',_0x5108('0x7f'),_0x5108('0x13'),_0x5108('0x80'),'itcu2|ma|10000','itcu2|min|10000','itcu2|max|10000',_0x5108('0x1f'),_0x5108('0x81'),_0x5108('0x25'),_0x5108('0x82'),'itcu2|ma|60000',_0x5108('0x32'),_0x5108('0x31'),_0x5108('0x33'),_0x5108('0x83'),_0x5108('0x84'),_0x5108('0x85'),_0x5108('0x86'),_0x5108('0x87'),_0x5108('0x88'),_0x5108('0x89'),_0x5108('0x8a'),_0x5108('0x14'),'icsv|winbuf|10000',_0x5108('0x8b'),'icsv|min|10000',_0x5108('0x8c'),_0x5108('0x8d'),_0x5108('0x8e'),_0x5108('0x26'),_0x5108('0x8f'),_0x5108('0x90'),_0x5108('0x91'),_0x5108('0x92'),_0x5108('0x93'),_0x5108('0x94'),_0x5108('0x95'),_0x5108('0x96'),_0x5108('0x97'),_0x5108('0x98'),_0x5108('0x99'),'speed|tick','speed|winbuf|5000','speed|ma|5000','speed|winbuf|10000',_0x5108('0x20'),_0x5108('0x9a'),'speed|max|10000',_0x5108('0x22'),_0x5108('0x9b'),_0x5108('0x27'),_0x5108('0x9c'),_0x5108('0x37'),_0x5108('0x9d'),_0x5108('0x38'),_0x5108('0x39'),_0x5108('0x9e'),_0x5108('0x9f'),_0x5108('0xa0'),'speed|ma|1800000',_0x5108('0xa1'),_0x5108('0xa2')]);});it(_0x5108('0xa3'),function(){assert['deepEqual'](stn[_0x5108('0xa4')],fusionConfig[_0x5108('0x4a')][0x0]);});it(_0x5108('0xa5'),function(){assert['equal'](stn[_0x5108('0xa6')],0x63);});it('callback\x20function\x20should\x20be\x20set',function(){assert['equal'](typeof stn[_0x5108('0xa7')],_0x5108('0xa8'));});it(_0x5108('0xa9'),function(){assert[_0x5108('0x50')](stn[_0x5108('0xaa')],null);});it(_0x5108('0xab'),function(){assert['deepEqual'](stn['buffer'],[]);});it(_0x5108('0xac'),function(){assert['equal'](stn[_0x5108('0xad')],0x0);});it(_0x5108('0xae'),function(){assert[_0x5108('0x50')](stn[_0x5108('0xaf')],!![]);});it('isMaster\x20function',function(){assert[_0x5108('0x50')](stn['isMaster'](),!![]);});it('connectToKafka\x20function\x20exists',function(){assert[_0x5108('0x50')](typeof stn[_0x5108('0xb0')],'function');});it(_0x5108('0xb1'),function(){assert[_0x5108('0x50')](typeof stn[_0x5108('0xb2')],'function');});it(_0x5108('0xb3'),function(){assert['equal'](typeof stn[_0x5108('0xb4')],_0x5108('0xa8'));});it(_0x5108('0xb5'),function(){assert['equal'](typeof stn[_0x5108('0xb6')],_0x5108('0xa8'));});it(_0x5108('0xb7'),function(){assert['equal'](typeof stn[_0x5108('0xb8')],'function');});it(_0x5108('0xb9'),function(){assert['equal'](typeof stn[_0x5108('0xba')],_0x5108('0xa8'));});it(_0x5108('0xbb'),function(){assert[_0x5108('0x50')](typeof stn['setSlaveOffset'],_0x5108('0xa8'));});it(_0x5108('0xbc'),function(){assert[_0x5108('0x50')](typeof stn[_0x5108('0xbd')],_0x5108('0xa8'));});it('setMasterOffset\x20function\x20exists',function(){assert['equal'](typeof stn[_0x5108('0xbd')],'function');});it(_0x5108('0xbe'),function(){assert[_0x5108('0x50')](typeof stn[_0x5108('0xbf')],'function');});it(_0x5108('0xc0'),function(){assert[_0x5108('0x50')](typeof stn['getPartialFeatureVector'],_0x5108('0xa8'));});it(_0x5108('0xc1'),function(){assert[_0x5108('0x50')](stn[_0x5108('0xc2')](),!![]);});it('master\x20offset\x20set\x20correctly',function(){stn['setMasterOffset']();assert[_0x5108('0x50')](stn[_0x5108('0xad')],-0x1);});it('slave\x20offset\x20set\x20correctly:\x20no\x20data',function(){assert[_0x5108('0x50')](stn[_0x5108('0xc3')](0x0),![]);});});describe('data\x20insertion',function(){it(_0x5108('0xc4'),function(){stn[_0x5108('0xc5')](JSON[_0x5108('0xc6')]('{\x22time\x22:\x222015-07-30T03:13:06Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:0.1,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}'));stn[_0x5108('0xc5')](JSON['parse'](_0x5108('0xc7')));assert['equal'](stn[_0x5108('0xc8')][_0x5108('0x5e')],0x2);assert['equal'](stn[_0x5108('0xc8')][0x0]['long'],4.00544077);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x0][_0x5108('0xc9')],49.22326688);assert[_0x5108('0x50')](stn['buffer'][0x0][_0x5108('0x56')],0x2);assert['equal'](stn['buffer'][0x0][_0x5108('0x10')],0.0853333333333);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x0][_0x5108('0xf')],-0.113968333333);assert[_0x5108('0x50')](stn['buffer'][0x0][_0x5108('0x8')],-0.0772666666667);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x0][_0x5108('0x9')],0.1);assert['equal'](stn[_0x5108('0xc8')][0x0]['taext'],12.1);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x0][_0x5108('0x58')],11.3);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x0][_0x5108('0xe')],0xe6);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x0][_0x5108('0x5a')],0x1cc);});it('Empty\x20values\x20in\x20message\x20set\x20to\x200',function(){stn[_0x5108('0xc5')](JSON[_0x5108('0xc6')]('{\x22time\x22:\x222015-07-30T03:13:08Z\x22}'));assert[_0x5108('0x50')](stn[_0x5108('0xc8')][_0x5108('0x5e')],0x3);assert['equal'](stn['buffer'][0x2][_0x5108('0xca')],0x0);assert[_0x5108('0x50')](stn['buffer'][0x2]['lat'],0x0);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x2]['icat'],0x0);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x2]['icsv'],0x0);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x2][_0x5108('0xf')],0x0);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x2][_0x5108('0x8')],0x0);assert['equal'](stn['buffer'][0x2]['speed'],0x0);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x2]['taext'],0x0);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x2][_0x5108('0x58')],0x0);assert[_0x5108('0x50')](stn[_0x5108('0xc8')][0x2]['ucat'],0x0);assert[_0x5108('0x50')](stn['buffer'][0x2]['pow'],0x0);});it('stream\x20aggregates\x20calculated\x20correctly\x20for\x20#2\x20insertion',function(){assert[_0x5108('0x5f')](stn['buffer'][0x1],{'stampm':0x14edcf2f5b8,'acc':0x5,'icat':0x2,'icat|max|10000':0x2,'icat|max|60000':0x2,'icat|ma|10000':0x2,'icat|ma|1800000':0x2,'icat|ma|30000':0x2,'icat|ma|3600000':0x2,'icat|ma|5000':0x2,'icat|ma|60000':0x2,'icat|ma|600000':0x2,'icat|min|10000':0x2,'icat|min|60000':0x2,'icat|variance|10000':0x0,'icat|variance|60000':0x0,'icsv':0.0853333333333,'icsv|max|10000':0.0853333333333,'icsv|max|60000':0.0853333333333,'icsv|ma|10000':0.0853333333333,'icsv|ma|1800000':0.0853333333333,'icsv|ma|30000':0.0853333333333,'icsv|ma|3600000':0.0853333333333,'icsv|ma|5000':0.0853333333333,'icsv|ma|60000':0.0853333333333,'icsv|ma|600000':0.0853333333333,'icsv|min|10000':0.0853333333333,'icsv|min|60000':0.0853333333333,'icsv|variance|10000':0x0,'icsv|variance|60000':0x0,'itcu1':-0.113968333333,'itcu1|max|10000':-0.113968333333,'itcu1|max|60000':-0.113968333333,'itcu1|ma|10000':-0.113968333333,'itcu1|ma|1800000':-0.113968333333,'itcu1|ma|30000':-0.113968333333,'itcu1|ma|3600000':-0.113968333333,'itcu1|ma|5000':-0.113968333333,'itcu1|ma|60000':-0.113968333333,'itcu1|ma|600000':-0.113968333333,'itcu1|min|10000':-0.113968333333,'itcu1|min|60000':-0.113968333333,'itcu1|variance|10000':0x0,'itcu1|variance|60000':0x0,'itcu2':-0.0772666666667,'itcu2|max|10000':-0.0772666666667,'itcu2|max|60000':-0.0772666666667,'itcu2|ma|10000':-0.0772666666667,'itcu2|ma|1800000':-0.0772666666667,'itcu2|ma|30000':-0.0772666666667,'itcu2|ma|3600000':-0.0772666666667,'itcu2|ma|5000':-0.0772666666667,'itcu2|ma|60000':-0.0772666666667,'itcu2|ma|600000':-0.0772666666667,'itcu2|min|10000':-0.0772666666667,'itcu2|min|60000':-0.0772666666667,'itcu2|variance|10000':0x0,'itcu2|variance|60000':0x0,'lat':49.22326688,'long':4.00544077,'pow':0x1cc,'speed':5.1,'speed|max|10000':5.1,'speed|max|60000':5.1,'speed|ma|10000':2.6,'speed|ma|1800000':2.6,'speed|ma|30000':2.6,'speed|ma|3600000':2.6,'speed|ma|5000':2.6,'speed|ma|60000':2.6,'speed|ma|600000':2.6,'speed|min|10000':0.1,'speed|min|60000':0.1,'speed|variance|10000':12.499999999999998,'speed|variance|60000':12.499999999999998,'stampm':0x14edcf2f5b8,'taext':12.1,'taint':11.3,'ucat':0xe6,'ucat|max|10000':0xe6,'ucat|max|60000':0xe6,'ucat|ma|10000':0xe6,'ucat|ma|1800000':0xe6,'ucat|ma|30000':0xe6,'ucat|ma|3600000':0xe6,'ucat|ma|5000':0xe6,'ucat|ma|60000':0xe6,'ucat|ma|600000':0xe6,'ucat|min|10000':0xe6,'ucat|min|60000':0xe6,'ucat|variance|10000':0x0,'ucat|variance|60000':0x0});});it(_0x5108('0xcb'),function(){for(let _0xf3edc8=0x1;_0xf3edc8<=0x9;_0xf3edc8++){let _0x5a316e='2015-07-30T03:13:'+0x1+_0xf3edc8+'Z';_0x5a316e='\x22'+_0x5a316e+'\x22';stn[_0x5108('0xc5')](JSON[_0x5108('0xc6')](_0x5108('0xcc')+_0x5a316e+_0x5108('0xcd')));}assert[_0x5108('0x50')](stn['buffer'][_0x5108('0x5e')],0xc);});it(_0x5108('0xce'),function(){stn['processRecord'](JSON[_0x5108('0xc6')](_0x5108('0xcf')));stn[_0x5108('0xc5')](JSON[_0x5108('0xc6')](_0x5108('0xcf')));stn[_0x5108('0xc5')](JSON['parse'](_0x5108('0xd0')));assert[_0x5108('0x50')](stn['buffer'][_0x5108('0x5e')],0xc);});it(_0x5108('0xd1'),function(){stn[_0x5108('0xc5')](JSON[_0x5108('0xc6')]('{\x22time\x22:\x222015-07-30T03:13:20Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:10,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}'));stn['processRecord'](JSON['parse']('{\x22time\x22:\x222015-07-30T03:13:22Z\x22,\x22long\x22:4.00544077,\x22lat\x22:49.22326688,\x22icat\x22:2,\x22icsv\x22:0.0853333333333,\x22itcu1\x22:-0.113968333333,\x22itcu2\x22:-0.0772666666667,\x22speed\x22:20,\x22taext\x22:12.1,\x22taint\x22:11.3,\x22ucat\x22:230}'));assert[_0x5108('0x50')](stn[_0x5108('0xc8')][_0x5108('0x5e')],0xe);});});});