const a0_0x3590=['check\x20store\x20structure','duplicate\x20insertions\x20test','getAggregates','v|winbuf|21600000','connectToKafka','trafficcounter','v|min|21600000','getOffsetTimestamp','datetime','v|ma|604800000','buffer','v|ma|21600000','v|variance|21600000','max','192.168.85.98:2181','./db4/','equal','carno|ma|604800000','v|min|86400000','stream\x20aggregates\x20calculated\x20correctly\x20for\x20#2\x20insertion','keys','processRecord','min','return\x20/\x22\x20+\x20this\x20+\x20\x22/','carno|max|21600000','../nodes/streamingTimeValueNode.js','base','offsetExists','buffer\x20empty','length','carno|min|21600000','{\x22stampm\x22:\x201468493072000,\x20\x22carno\x22:\x201.0,\x20\x22v\x22:\x202\x20}','master\x20flag\x20set\x20correctly','function','carno','v|max|21600000','carno|winbuf|86400000','value','../nodes/streamingSmartLampNode.js','../nodes/streamingWeatherNode.js','getPartialFeatureVector\x20function\x20exists','../nodes/streamingNode.js','isMaster\x20function','variance','{\x22stampm\x22:\x201468493073000}','config','broadcastAggregates','v|variance|86400000','checkDataAvailability','parent','setSlaveOffset','{\x22stampm\x22:','slave\x20offset\x20set\x20correctly:\x20no\x20data','rawstore','{\x22stampm\x22:\x201468493071000,\x20\x22carno\x22:\x200.0,\x20\x22v\x22:\x201\x20}','setMasterOffset','Base','processRecordCb','fusionNodeI\x20correctly\x20saved','streamingTrafficCounterNode','createAggregates\x20function\x20exists','float','broadcastAggregates\x20function\x20exists','position','data\x20insertion',',\x22v\x22:\x20','v|ma|21600','carno|tick','carno|ma|86400000','aggregate','deepEqual','isMaster','callback\x20function\x20should\x20be\x20set','9\x20more\x20data\x20insertions','nodes','carno|variance|21600000','parse','initialization','carno|max|86400000','createFolder','master\x20set\x20correctly','carno|min|86400000','../nodes/streamingEnergyNode.js','name','carno|variance|86400000','connectToKafka\x20function\x20exists','test','config\x20saved','check\x20if\x20store\x20exists','close','aggregates\x20initialized\x20-\x20key\x20names','carno|ma|21600000','deleteObsoleteRows\x20function\x20exists','qminer','v|winbuf|86400000','setSlaveOffset\x20function\x20exists','createAggregates','mqtt','fields','checkDataAvailability\x20function\x20exists','getAggregates\x20function\x20exists','v|tick','removeFolder','createClean','aggregates\x20initialized\x20-\x20number','winbuf','Empty\x20values\x20in\x20message\x20set\x20to\x200'];(function(_0x206a22,_0x359021){const _0x7cf9bd=function(_0x41c981){while(--_0x41c981){_0x206a22['push'](_0x206a22['shift']());}},_0x44694c=function(){const _0x47837a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4448dc,_0x41fb31,_0x3dc602,_0x5003e2){_0x5003e2=_0x5003e2||{};let _0x4ec29f=_0x41fb31+'='+_0x3dc602,_0x5d137b=0x0;for(let _0x2641cb=0x0,_0x4fb103=_0x4448dc['length'];_0x2641cb<_0x4fb103;_0x2641cb++){const _0x5673eb=_0x4448dc[_0x2641cb];_0x4ec29f+=';\x20'+_0x5673eb;const _0x382b71=_0x4448dc[_0x5673eb];_0x4448dc['push'](_0x382b71),_0x4fb103=_0x4448dc['length'],_0x382b71!==!![]&&(_0x4ec29f+='='+_0x382b71);}_0x5003e2['cookie']=_0x4ec29f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x91715,_0x1c4388){_0x91715=_0x91715||function(_0x75d91f){return _0x75d91f;};const _0x646127=_0x91715(new RegExp('(?:^|;\x20)'+_0x1c4388['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),_0x537735=function(_0x39115d,_0x5b88eb){_0x39115d(++_0x5b88eb);};return _0x537735(_0x7cf9bd,_0x359021),_0x646127?decodeURIComponent(_0x646127[0x1]):undefined;}},_0x583dd4=function(){const _0x56e5b6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x56e5b6['test'](_0x47837a['removeCookie']['toString']());};_0x47837a['updateCookie']=_0x583dd4;let _0x1515ca='';const _0x3a4a83=_0x47837a['updateCookie']();if(!_0x3a4a83)_0x47837a['setCookie'](['*'],'counter',0x1);else _0x3a4a83?_0x1515ca=_0x47837a['getCookie'](null,'counter'):_0x47837a['removeCookie']();};_0x44694c();}(a0_0x3590,0xec));const a0_0x7cf9=function(_0x206a22,_0x359021){_0x206a22=_0x206a22-0x0;let _0x7cf9bd=a0_0x3590[_0x206a22];return _0x7cf9bd;};const a0_0x3dc602=function(){let _0x23ca31=!![];return function(_0x52a3d5,_0x31f785){const _0x358c4d=_0x23ca31?function(){if(_0x31f785){const _0x35734b=_0x31f785['apply'](_0x52a3d5,arguments);return _0x31f785=null,_0x35734b;}}:function(){};return _0x23ca31=![],_0x358c4d;};}(),a0_0x41fb31=a0_0x3dc602(this,function(){const _0x1b31d8=function(){const _0x4d6b1e=_0x1b31d8['constructor'](a0_0x7cf9('0x1'))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4d6b1e[a0_0x7cf9('0x40')](a0_0x41fb31);};return _0x1b31d8();});a0_0x41fb31();const streamingNode=require(a0_0x7cf9('0x13')),streamingEnergyNode=require(a0_0x7cf9('0x3c')),streamingWeatherNode=require(a0_0x7cf9('0x11')),streamingStaticNode=require('../nodes/streamingStaticNode.js'),streamingTimeValueNode=require(a0_0x7cf9('0x3')),streamingSmartLampNode=require(a0_0x7cf9('0x10')),streamingTrafficCounterNode=require('../nodes/streamingTrafficCounterNode.js'),fileManager=require('../common/utils/fileManager.js'),qm=require(a0_0x7cf9('0x47')),fs=require('fs');var assert=require('assert');let connectionConfig={'zookeeper':a0_0x7cf9('0x63')},aggrConfigs={'trafficcounter':[{'field':'carno','tick':[{'type':a0_0x7cf9('0x53'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':'max'},{'type':'variance'}]},{'type':'winbuf','winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':'min'},{'type':'max'},{'type':a0_0x7cf9('0x15')}]},{'type':a0_0x7cf9('0x53'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]},{'field':'v','tick':[{'type':a0_0x7cf9('0x53'),'winsize':0x6*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x7cf9('0x0')},{'type':a0_0x7cf9('0x62')},{'type':'variance'}]},{'type':a0_0x7cf9('0x53'),'winsize':0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'},{'type':a0_0x7cf9('0x0')},{'type':a0_0x7cf9('0x62')},{'type':'variance'}]},{'type':a0_0x7cf9('0x53'),'winsize':0x7*0x18*0x3c*0x3c*0x3e8,'sub':[{'type':'ma'}]}]}]},fusionConfig={'fusionModel':'trafficcounter','connection':{'type':a0_0x7cf9('0x4b')},'fusionTick':0x3c*0x3c*0x3e8,'nodes':[{'type':a0_0x7cf9('0x5a'),'nodeid':a0_0x7cf9('0x5a'),'aggrConfigId':'trafficcounter','master':!![],'attributes':[{'time':0x0,'attributes':[{'type':a0_0x7cf9('0xf'),'name':a0_0x7cf9('0xc')},{'type':a0_0x7cf9('0xf'),'name':a0_0x7cf9('0x2c')},{'type':a0_0x7cf9('0xf'),'name':a0_0x7cf9('0x2e')},{'type':'value','name':a0_0x7cf9('0x3b')},{'type':a0_0x7cf9('0xf'),'name':'carno|max|86400000'},{'type':a0_0x7cf9('0xf'),'name':a0_0x7cf9('0x3e')}]},{'time':-0x18*0x3c*0x3c*0x3e8,'attributes':[{'type':a0_0x7cf9('0xf'),'name':a0_0x7cf9('0xc')},{'type':'value','name':'v'},{'type':a0_0x7cf9('0xf'),'name':'carno|ma|86400000'},{'type':a0_0x7cf9('0xf'),'name':a0_0x7cf9('0x3b')},{'type':a0_0x7cf9('0xf'),'name':a0_0x7cf9('0x38')},{'type':'value','name':a0_0x7cf9('0x3e')}]}]}]};function processRecordDummyCb(_0x759d80,_0x4851e7){return!![];}describe(a0_0x7cf9('0x25'),function(){let _0x441cbe,_0x396e71;before(function(){fileManager[a0_0x7cf9('0x50')](a0_0x7cf9('0x64')),fileManager[a0_0x7cf9('0x39')](a0_0x7cf9('0x64')),_0x441cbe=new qm[(a0_0x7cf9('0x22'))]({'dbPath':a0_0x7cf9('0x64'),'mode':a0_0x7cf9('0x51')}),stcn=new streamingTrafficCounterNode(_0x441cbe,connectionConfig,fusionConfig['nodes'][0x0],aggrConfigs,processRecordDummyCb,0x63,null);}),after(function(){_0x441cbe[a0_0x7cf9('0x43')]();}),describe(a0_0x7cf9('0x37'),function(){it('base\x20saved',function(){assert[a0_0x7cf9('0x65')](_0x441cbe,stcn[a0_0x7cf9('0x4')]);}),it(a0_0x7cf9('0x42'),function(){assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x1f')][a0_0x7cf9('0x3d')],a0_0x7cf9('0x5a'));}),it(a0_0x7cf9('0x55'),function(){assert[a0_0x7cf9('0x30')](stcn[a0_0x7cf9('0x1f')][a0_0x7cf9('0x4c')],[{'id':0x0,'name':'Time','type':a0_0x7cf9('0x5d'),'nullable':![],'internal':![],'primary':![]},{'id':0x1,'name':a0_0x7cf9('0xc'),'type':a0_0x7cf9('0x27'),'nullable':![],'internal':![],'primary':![]},{'id':0x2,'name':'v','type':a0_0x7cf9('0x27'),'nullable':![],'internal':![],'primary':![]}]);}),it(a0_0x7cf9('0x52'),function(){assert[a0_0x7cf9('0x65')](Object[a0_0x7cf9('0x69')](stcn[a0_0x7cf9('0x2f')])[a0_0x7cf9('0x7')],0x1a);}),it(a0_0x7cf9('0x44'),function(){assert[a0_0x7cf9('0x30')](Object[a0_0x7cf9('0x69')](stcn[a0_0x7cf9('0x2f')]),[a0_0x7cf9('0x2d'),'carno|winbuf|21600000',a0_0x7cf9('0x45'),a0_0x7cf9('0x8'),a0_0x7cf9('0x2'),a0_0x7cf9('0x35'),a0_0x7cf9('0xe'),'carno|ma|86400000',a0_0x7cf9('0x3b'),a0_0x7cf9('0x38'),a0_0x7cf9('0x3e'),'carno|winbuf|604800000',a0_0x7cf9('0x66'),a0_0x7cf9('0x4f'),a0_0x7cf9('0x58'),a0_0x7cf9('0x60'),a0_0x7cf9('0x5b'),a0_0x7cf9('0xd'),a0_0x7cf9('0x61'),a0_0x7cf9('0x48'),'v|ma|86400000',a0_0x7cf9('0x67'),'v|max|86400000',a0_0x7cf9('0x19'),'v|winbuf|604800000',a0_0x7cf9('0x5e')]);}),it(a0_0x7cf9('0x41'),function(){assert['deepEqual'](stcn[a0_0x7cf9('0x17')],fusionConfig[a0_0x7cf9('0x34')][0x0]);}),it(a0_0x7cf9('0x24'),function(){assert[a0_0x7cf9('0x65')](stcn['fusionNodeI'],0x63);}),it(a0_0x7cf9('0x32'),function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x23')],a0_0x7cf9('0xb'));}),it('parent\x20saved',function(){assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x1b')],null);}),it(a0_0x7cf9('0x6'),function(){assert[a0_0x7cf9('0x30')](stcn[a0_0x7cf9('0x5f')],[]);}),it('buffer\x20position\x20is\x200',function(){assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x29')],0x0);}),it(a0_0x7cf9('0xa'),function(){assert[a0_0x7cf9('0x65')](stcn['master'],!![]);}),it(a0_0x7cf9('0x14'),function(){assert['equal'](stcn['isMaster'](),!![]);}),it(a0_0x7cf9('0x3f'),function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x59')],a0_0x7cf9('0xb'));}),it(a0_0x7cf9('0x28'),function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x18')],a0_0x7cf9('0xb'));}),it(a0_0x7cf9('0x26'),function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x4a')],a0_0x7cf9('0xb'));}),it('offsetExists\x20function\x20exists',function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x5')],a0_0x7cf9('0xb'));}),it(a0_0x7cf9('0x46'),function(){assert[a0_0x7cf9('0x65')](typeof stcn['deleteObsoleteRows'],'function');}),it(a0_0x7cf9('0x4d'),function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x1a')],a0_0x7cf9('0xb'));}),it(a0_0x7cf9('0x49'),function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x1c')],a0_0x7cf9('0xb'));}),it('getOffsetTimestamp\x20function\x20exists',function(){assert['equal'](typeof stcn[a0_0x7cf9('0x5c')],a0_0x7cf9('0xb'));}),it('setMasterOffset\x20function\x20exists',function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x5c')],a0_0x7cf9('0xb'));}),it(a0_0x7cf9('0x4e'),function(){assert[a0_0x7cf9('0x65')](typeof stcn[a0_0x7cf9('0x57')],a0_0x7cf9('0xb'));}),it(a0_0x7cf9('0x12'),function(){assert[a0_0x7cf9('0x65')](typeof stcn['getPartialFeatureVector'],a0_0x7cf9('0xb'));}),it(a0_0x7cf9('0x3a'),function(){assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x31')](),!![]);}),it('master\x20offset\x20set\x20correctly',function(){stcn[a0_0x7cf9('0x21')](),assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x29')],-0x1);}),it(a0_0x7cf9('0x1e'),function(){assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x1c')](0x0),![]);});}),describe(a0_0x7cf9('0x2a'),function(){it('data\x20record\x20saved\x20correctly',function(){stcn['processRecord'](JSON[a0_0x7cf9('0x36')](a0_0x7cf9('0x20'))),stcn[a0_0x7cf9('0x6a')](JSON[a0_0x7cf9('0x36')](a0_0x7cf9('0x9'))),assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x5f')][a0_0x7cf9('0x7')],0x2),assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x5f')][0x0]['carno'],0x0),assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x5f')][0x1][a0_0x7cf9('0xc')],0x1),assert['equal'](stcn[a0_0x7cf9('0x5f')][0x1]['v'],0x2);}),it(a0_0x7cf9('0x54'),function(){stcn[a0_0x7cf9('0x6a')](JSON[a0_0x7cf9('0x36')](a0_0x7cf9('0x16'))),assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x5f')][a0_0x7cf9('0x7')],0x3),assert['equal'](stcn[a0_0x7cf9('0x5f')][0x2][a0_0x7cf9('0xc')],0x0);}),it(a0_0x7cf9('0x68'),function(){assert[a0_0x7cf9('0x30')](stcn[a0_0x7cf9('0x5f')][0x1],{'stampm':0x155e9020680,'carno':0x1,'carno|max|21600000':0x1,'carno|max|86400000':0x1,'carno|ma|21600000':0.5,'carno|ma|604800000':0.5,'carno|ma|86400000':0.5,'carno|min|21600000':0x0,'carno|min|86400000':0x0,'carno|variance|21600000':0.5,'carno|variance|86400000':0.5,'v':0x2,'v|max|21600000':0x2,'v|max|86400000':0x2,'v|ma|21600000':1.5,'v|ma|604800000':1.5,'v|ma|86400000':1.5,'v|min|21600000':0x1,'v|min|86400000':0x1,'v|variance|21600000':0.5,'v|variance|86400000':0.5});}),it(a0_0x7cf9('0x33'),function(){for(let _0x25f69f=0x1;_0x25f69f<=0x9;_0x25f69f++){let _0x4bd2f2=0x155e9020a68+_0x25f69f*0x3e8,_0x37aedd=_0x25f69f+0x1,_0x51b7bb=_0x25f69f+0x2;stcn[a0_0x7cf9('0x6a')](JSON[a0_0x7cf9('0x36')](a0_0x7cf9('0x1d')+_0x4bd2f2+',\x22carno\x22:\x20'+_0x37aedd+a0_0x7cf9('0x2b')+_0x51b7bb+'}'));}assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x5f')]['length'],0xc),assert[a0_0x7cf9('0x30')](stcn['buffer'][0xb],{'stampm':0x155e9022d90,'carno':0xa,'carno|max|21600000':0xa,'carno|max|86400000':0xa,'carno|ma|21600000':4.583333333333333,'carno|ma|604800000':4.583333333333333,'carno|ma|86400000':4.583333333333333,'carno|min|21600000':0x0,'carno|min|86400000':0x0,'carno|variance|21600000':12.083333333333336,'carno|variance|86400000':12.083333333333336,'v':0xb,'v|max|21600000':0xb,'v|max|86400000':0xb,'v|ma|21600000':5.5,'v|ma|604800000':5.5,'v|ma|86400000':5.5,'v|min|21600000':0x0,'v|min|86400000':0x0,'v|variance|21600000':0xd,'v|variance|86400000':0xd});}),it(a0_0x7cf9('0x56'),function(){stcn[a0_0x7cf9('0x6a')](JSON[a0_0x7cf9('0x36')]('{\x22stampm\x22:\x201468493071000,\x20\x22carno\x22:\x200.0,\x20\x22v\x22:\x201\x20}')),stcn[a0_0x7cf9('0x6a')](JSON[a0_0x7cf9('0x36')](a0_0x7cf9('0x9'))),assert[a0_0x7cf9('0x65')](stcn[a0_0x7cf9('0x5f')]['length'],0xc);});});});