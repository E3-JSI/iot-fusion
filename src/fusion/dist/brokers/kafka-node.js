var _0xd254=['Connecting\x20to\x20Kafka:\x20','Consumer','client','offset','Offset','consumer','message','parse','value','Message\x20Error:\x20','error','Consumer\x20Error:\x20','offsetOutOfRange','outOfRange','maxNum','min','partition','publish','send','Publish\x20to\x20Kafka:\x20(err)',',\x20(data)','exports','addPublisher','StreamFusion\x20HLP\x20for\x20Kafka:\x20','topic','HighLevelProducer','KafkaClient','config','kafka','producer','addListener','log'];(function(_0x3a6bb9,_0x56c15e){var _0x4954c7=function(_0x2eacd7){while(--_0x2eacd7){_0x3a6bb9['push'](_0x3a6bb9['shift']());}};var _0x6f28bd=function(){var _0x4362c3={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2b7a64,_0x2e78d8,_0x584655,_0x295d91){_0x295d91=_0x295d91||{};var _0x3e207d=_0x2e78d8+'='+_0x584655;var _0x5b479a=0x0;for(var _0x5b479a=0x0,_0x3944ac=_0x2b7a64['length'];_0x5b479a<_0x3944ac;_0x5b479a++){var _0x2b302a=_0x2b7a64[_0x5b479a];_0x3e207d+=';\x20'+_0x2b302a;var _0x4d9ab1=_0x2b7a64[_0x2b302a];_0x2b7a64['push'](_0x4d9ab1);_0x3944ac=_0x2b7a64['length'];if(_0x4d9ab1!==!![]){_0x3e207d+='='+_0x4d9ab1;}}_0x295d91['cookie']=_0x3e207d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1ecb9c,_0x41bac7){_0x1ecb9c=_0x1ecb9c||function(_0x11f2c6){return _0x11f2c6;};var _0xf99529=_0x1ecb9c(new RegExp('(?:^|;\x20)'+_0x41bac7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x358ece=function(_0x4ac25d,_0x41efc4){_0x4ac25d(++_0x41efc4);};_0x358ece(_0x4954c7,_0x56c15e);return _0xf99529?decodeURIComponent(_0xf99529[0x1]):undefined;}};var _0x1dfb1e=function(){var _0x4954a1=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4954a1['test'](_0x4362c3['removeCookie']['toString']());};_0x4362c3['updateCookie']=_0x1dfb1e;var _0x2c5027='';var _0x21b83e=_0x4362c3['updateCookie']();if(!_0x21b83e){_0x4362c3['setCookie'](['*'],'counter',0x1);}else if(_0x21b83e){_0x2c5027=_0x4362c3['getCookie'](null,'counter');}else{_0x4362c3['removeCookie']();}};_0x6f28bd();}(_0xd254,0x156));var _0x1177=function(_0x434315,_0x4a1a27){_0x434315=_0x434315-0x0;var _0x277055=_0xd254[_0x434315];return _0x277055;};var _0x3dc4db=function(){var _0x5ab118=!![];return function(_0x31b25f,_0x24d4f0){var _0x2d0405=_0x5ab118?function(){if(_0x24d4f0){var _0x2add14=_0x24d4f0['apply'](_0x31b25f,arguments);_0x24d4f0=null;return _0x2add14;}}:function(){};_0x5ab118=![];return _0x2d0405;};}();var _0x188edd=_0x3dc4db(this,function(){var _0x408c19=function(){return'\x64\x65\x76';},_0x5e73f5=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x12c0d3=function(){var _0x841d33=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x841d33['\x74\x65\x73\x74'](_0x408c19['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x554fb7=function(){var _0x141824=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x141824['\x74\x65\x73\x74'](_0x5e73f5['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x37a123=function(_0x5cf209){var _0x29d6e0=~-0x1>>0x1+0xff%0x0;if(_0x5cf209['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x29d6e0)){_0x283e4b(_0x5cf209);}};var _0x283e4b=function(_0x22c70a){var _0x155e0f=~-0x4>>0x1+0xff%0x0;if(_0x22c70a['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x155e0f){_0x37a123(_0x22c70a);}};if(!_0x12c0d3()){if(!_0x554fb7()){_0x37a123('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x37a123('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x37a123('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x188edd();let Broker=require('./abstract.js');const kafka=require('kafka-node');class KafkaNodeBroker extends Broker{constructor(_0x1a629a,_0x189b35,_0xfa780){super(_0x1a629a,_0x189b35,_0xfa780);}[_0x1177('0x0')](){console['log'](_0x1177('0x1')+this[_0x1177('0x2')]);let _0x3536fa=kafka[_0x1177('0x3')];let _0x3490f1=new kafka[(_0x1177('0x4'))]({'kafkaHost':this[_0x1177('0x5')][_0x1177('0x6')]});this[_0x1177('0x7')]=new _0x3536fa(_0x3490f1);}[_0x1177('0x8')](_0x53ef5e){console[_0x1177('0x9')](_0x1177('0xa')+this['topic']);this[_0x1177('0xb')]=kafka[_0x1177('0xb')];this[_0x1177('0xc')]=new kafka[(_0x1177('0x4'))]({'kafkaHost':this[_0x1177('0x5')][_0x1177('0x6')]});this[_0x1177('0xd')]=new kafka[(_0x1177('0xe'))](this[_0x1177('0xc')]);let _0x74cf47=this;this['consumer']=new this[(_0x1177('0xb'))](this[_0x1177('0xc')],[{'topic':this[_0x1177('0x2')],'partition':0x0}],{'groupId':this['id']});this[_0x1177('0xf')]['on'](_0x1177('0x10'),function(_0x3e6afd){try{let _0x486779=JSON[_0x1177('0x11')](_0x3e6afd[_0x1177('0x12')]);_0x53ef5e(_0x486779);}catch(_0x42b3e1){console[_0x1177('0x9')](_0x1177('0x13'),_0x42b3e1[_0x1177('0x10')]);}});this['consumer']['on'](_0x1177('0x14'),function(_0x5aadbc){console[_0x1177('0x9')](_0x1177('0x15'),_0x5aadbc['message']);});this['consumer']['on'](_0x1177('0x16'),function(_0x20401f){console[_0x1177('0x9')](_0x74cf47['id'],_0x1177('0x17'),_0x20401f);_0x20401f[_0x1177('0x18')]=0x2;_0x74cf47[_0x1177('0xd')]['fetch']([_0x20401f],function(_0x481919,_0x117e20){if(_0x481919){return console[_0x1177('0x14')](_0x481919);}var _0x37c188=Math[_0x1177('0x19')](_0x117e20[_0x20401f['topic']][_0x20401f[_0x1177('0x1a')]]);console[_0x1177('0x9')](_0x74cf47);_0x74cf47[_0x1177('0xf')]['setOffset'](_0x20401f['topic'],_0x20401f[_0x1177('0x1a')],_0x37c188);});});}[_0x1177('0x1b')](_0x4ba623){this['producer'][_0x1177('0x1c')]([{'topic':this[_0x1177('0x2')],'messages':_0x4ba623}],function(_0x2418d3,_0x3a1005){console[_0x1177('0x9')](_0x1177('0x1d'),_0x2418d3,_0x1177('0x1e'),_0x3a1005);});}}module[_0x1177('0x1f')]=KafkaNodeBroker;