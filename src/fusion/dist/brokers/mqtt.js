var _0x550c=['StreamFusion\x20MQTT\x20producer:\x20','topic','publishTopic','subscribe','message','publish','TOPIC:\x20','stringify','exports','./abstract.js','mqtt','log','Constructor\x20MQTT\x20-\x20client\x20id:\x20','clientId','config','client','connect','error','MQTT\x20Error','addPublisher'];(function(_0x5c2fa1,_0x291fea){var _0x30dab4=function(_0x5d3c71){while(--_0x5d3c71){_0x5c2fa1['push'](_0x5c2fa1['shift']());}};var _0x430693=function(){var _0x22e5dd={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x19111e,_0x3962fa,_0x2f8e71,_0x587617){_0x587617=_0x587617||{};var _0x3b440b=_0x3962fa+'='+_0x2f8e71;var _0x59b0e7=0x0;for(var _0x59b0e7=0x0,_0x459690=_0x19111e['length'];_0x59b0e7<_0x459690;_0x59b0e7++){var _0x11377f=_0x19111e[_0x59b0e7];_0x3b440b+=';\x20'+_0x11377f;var _0x494c3c=_0x19111e[_0x11377f];_0x19111e['push'](_0x494c3c);_0x459690=_0x19111e['length'];if(_0x494c3c!==!![]){_0x3b440b+='='+_0x494c3c;}}_0x587617['cookie']=_0x3b440b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1ca0b6,_0x322042){_0x1ca0b6=_0x1ca0b6||function(_0x45caab){return _0x45caab;};var _0x3a0390=_0x1ca0b6(new RegExp('(?:^|;\x20)'+_0x322042['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x4a3693=function(_0x1cf37e,_0x1a6695){_0x1cf37e(++_0x1a6695);};_0x4a3693(_0x30dab4,_0x291fea);return _0x3a0390?decodeURIComponent(_0x3a0390[0x1]):undefined;}};var _0x8a3a72=function(){var _0x4477e5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4477e5['test'](_0x22e5dd['removeCookie']['toString']());};_0x22e5dd['updateCookie']=_0x8a3a72;var _0x1d793b='';var _0x5cf8d8=_0x22e5dd['updateCookie']();if(!_0x5cf8d8){_0x22e5dd['setCookie'](['*'],'counter',0x1);}else if(_0x5cf8d8){_0x1d793b=_0x22e5dd['getCookie'](null,'counter');}else{_0x22e5dd['removeCookie']();}};_0x430693();}(_0x550c,0xd1));var _0x56ae=function(_0x109e8d,_0x1986f9){_0x109e8d=_0x109e8d-0x0;var _0x4c4f9c=_0x550c[_0x109e8d];return _0x4c4f9c;};var _0x5be702=function(){var _0x299b5a=!![];return function(_0x2c4e61,_0x30fa5d){var _0x14ed10=_0x299b5a?function(){if(_0x30fa5d){var _0x4601ed=_0x30fa5d['apply'](_0x2c4e61,arguments);_0x30fa5d=null;return _0x4601ed;}}:function(){};_0x299b5a=![];return _0x14ed10;};}();var _0x52a03d=_0x5be702(this,function(){var _0x43f41f=function(){return'\x64\x65\x76';},_0x3d1c26=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x60fb16=function(){var _0x197046=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x197046['\x74\x65\x73\x74'](_0x43f41f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x30686b=function(){var _0x5565cd=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5565cd['\x74\x65\x73\x74'](_0x3d1c26['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x534451=function(_0x513a2b){var _0x2cfb70=~-0x1>>0x1+0xff%0x0;if(_0x513a2b['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2cfb70)){_0x592588(_0x513a2b);}};var _0x592588=function(_0x24be3a){var _0x28c268=~-0x4>>0x1+0xff%0x0;if(_0x24be3a['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x28c268){_0x534451(_0x24be3a);}};if(!_0x60fb16()){if(!_0x30686b()){_0x534451('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x534451('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x534451('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x52a03d();let Broker=require(_0x56ae('0x0'));const mqtt=require(_0x56ae('0x1'));class MQTTBroker extends Broker{constructor(_0x33748d,_0x3e4c21,_0x5c685e){console[_0x56ae('0x2')](_0x56ae('0x3')+_0x33748d[_0x56ae('0x4')],_0x5c685e);super(_0x33748d,_0x3e4c21,_0x5c685e);this[_0x56ae('0x5')]['clientId']=this[_0x56ae('0x5')][_0x56ae('0x4')]+_0x5c685e;this[_0x56ae('0x6')]=mqtt[_0x56ae('0x7')](this['config']['mqttEndpoint'],this[_0x56ae('0x5')]);this['client']['on'](_0x56ae('0x8'),function(_0x432180){console[_0x56ae('0x2')](_0x56ae('0x9'),_0x432180);});}[_0x56ae('0xa')](){console['log'](_0x56ae('0xb')+this[_0x56ae('0xc')]);this[_0x56ae('0xd')]=this['topic'];}['addListener'](_0xe42b77){console['log']('StreamFusion\x20MQTT\x20listener:\x20'+this[_0x56ae('0xc')]);this[_0x56ae('0x6')][_0x56ae('0xe')](this[_0x56ae('0xc')],{'qos':0x2});this[_0x56ae('0x6')]['on'](_0x56ae('0xf'),function(_0x4a4c56,_0x50dfb2){try{_0xe42b77(JSON['parse'](_0x50dfb2));}catch(_0x4cfe67){console[_0x56ae('0x2')](_0x4cfe67);}});}[_0x56ae('0x10')](_0xd5b662){console[_0x56ae('0x2')](_0x56ae('0x11'),this[_0x56ae('0xd')],'MESSAGE:\x20',_0xd5b662);this[_0x56ae('0x6')][_0x56ae('0x10')](this[_0x56ae('0xd')],JSON[_0x56ae('0x12')](_0xd5b662));}}module[_0x56ae('0x13')]=MQTTBroker;